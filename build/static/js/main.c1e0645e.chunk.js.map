{"version":3,"sources":["components/SF/svg/folder.svg","components/SF/svg/Papirus-Team-Papirus-audio.svg","components/SF/svg/Papirus-Team-Papirus-Mimetypes-App-x-msdos-program.svg","components/SF/svg/Papirus-Team-Papirus-compress.svg","components/SF/svg/Papirus-Team-Papirus-html.svg","components/SF/svg/Papirus-Team-Papirus-ImageGeneric.svg","components/SF/svg/Papirus-Team-Papirus-iso.svg","components/SF/svg/Papirus-Team-Papirus-json.svg","components/SF/svg/Papirus-Team-Papirus-Mimetypes-App-x-javascript.svg","components/SF/svg/Papirus-Team-Papirus-Mimetypes-X-office-document.svg","components/SF/svg/Papirus-Team-Papirus-Mimetypes-X-office-presentation.svg","components/SF/svg/Papirus-Team-Papirus-Mimetypes-X-office-spreadsheet.svg","components/SF/svg/Papirus-Team-Papirus-pdf.svg","components/SF/svg/Paomedia-Small-N-Flat-Book.svg","components/SF/svg/Paomedia-Small-N-Flat-File-text.svg","components/SF/svg/Papirus-Team-Papirus-Mimetypes-Text-x-java.svg","components/SF/svg/Papirus-Team-Papirus-video.svg","components/SF/svg/Papirus-Team-Papirus-zerosize.svg","components/SF/Media/background_study_by_hibelton_dc28kuo-fullview.jpg","components/SF/helpers.jsx","components/Err/RequireLogin.jsx","components/SF/Context.jsx","components/Files/Files.jsx","components/Files/Modals/FileInfoModal.jsx","components/Files/Modals/UploadFileModal.jsx","components/Files/Search.jsx","components/Login/Login.jsx","components/Login/Recover.jsx","components/Profile/Profile.jsx","components/Admin/Users/ChangePasswordDialog.jsx","components/Profile/ProfileSettings.jsx","components/Register/Register.jsx","components/Reproductor/Reproductor.jsx","components/Sidebar/Sidebar.jsx","components/TopBar/TopBar.jsx","components/Err/NotFound.jsx","components/Admin/Details.jsx","components/Admin/tableStyles.jsx","components/Admin/Files/FilesTable.jsx","components/Admin/Users/UsersTable.jsx","components/Admin/Reports/Reports.jsx","components/Admin/Admin.jsx","components/SF/ProtectedRoute.jsx","App.jsx","serviceWorker.js","index.js"],"names":["module","exports","reactLink","React","forwardRef","props","ref","innerRef","displayName","handleFetch","response","json","then","ok","Promise","reject","getIcon","isFile","ext","folder","pic","program","audio","video","compress","js","jar","iso","pdf","text","book","doc","pp","excel","html","zerosize","postFile","data","a","fileField","isNaN","formData","FormData","append","fileFieldName","fetch","method","headers","Authorization","localStorage","getItem","enctype","body","newFolder","folderName","JSON","stringify","name","useStyles","makeStyles","theme","box","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","backgroundImage","backgroundimg1","backgroundRepeat","backgroundSize","backgroundPosition","breakpoints","down","card","minWidth","title","fontSize","pos","marginBottom","grow","flexGrow","bullet","display","margin","transform","RequireLogin","classes","Box","textAlign","width","justifyContent","alignItems","className","Card","CardContent","Typography","variant","component","CardActions","Link","to","underline","fontWeight","initialValue","user","id","usuario","nombre","apellido","pregunta1","pregunta2","desde","nivel","playing","history","search","logStatus","mobileOpen","saduwux","createContext","Provider","reducer","state","action","payload","type","setItem","newState","pop","clear","StoreProvider","children","useReducer","dispatch","value","popper","zIndex","color","image","height","paper","spacing","backgroundColor","paperMod","padding","maxWidth","modal","file","cursor","initialState","open","openModal","progress","total","received","Files","move","setMovingFile","movingFile","useHistory","ino","update","updateFolder","updatePlayer","anchorRef","useRef","prevOpen","nameToShow","length","substring","trim","useEffect","current","focus","handleClickAway","event","contains","target","download","filename","reader","getReader","chunks","get","read","done","push","blob","Blob","url","window","URL","createObjectURL","document","createElement","href","appendChild","click","remove","handleListKeyDown","index","preventDefault","content","Paper","elevation","src","alt","useTheme","style","overflowWrap","Grid","opacity","item","xs","sm","md","lg","aria-controls","undefined","aria-haspopup","onClick","onContextMenu","e","Popper","anchorEl","role","transition","disablePortal","TransitionProps","placement","Grow","transformOrigin","ClickAwayListener","onClickAway","MenuList","autoFocusItem","onKeyDown","MenuItem","paddingTop","FileInfoModal","handleClose","date","Date","lastModified","birthtime","toLocaleString","Dialog","onClose","DialogTitle","container","direction","gutterBottom","wordWrap","upBy","size","root","input","toolbar","maxHeight","position","flexWrap","menuButton","marginRight","darkFocused","borderColor","originalName","reg","RegExp","pattern","ModalContent","changeName","onChange","cleanState","justify","align","TextField","fullWidth","error","inputProps","maxLength","Button","disabled","accept","htmlFor","IconButton","aria-label","UploadFileModal","useContext","console","log","match","fileName","files","normalize","replace","_ext","path","extname","basename","main","overflow","gridTemplateRows","anotherRow","peachColor","bar","sectionDesktop","sectionMobile","movingBar","borderTop","inline","hideOnBig","Alert","message","severity","fileForModal","uploadModal","shouldUpdate","isMoving","folderModal","MovingBar","cancel","spanClass","button","marginTop","typo","disableElevation","startIcon","endIcon","Search","globalState","sort","catch","mistake","handleFileModal","handleUploadModal","closing","uploadFile","reason","onSuccess","mensaje","onError","fileToPost","Fragment","mainClass","AppBar","Toolbar","edge","location","origin","LinearProgress","regex","reduce","filtered","temp","key","items","res","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","arr","byName","byFileType","b","localeCompare","placeContent","palette","grey","borderRadius","form","flexDirection","username","password","isLoading","Login","global","invalid","handleInput","Divider","autoComplete","onSubmit","md5","token","setTimeout","label","required","autoFocus","backButton","bottonContainer","instructions","mRight","activeStep","touched","respuesta1","respuesta2","password2","withRouter","steps","handleChange","handleChangeTrim","Stepper","alternativeLabel","map","Step","StepLabel","id_usuario","err","changePassword","handleQuestions","step","helperText","getStepContent","avatar","green","paddingBottom","boxShadow","list","dark","border","dim","totalSize","parsedSize","chartData","FileChartContent","matches","result","totalValue","COLORS","fontFamily","cx","cy","innerRadius","outerRadius","fill","paddingAngle","dataKey","isAnimationActive","offset","entry","layout","verticalAlign","byIno","Profile","useMediaQuery","up","getClasses","wrap","raised","CardHeader","m","Avatar","mx","FormControlLabel","control","Switch","checked","List","dense","ListItem","ListItemIcon","DescriptionIcon","FolderIcon","ListItemText","primary","secondary","ListItemSecondaryAction","dependency","touched2","error2","ChangePasswordDialog","number","invalidText","valueToUpdate","password1","userID","Boolean","background","tabs","borderRight","divider","minHeight","ExpansionPanel","withStyles","borderBottom","expanded","Accordion","ExpansionPanelSummary","AccordionSummary","ExpansionPanelDetails","AccordionDetails","questions","pregunta","TabPanel","other","hidden","aria-labelledby","userReducer","ProfileSettings","tapProps","getPartialInfo","tab","handleUpdate","setChangePassword","mapPreguntas","P","handleTapChange","getTap","select","Container","Tabs","orientation","indicatorColor","Tab","square","expandIcon","heading","userExist","Register","code","hiden","mixins","route","Reproductor","allow","frameBorder","bgcolor","routes","routesComponents","PlayCircleFilledIcon","AccountCircleIcon","BuildIcon","aside","flexShrink","borderLeft","paddingLeft","paddingRight","Sidebar","useLocation","useState","selectedIndex","setSelectedIndex","pathname","split","x","indexOf","signout","getClass","Drawer","prev","fragment","selected","appBar","drawer","inputRoot","icon","shape","fade","common","white","marginLeft","searchIcon","pointerEvents","inputInput","transitions","create","TopBar","some","includes","InputBase","placeholder","NotFound","actions","dummy","DetailsPieChart","Cells","aspect","nameKey","legendType","iconType","Details","onResponse","loadingComponent","setState","getTime","noun","available","p0","elevation0","imageContainer","table","SelectCell","identifier","FormControl","InputLabel","Select","labelId","TableHeader","columns","columnsMap","i","TableCell","TableHead","TableRow","ConfirmDialog","confirmText","cancelText","dialogContent","tableColumns","fileList","fileToSuspend","FilesTableContainer","criteria","updating","setUpdate","TableContainer","Table","stickyHeader","onChangeSelect","onClickTrash","closeEvent","toggleSuspend","TableContent","rows","collection","cells","col","constent","toString","Tooltip","scope","row","rowClass","TableBody","ImageCell","userList","userToSuspend","UserTableContainer","adminID","users","short","slice","onClickLock","active","report","options","Reports","generateFile","subheader","ListSubheader","CircularProgress","thickness","oveflow","borderBottomColor","drawerPaper","link","AssignmentIcon","primaryText","FolderSpecialIcon","AssignmentIndIcon","HowToRegIcon","ListAltIcon","Admin","snackPack","messageInfo","findIndex","addBar","listItems","handleDrawerToggle","ListItemAvatar","spinner","useDark","Hidden","smUp","implementation","anchor","ModalProps","keepMounted","xsDown","exact","WelcomeAdmin","render","FilesTable","UsersTable","onExit","Spinner","RequestSnack","onExited","ProtectedRoute","requireAdmin","requireLogin","redirectTo","default","fullBackg","backgroundimg4","prins","createMuiTheme","typography","h2","lineHeight","letterSpacing","h4","orange","textPrimary","App","cb","didMount","useFetchUser","usingDark","ThemeProvider","Recover","from","isLocalhost","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","ReactDOM","getElementById","process","addEventListener","contentType","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.c1e0645e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/folder.78445f96.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-audio.4dbf7341.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-Mimetypes-App-x-msdos-program.71a3d0c1.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-compress.48168696.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-html.8b8629d0.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-ImageGeneric.1d8fe391.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-iso.6032e341.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-json.4dde5351.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-Mimetypes-App-x-javascript.f316c01e.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-Mimetypes-X-office-document.d52fc926.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-Mimetypes-X-office-presentation.d209dc93.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-Mimetypes-X-office-spreadsheet.fc0d7531.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-pdf.5fd1241c.svg\";","module.exports = __webpack_public_path__ + \"static/media/Paomedia-Small-N-Flat-Book.276dfa45.svg\";","module.exports = __webpack_public_path__ + \"static/media/Paomedia-Small-N-Flat-File-text.ca4a83c0.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-Mimetypes-Text-x-java.15c53d6e.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-video.41a44ff7.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-zerosize.a1a2034f.svg\";","module.exports = __webpack_public_path__ + \"static/media/background_study_by_hibelton_dc28kuo-fullview.ad58eeea.jpg\";","/**\n * @typedef {import('../SF/typedefs.jsx').inputFile} inputFile\n */\n//SVG\nimport React from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport folder from './svg/folder.svg';\nimport audio from './svg/Papirus-Team-Papirus-audio.svg';\nimport program from './svg/Papirus-Team-Papirus-Mimetypes-App-x-msdos-program.svg';\nimport compress from './svg/Papirus-Team-Papirus-compress.svg';\nimport html from './svg/Papirus-Team-Papirus-html.svg';\nimport pic from './svg/Papirus-Team-Papirus-ImageGeneric.svg';\nimport iso from './svg/Papirus-Team-Papirus-iso.svg';\nimport json from './svg/Papirus-Team-Papirus-json.svg';\nimport js from './svg/Papirus-Team-Papirus-Mimetypes-App-x-javascript.svg';\nimport doc from './svg/Papirus-Team-Papirus-Mimetypes-X-office-document.svg';\nimport pp from './svg/Papirus-Team-Papirus-Mimetypes-X-office-presentation.svg';\nimport excel from './svg/Papirus-Team-Papirus-Mimetypes-X-office-spreadsheet.svg';\nimport pdf from './svg/Papirus-Team-Papirus-pdf.svg';\nimport book from './svg/Paomedia-Small-N-Flat-Book.svg';\nimport text from './svg/Paomedia-Small-N-Flat-File-text.svg';\nimport jar from './svg/Papirus-Team-Papirus-Mimetypes-Text-x-java.svg';\nimport video from './svg/Papirus-Team-Papirus-video.svg';\nimport zerosize from './svg/Papirus-Team-Papirus-zerosize.svg';\n//SVG\n\nexport const reactLink = React.forwardRef((props, ref) => (\n  <RouterLink innerRef={ref} {...props} />\n));\nreactLink.displayName = 'reactLink';\n\nexport const handleFetch = (response) => {\n  return response.json().then((json) => {\n    if (response.ok) return json;\n    else return Promise.reject(json);\n  });\n};\n\n/**\n * Converts the bytes into its correspoding unit in terms of space\n * @param {number} size full size\n * @returns {string} the size\n */\nexport const parseSize = (size) => {\n  if (size < 1024) return `${size.toFixed(2)} Bytes`;\n\n  size = size / 1024;\n  if (size < 1024) return `${size.toFixed(2)} KB`;\n\n  size = size / 1024;\n  if (size < 1024) return `${size.toFixed(2)} MB`;\n\n  size = size / 1024;\n  return `${size.toFixed(2)} GB`;\n};\n\nexport const getIcon = (isFile, ext) => {\n  if (!isFile) return folder;\n  switch (ext) {\n    case 'jpg':\n    case 'png':\n      return pic;\n    case 'exe':\n    case 'msi':\n      return program;\n    case 'mp3':\n    case 'wav':\n    case 'm4a':\n      return audio;\n    case 'mp4':\n    case 'mkv':\n      return video;\n    case 'rar':\n    case 'zip':\n      return compress;\n    case 'json':\n      return json;\n    case 'js':\n    case 'jsx':\n      return js;\n    case 'jar':\n      return jar;\n    case 'iso':\n      return iso;\n    case 'pdf':\n      return pdf;\n    case 'txt':\n      return text;\n    case 'epub':\n      return book;\n    case 'doc':\n    case 'docx':\n      return doc;\n    case 'pptx':\n      return pp;\n    case 'xlsx':\n      return excel;\n    case 'html':\n      return html;\n    default:\n      return zerosize;\n  }\n}; //GetIcon\n\n/**\n *\n * @param {any} item\n * @param {Object[]} keys description\n * @param {string} keys.name\n * @param {boolean} keys.required\n * @param {number} [keys.length]\n * @param {string} keys.type\n */\nexport const structuteChecker = (item, keys) => {\n  return keys.every((key) => {\n    const { name, required, type, length } = key;\n\n    if (required && !item[name]) {\n      return false;\n    }\n\n    if (type && typeof item[name] !== type) {\n      return false;\n    }\n\n    if (length && item[name].length < length) {\n      return false;\n    }\n\n    return true;\n  });\n};\n\n/**\n * @param {inputFile} data The data to be posted\n * @param {Function} onSuccess funtion to be called when the fecth has concluded successfully\n * @param {Function} onError throw and error\n */\nexport const postFile = async(data) => {\n  if (!data.fileField || isNaN(data.folder)) return;\n\n  let formData = new FormData();\n  formData.append('file', data.fileField);\n  formData.append('name', `${data.fileFieldName}.${data.ext}`);\n\n  return fetch(`/api/files/${data.folder}`, {\n    method: 'POST',\n    headers: {\n      Authorization: localStorage.getItem('token'),\n    },\n    enctype: 'multipart/form-data',\n    body: formData,\n  }).then(handleFetch);\n};\n\nexport const newFolder = async(folderName, folder) => {\n  if (!folderName) return;\n  return fetch(`/api/files/${folder}/folder`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: localStorage.getItem('token'),\n    },\n    enctype: 'application/json',\n    body: JSON.stringify({\n      name: folderName,\n    }),\n  }).then(handleFetch)\n    \n};\n\n/**\n *\n * Usuario:\n * Añadir chart con los tipos de archivos subidos por el usuario\n * Añadir archivos subidos por el usuario\n * Uso total del servidor\n *\n * Backend\n * Comprobacion de los datos\n * Generar reporters\n * Estadisticas generales y especificas\n */\n\n/**\n * Admin:\n * Añadir chart con los tipos de archivos subidos al sistema\n * Añadir memiria total del servidor\n * Usuarios por nivel\n * Total de usuarios\n */\n\n/**\n * Milcelaneos\n * Hacer que el reproductor funcione en segundo plano\n */\n","import React from 'react';\nimport Link from '@material-ui/core/Link';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport CardActions from '@material-ui/core/CardActions';\nimport Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { reactLink } from '../SF/helpers';\nimport backgroundimg1 from '../SF/Media/background_study_by_hibelton_dc28kuo-fullview.jpg';\n\nconst useStyles = makeStyles((theme) => ({\n  box: {\n    gridColumnStart: '1',\n    gridColumnEnd: '3',\n    gridRowStart: '1',\n    gridRowEnd: '3',\n    backgroundImage: `url(${backgroundimg1})`,\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    [theme.breakpoints.down('xs')]: {\n      gridColumnStart: '1',\n      gridColumnEnd: '2',\n      gridRowStart: '1',\n      gridRowEnd: '4',\n      \n    },\n  },\n  card: { minWidth: 275 },\n  title: { fontSize: 14 },\n  pos: { marginBottom: 12 },\n  grow: { flexGrow: 1 },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)',\n  },\n}));\n\nconst RequireLogin = () => {\n  const classes = useStyles();\n  return (\n    <Box\n      textAlign=\"center\"\n      display=\"flex\"\n      width={1}\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      className={classes.box}\n    >\n      <Card className={classes.card}>\n        <CardContent>\n          <Typography variant=\"h5\" component=\"h2\">\n            Lo sentimos!\n          </Typography>\n          <Typography variant=\"body2\" component=\"p\">\n            Debes iniciar sesión para visitar esta página.\n          </Typography>\n        </CardContent>\n        <CardActions>\n          <Link component={reactLink} to=\"/login\" underline=\"none\">\n            <Box fontWeight=\"fontWeightBold\">Inicia Sesión</Box>\n          </Link>\n          <div className={classes.grow} />\n          <Link component={reactLink} to=\"/register\" underline=\"none\">\n            <Box fontWeight=\"fontWeightBold\">Registrarte</Box>\n          </Link>\n        </CardActions>\n      </Card>\n    </Box>\n  );\n};\n\nexport default RequireLogin;\n","/**\n * @typedef {import('./typedefs.jsx').store} store\n * @typedef {import('./typedefs.jsx').key} key\n */\nimport React, { createContext, useReducer } from 'react';\n\n// archivo a reproducir, carpeta actual, tema, busqueda\n\n/** @type {store} */\nconst initialValue = {\n  user: {\n    id: '',\n    usuario: '',\n    nombre: '',\n    apellido: '',\n    pregunta1: 0,\n    pregunta2: 0,\n    desde: '',\n    nivel: 0,\n  },\n  playing: 0,\n  folder: 0,\n  history: [],\n  theme: false,\n  search: '',\n  logStatus: 1,\n  mobileOpen: false,\n};\n\n/** @params {logStatus}\n * 0 logof\n * 1 loging in\n * 2 loged in\n * */\n\n/** Store */\nconst saduwux = createContext(initialValue);\nconst Provider = saduwux.Provider;\n\n/** @type {function} */\nconst reducer = (state, action) => {\n  const { payload, type } = action;\n  if (payload && typeof payload.theme !== 'undefined') {\n    localStorage.setItem('theme', payload.theme || '');\n  }\n  switch (type) {\n    case 'update': {\n      const newState = { ...state, ...payload };\n      return newState;\n    }\n    case 'login': {\n      const newState = { ...state, ...payload, logStatus: 2 };\n      return newState;\n    }\n    case 'moveForward': {\n      const newState = {\n        ...state,\n        history: [...state.history, state.folder],\n        folder: payload,\n      };\n      return newState;\n    }\n    case 'moveBack': {\n      const newState = { ...state };\n      newState.folder = state.history.pop();\n      return newState;\n    }\n    case 'moveHome': {\n      const newState = { ...state, history: [], folder: 0 };\n      return newState;\n    }\n    case 'clean': {\n      const newState = { ...state, search: '' };\n      return newState;\n    }\n    case 'reset':\n    default:\n      localStorage.clear();\n      return { ...initialValue, logStatus: 0 };\n  }\n};\n\n/** Store provider */\nconst StoreProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialValue);\n\n  return <Provider value={{ state, dispatch }}>{children}</Provider>;\n};\n\nexport { StoreProvider, saduwux };\n","import Box from '@material-ui/core/Box';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport { useHistory } from 'react-router-dom';\nimport { getIcon } from '../SF/helpers';\n\nconst useStyles = makeStyles((theme) => ({\n  popper: { zIndex: 10000 },\n  text: { color: 'white' },\n  image: { width: 164, height: 164 },\n  paper: {\n    margin: theme.spacing(1),\n    backgroundColor: 'inherit',\n  },\n  paperMod: {\n    padding: theme.spacing(2),\n    margin: 'auto',\n    maxWidth: 700,\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  file: { margin: '0px 5px 10px', cursor: 'pointer' },\n}));\n\nconst initialState = {\n  open: false,\n  openModal: false,\n  progress: null,\n  total: null,\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'start': {\n      return {\n        ...state,\n        progress: 0,\n        total: action.total,\n      };\n    }\n    case 'add': {\n      const received = state.progress + action.progress;\n      return {\n        ...state,\n        progress: received,\n      };\n    }\n    case 'end': {\n      return {\n        ...state,\n        progress: 0,\n        total: 0,\n      };\n    }\n\n    default: {\n      return { ...state, ...action };\n    }\n  }\n};\n\nconst Files = ({ file, move: { setMovingFile, movingFile }, ...props }) => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const { ino, name, ext, isFile } = file;\n\n  const [state, update] = React.useReducer(reducer, initialState);\n  // const { state: globalState, dispatch } = useContext(saduwux);\n\n  const { updateFolder, updatePlayer } = props;\n  const anchorRef = React.useRef(null);\n  const prevOpen = React.useRef(state.open);\n  const nameToShow =\n    (name.length > 20 ? name.substring(0, 22).trim() + '...': name);\n\n  React.useEffect(() => {\n    if (prevOpen.current && !state.open) {\n      anchorRef.current.focus();\n    }\n    prevOpen.current = state.open;\n  }, [state.open]);\n\n  const handleToggle = () => {\n    if (movingFile) {\n      return;\n    }\n    update({ open: !state.open });\n  };\n\n  const handleClickAway = (event) => {\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return;\n    }\n    update({ open: false });\n  };\n\n  const handleOpenModal = () => {\n    update({ open: false });\n    props.openModal(file);\n  };\n\n  const setFileAsMoving = () => {\n    update({ open: false });\n    setMovingFile(file);\n  };\n\n  const modRep = (id) => {\n    updatePlayer(id);\n    history.push('/reproductor');\n  }; //changeRep\n\n  const download = async (ino, filename, ext) => {\n    const response = await fetch(`/api/files/${ino}/download`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    });\n    const reader = response.body.getReader();\n    const chunks = [];\n\n    update({ type: 'start', total: +response.headers.get('Content-Length') });\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      const { done, value } = await reader.read();\n\n      if (done) {\n        break;\n      }\n      chunks.push(value);\n      update({ type: 'add', progress: value.length });\n    }\n\n    const blob = new Blob(chunks);\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = filename + (ext && ext!=='~' ? `.${ext}` : '');\n    document.body.appendChild(a); // we need to append the element to the dom -> otherwise it will not work in firefox\n    a.click();\n    a.remove(); //afterwards we remove the element again\n  };\n\n  const handleListKeyDown = (event) => {\n    if (event.index === 'Tab') {\n      event.preventDefault();\n      update({ open: true });\n    }\n  };\n\n  const content = (\n    <Paper color=\"primary\" elevation={0} className={classes.paper}>\n      <img src={getIcon(isFile, ext)} alt={ext} width=\"64\" height=\"64\" />\n      <Typography\n        variant=\"body2\"\n        className={props.useTheme ? classes.text : ''}\n        style={{ overflowWrap: 'anywhere' }}\n        //noWrap=\"true\"\n      >\n        {nameToShow}{ext && ext!=='~' ? `.${ext}` : ''}\n      </Typography>\n    </Paper>\n  );\n\n  const opacity = () => (movingFile && ino === movingFile.ino ? '0.6' : '1');\n\n  if (!isFile) {\n    return (\n      <Grid item xs={4} sm={3} md={2} lg={1} className={classes.modal}>\n        <Box\n          onClick={() => updateFolder(ino)}\n          onContextMenu={(e) => e.preventDefault()}\n          textAlign=\"center\"\n          className={classes.file}\n        >\n          {content}\n        </Box>\n      </Grid>\n    );\n  }\n  return (\n    <Grid\n      style={{ height: '120px', opacity: opacity() }}\n      item\n      xs={4}\n      sm={3}\n      md={2}\n      lg={1}\n    >\n      <Box textAlign=\"center\" className={classes.file}>\n        <Box\n          ref={anchorRef}\n          aria-controls={state.open ? 'menu-list-grow' : undefined}\n          aria-haspopup=\"true\"\n          onClick={handleToggle}\n          onContextMenu={(e) => e.preventDefault()}\n        >\n          {content}\n        </Box>\n        <Popper\n          className={classes.popper}\n          open={state.open}\n          anchorEl={anchorRef.current}\n          role={undefined}\n          transition\n          disablePortal\n        >\n          {({ TransitionProps, placement }) => (\n            <Grow\n              {...TransitionProps}\n              style={{\n                transformOrigin:\n                  placement === 'bottom' ? 'center top' : 'center bottom',\n              }}\n            >\n              <Paper>\n                <ClickAwayListener onClickAway={handleClickAway}>\n                  <MenuList\n                    autoFocusItem={state.open}\n                    id=\"menu-list-grow\"\n                    onKeyDown={handleListKeyDown}\n                  >\n                    <MenuItem onClick={() => download(ino, name, ext)}>\n                      Descargar\n                    </MenuItem>\n                    <MenuItem onClick={() => modRep(ino)}>Reproducir</MenuItem>\n                    <MenuItem onClick={() => setFileAsMoving()}>Mover</MenuItem>\n                    <MenuItem onClick={() => handleOpenModal()}>\n                      Información\n                    </MenuItem>\n                  </MenuList>\n                </ClickAwayListener>\n              </Paper>\n            </Grow>\n          )}\n        </Popper>\n      </Box>\n    </Grid>\n  );\n};\n\nexport default Files;\n","import Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport React from 'react';\nimport { getIcon } from '../../SF/helpers';\nimport { makeStyles } from '@material-ui/core';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Dialog from '@material-ui/core/Dialog';\n\nconst useStyles = makeStyles((theme) => ({\n  image: { width: 164, height: 164, margin: 'auto' },\n  paperMod: {\n    padding: theme.spacing(2),\n    paddingTop: 0,\n    margin: 'auto',\n    maxWidth: 700,\n    [theme.breakpoints.down('xs')]: {\n      maxWidth: 300,\n    },\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n}));\n\nconst FileInfoModal = ({ file, handleClose, open }) => {\n  const classes = useStyles();\n  const date = new Date(file.lastModified || file.birthtime).toLocaleString(\n    'es-VE'\n  );\n  if (!file) return '';\n  else\n    return (\n      <Dialog\n        open={open}\n        className={classes.modal}\n        onClose={() => handleClose()}\n      >\n        <DialogTitle id=\"file-dialog-title\" style={{ textAlign: 'center' }}>\n          Información del archivo\n        </DialogTitle>\n        {/*-------------------------GRID----------------------------*/}\n        <Paper className={classes.paperMod}>\n          <Grid container spacing={1}>\n            <Grid item xs={12} sm={4}>\n              <div className={classes.image}>\n                <img\n                  src={getIcon(file.isFile, file.ext)}\n                  alt={file.ext}\n                  width=\"164\"\n                  height=\"164\"\n                />\n              </div>\n            </Grid>\n            <Grid item xs={12} sm={8} container>\n              <Grid item xs={12} container direction=\"row\" spacing={2}>\n                <Grid item xs={12}>\n                  <Typography variant=\"body2\" color=\"textSecondary\">\n                    Nombre:\n                  </Typography>\n                  <Typography\n                    gutterBottom\n                    variant=\"subtitle1\"\n                    style={{ wordWrap: 'break-word', maxWidth: '380px'}}\n                  >\n                    {file.name}\n                  </Typography>\n                </Grid>\n                <Grid item xs={8}>\n                  <Typography variant=\"body2\" color=\"textSecondary\">\n                    Subido por:\n                  </Typography>\n                  <Typography gutterBottom variant=\"subtitle1\">\n                    {file.upBy}\n                  </Typography>\n                  <Typography variant=\"body2\" color=\"textSecondary\">\n                    Última modificación:\n                  </Typography>\n                  <Typography gutterBottom variant=\"subtitle1\">\n                    {date}\n                  </Typography>\n                </Grid>\n                <Grid item xs={4}>\n                  <Typography variant=\"body2\" color=\"textSecondary\">\n                    Tamaño:\n                  </Typography>\n                  <Typography gutterBottom variant=\"subtitle1\">\n                    {file.size}\n                  </Typography>\n                  <Typography variant=\"body2\" color=\"textSecondary\">\n                    Nivel\n                  </Typography>\n                  <Typography gutterBottom variant=\"subtitle1\">\n                    {file.nivel}\n                  </Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Paper>\n      </Dialog>\n    );\n};\n\nexport default FileInfoModal;\n","import { Paper, Dialog, DialogTitle, makeStyles } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport BackupIcon from '@material-ui/icons/Backup';\nimport React from 'react';\nimport { getIcon } from '../../SF/helpers';\nimport { useReducer, useContext } from 'react';\nimport { saduwux } from '../../SF/Context';\nimport path from 'path';\n\nconst useStyles = makeStyles((theme) => ({\n  root: { flexGrow: 1 },\n  title: { flexGrow: 1, textAlign: 'center' },\n  input: { \n    display: 'none' ,\n  },\n  toolbar: { maxHeight: '64px', position: 'static' },\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  darkFocused: {\n    '& .Mui-focused':{\n      color: 'rgb(255, 255, 255)'\n    },\n    '& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline':{\n      borderColor: 'rgba(255, 255, 255, 0.7)',\n    },\n  },\n  paperMod: {\n    padding: theme.spacing(2),\n    maxWidth: 700,\n    textAlign: 'center',\n  },\n}));\n\nconst initialState = {\n  fileField: '',\n  fileFieldName: '',\n  originalName: '',\n  ext: '',\n};\n\nconst reducer = (state, action) => {\n  return { ...state, ...action };\n};\n\nconst reg = new RegExp('[!\"#$%&\\'()*+,./:;<=>?@[\\\\]^`{|}~]+', 'g');\nconst pattern = new RegExp('^[\\\\w\\\\s\\\\-]*$', 'i');\n\nconst UploadFileModal = ({ open, handleClose }) => {\n  const classes = useStyles();\n  const [state, update] = useReducer(reducer, initialState);\n  const { state: { theme } } = useContext(saduwux);\n\n  React.useEffect(() => {\n    update(initialState);\n  }, [open])\n\n  const cleanState = () => {\n    update({\n      fileFieldName: state.originalName,\n    });\n  }\n\n  const accept = () => {\n    if (!state.fileFieldName.length){\n      return;\n    }\n    handleClose(state, true)\n  }\n\n  const onChange = (e) => {\n    const fileName = e.target.files[0].name.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\n    let _ext = path.extname(fileName);\n    const nombre = path.basename(fileName, _ext);\n    _ext = _ext.substring(1);\n    \n    update({\n      fileField: e.target.files[0],\n      ext: _ext,\n      fileFieldName: nombre.replace(reg,''),\n      originalName: nombre.replace(reg, ''),\n    });\n  };\n\n  const changeName = (e) => {\n    if (e.target.value.match(pattern)) {\n      update({ fileFieldName: e.target.value });\n    }\n  }\n\n  const handleLocalClose = () => {\n    update({fileField: null});\n    handleClose('', true)\n  }\n\n  if (!open) return '';\n  else\n    return (\n      <Dialog\n        open={open}\n        className={classes.modal}\n        onClose={e => {console.log(e); handleLocalClose()}}\n      >\n        <DialogTitle id=\"file-dialog-title\" className={classes.title}>\n          {!state.fileField\n            ? 'Selecciona un archivo...'\n            : 'Información del archivo'}\n        </DialogTitle>\n        <Paper className={classes.paperMod}>\n          <Grid>\n            <ModalContent\n              className={classes}\n              state={state}\n              theme={theme}\n              changeName={changeName}\n              onChange={onChange}\n              cleanState={cleanState}\n              handleClose={accept}\n            />\n          </Grid>\n        </Paper>\n      </Dialog>\n    );\n};\n\nconst ModalContent = (props) => {\n  const {\n    className: classes,\n    state,\n    theme,\n    changeName,\n    onChange,\n    cleanState,\n    handleClose,\n  } = props;\n\n  if (!state.fileField) {\n    return (\n      <Grid item container xs={12} justify=\"center\">\n        <Grid item xs={12}>\n          <input\n            accept=\"/*\"\n            onChange={(e) => onChange(e)}\n            className={classes.input}\n            id=\"icon-button-file\"\n            type=\"file\"\n          />\n          <label htmlFor=\"icon-button-file\">\n            <IconButton\n              color={theme ? '' : 'primary'}\n              aria-label=\"upload picture\"\n              component=\"span\"\n            >\n              <BackupIcon style={{ fontSize: 164 }} />\n            </IconButton>\n          </label>\n        </Grid>\n      </Grid>\n    );\n  }\n  return (\n    <Grid item container xs={12} justify=\"center\">\n      <Grid item>\n        <img\n          src={getIcon(true, state.ext)}\n          width=\"164\"\n          height=\"164\"\n          alt=\"file\"\n        />\n      </Grid>\n      <Grid item xs={12}>\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n          Nombre:\n        </Typography>\n        <TextField\n          fullWidth\n          value={state.fileFieldName}\n          error={!state.fileFieldName.length}\n          variant=\"outlined\"\n          className={theme ? classes.darkFocused : ''}\n          onChange={changeName}\n          inputProps={{\n            maxLength: 64\n          }}\n        />\n      </Grid>\n      <Grid item xs={6} style={{ paddingTop: '15px' }}>\n        <Button variant=\"contained\" color=\"secondary\" onClick={cleanState}>\n          Nombre original\n        </Button>\n      </Grid>\n      <Grid item xs={6} style={{ paddingTop: '15px' }}>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={handleClose}\n          disabled={!state.fileFieldName.length}\n        >\n          Aceptar\n        </Button>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default UploadFileModal;\n","/**\n * @typedef {import('../SF/typedefs.jsx').file} file\n * @typedef {import('../SF/typedefs.jsx').searchState} initialState\n * @typedef {import('../SF/typedefs.jsx').inputFile} inputFile\n * @typedef {import('../SF/typedefs.jsx').context} context\n */\nimport AppBar from '@material-ui/core/AppBar';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport CachedIcon from '@material-ui/icons/Cached';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport HomeIcon from '@material-ui/icons/Home';\nimport CreateNewFolderIcon from '@material-ui/icons/CreateNewFolder';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport React, { useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { saduwux } from '../SF/Context';\nimport { handleFetch, postFile, newFolder } from '../SF/helpers';\nimport Files from './Files';\nimport FileInfoModal from './Modals/FileInfoModal';\nimport UploadFileModal from './Modals/UploadFileModal';\nimport SendIcon from '@material-ui/icons/Send';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport Paper from '@material-ui/core/Paper';\nimport Dialog from '@material-ui/core/Dialog';\nimport TextField from '@material-ui/core/TextField';\nimport { getIcon } from '../SF/helpers';\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    overflow: 'auto',\n    display: 'grid',\n    gridTemplateRows: '48px 1fr',\n    width: '100%',\n  },\n  anotherRow: {\n    gridTemplateRows: '48px 1fr 48px',\n  },\n  peachColor: { backgroundColor: '#fff9c4' },\n  bar: {\n    position: 'sticky',\n  },\n  title: { flexGrow: 1, textAlign: 'center' },\n  input: { display: 'none' },\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    flexGrow: 1,\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paperMod: {\n    padding: theme.spacing(2),\n    margin: 'auto',\n    maxWidth: 700,\n    textAlign: 'center',\n  },\n  darkFocused: {\n    '& .Mui-focused':{\n      color: 'rgb(255, 255, 255)'\n    },\n    '& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline':{\n      borderColor: 'rgba(255, 255, 255, 0.7)',\n    },\n  },\n  sectionDesktop: {\n    [theme.breakpoints.down('xs')]: {\n      display: 'none',\n    },\n  },\n  sectionMobile: {\n    [theme.breakpoints.down('xs')]: {\n      textAlign: 'center',\n      '& .MuiIconButton-edgeStart': {\n        margin: 0,\n      },\n    },\n  },\n  movingBar: {\n    width: '100%',\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between',\n    padding: '0.25rem 1rem',\n    borderTop: '1px solid grey',\n  },\n  inline: { display: 'inline' },\n  hideOnBig: {\n    display: 'none',\n    [theme.breakpoints.down('xs')]: {\n      display: 'inline-block',\n    },\n  },\n}));\n\nconst Alert = (props) => {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n};\n\n/** @type {initialState} */\nconst initialState = {\n  open: false,\n  message: '',\n  severity: '',\n  fileForModal: '',\n  uploadModal: false,\n  files: null,\n  shouldUpdate: false,\n  movingFile: '',\n  isMoving: false,\n  folderModal: false,\n  folderName: 'Nueva Carpeta',\n};\n\nconst reducer = (state, action) => {\n  return {\n    ...state,\n    ...action,\n  };\n};\n\nconst Search = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const [state, update] = React.useReducer(reducer, initialState);\n  /**@type {context} */\n  const { state: globalState, dispatch } = useContext(saduwux);\n\n  React.useEffect(() => {\n    if (state.shouldUpdate) {\n      update({shouldUpdate: false, files: null})\n      return;\n    }\n    const headers = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    };\n\n    fetch(`/api/files/${globalState.folder}/files`, headers)\n      .then(handleFetch)\n      .then((response) => {\n        update({\n          files: sort(response)\n        });\n      })\n      .catch((mistake) => {\n        update({\n          open: true,\n          message: mistake.message,\n          severity: 'error',\n        });\n      });\n  }, [globalState.folder, state.shouldUpdate]);\n\n  /**--------------------- Navigators ----------------------*/\n  /** Goes one folder up if possible */\n  const goBack = () =>\n    globalState.history.length && dispatch({ type: 'moveBack' });\n  /** Goes one folder in */\n  const updateFolder = (ino) => {\n    dispatch({ type: 'moveForward', payload: ino });\n  }\n  /** Redirects to the player */\n  const updatePlayer = (ino) => {\n    dispatch({ type: 'update', payload: { playing: ino } });\n    history.push('/reproductor');\n  };\n  /** Goes to the root directory */\n  const goHome = () => dispatch({ type: 'moveHome' });\n\n  /**--------------------- Navigators ----------------------*/\n\n  const handleFileModal = (file = '') => {\n    update({ fileForModal: file });\n  };\n\n  /**\n   * Toggle the upload modal,\n   * if closing and data was retrieved it's sent to the server\n   * @param {inputFile} data la informacion provemiente del dialog\n   * @param {boolean} closing si se está cerrando desde el dialog\n   */\n  const handleUploadModal = (data, closing = false) => {\n    if (!data && !closing) {\n      update({ uploadModal: true });\n \n    } else if (data) {\n      uploadFile({\n        ...data,\n        folder: globalState.folder\n      });\n    }\n    if (closing) {\n      update({ uploadModal: false});\n    }\n  };\n\n  /** Closes the snackbar\n   * @param {object} event\n   * @param {string} reason\n   */\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') return;\n    update({ open: false, folderModal: false, folderName: 'Nueva carpeta'});\n  };\n\n  /**\n   * @param {inputFile} fileToPost The data to be posted\n   */\n  const onSuccess = (mensaje) => {\n    update({\n      shouldUpdate: true,\n      open: true,\n      folderModal: false,\n      folderName: 'Nueva carpeta',\n      message: mensaje,\n      severity: 'success',\n    });\n  };\n\n  const folderNameChange = (e) => {\n    const pattern = new RegExp('^[\\\\w\\\\s\\\\-]*$', 'i');\n    if (e.target.value.match(pattern)) {\n      update({ folderName: e.target.value });\n    }\n  }\n\n  const onError = (mistake) => update({ open: true, message: mistake.message });\n\n  const uploadFile = (fileToPost) => {\n    postFile(fileToPost)\n      .then(onSuccess('Archivo subido satisfactoriamente!'))\n      .catch(onError);\n  };\n\n  /** Mover archivos */\n  const setMovingFile = (ino) => {\n    update({ movingFile: ino });\n  };\n  const cancelMoving = () => {\n    update({ movingFile: null });\n  };\n  const moveFile = () => {\n    const headers = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    };\n    update({ isMoving: true });\n    fetch(`/api/files/${globalState.folder}/${state.movingFile.ino}`, headers)\n      .then(handleFetch)\n      .then((res) => {\n        update({\n          shouldUpdate: true,\n          movingFile: '',\n          open: true,\n          message: res.message,\n          severity: 'success',\n          isMoving: false,\n        });\n      })\n      .catch((error) => {\n        update({\n          open: true,\n          movingFile: '',\n          message: error.message,\n          severity: 'error',\n          isMoving: false,\n        });\n      });\n    // fetch state.moving file => globalState.folder\n  };\n\n  const createNewFolder = () => {\n    newFolder(\n      state.folderName,\n      globalState.folder\n    )\n      .then(onSuccess('Carpeta creada con exito!'))\n      .catch(onError);\n  }\n  /** */\n\n  const items = () => {\n    const regex = new RegExp(globalState.search, 'gi');\n    return state.files.reduce((filtered, file, index) => {\n      if (!file.name.match(regex)) {\n        return filtered;\n      }\n      const temp = (\n        <Files\n          openModal={handleFileModal}\n          useTheme={globalState.theme}\n          updatePlayer={updatePlayer}\n          updateFolder={updateFolder}\n          move={{ setMovingFile, movingFile: state.movingFile }}\n          key={index}\n          file={file}\n        />\n      );\n      return [...filtered, temp];\n    }, []);\n  };\n\n  const mainClass = () => {\n    let className = classes.main;\n    if (state.movingFile) className += ` ${classes.anotherRow}`;\n    if (!globalState.theme) className += ` ${classes.peachColor}`;\n    return className;\n  };\n\n  return (\n    <React.Fragment>\n      <Box className={mainClass()} component=\"main\">\n        <AppBar component=\"div\" color=\"secondary\" className={classes.bar}>\n          <Toolbar variant=\"dense\">\n            <Grid container alignItems=\"center\">\n              <Grid\n                className={classes.sectionMobile}\n                container\n                item\n                xs={12}\n                sm={3}\n                md={2}\n                lg={2}\n              >\n                <Grid item xs sm={3}>\n                  <IconButton\n                    edge=\"start\"\n                    disabled={!globalState.history.length}\n                    onClick={goBack}\n                    color=\"inherit\"\n                    aria-label=\"menu\"\n                  >\n                    <ArrowBackIcon />\n                  </IconButton>\n                </Grid>\n                <Grid item xs sm={3}>\n                  <IconButton\n                    edge=\"start\"\n                    color=\"inherit\"\n                    aria-label=\"menu\"\n                    onClick={() => update({ shouldUpdate: true })}\n                  >\n                    <CachedIcon />\n                  </IconButton>\n                </Grid>\n                <Grid item xs sm={3}>\n                  <IconButton\n                    edge=\"start\"\n                    onClick={goHome}\n                    color=\"inherit\"\n                    aria-label=\"menu\"\n                  >\n                    <HomeIcon />\n                  </IconButton>\n                </Grid>\n                <Grid item xs sm={3}>\n                  <IconButton\n                    edge=\"start\"\n                    onClick={() => update({ folderModal: true })}\n                    color=\"inherit\"\n                    aria-label=\"menu\"\n                  >\n                    <CreateNewFolderIcon />\n                  </IconButton>\n                </Grid>\n                <Grid item xs className={classes.hideOnBig}>\n                  <IconButton\n                    edge=\"start\"\n                    onClick={() => handleUploadModal()}\n                    color=\"inherit\"\n                    aria-label=\"upload\"\n                  >\n                    <CloudUploadIcon />\n                  </IconButton>\n                </Grid>\n              </Grid>\n              <Grid\n                item\n                className={classes.sectionDesktop}\n                sm={7}\n                md={7}\n                lg={9}\n              >\n                <Box display=\"flex\">\n                  <Typography variant=\"h6\" className={classes.title}>\n                    Puedes acceder desde {window.location.origin}\n                  </Typography>\n                </Box>\n              </Grid>\n              <Grid\n                item\n                className={classes.sectionDesktop}\n                sm={2}\n                md={2}\n                lg={1}\n                style={{ textAlign: 'end' }}\n              >\n                <Button\n                  color=\"inherit\"\n                  startIcon={<CloudUploadIcon />}\n                  component=\"span\"\n                  onClick={() => handleUploadModal()}\n                >\n                  Subir\n                </Button>\n              </Grid>\n            </Grid>\n          </Toolbar>\n        </AppBar>\n        <Grid container className={classes.inline}>\n          {!state.files || state.shouldUpdate ? <LinearProgress /> : ''}\n          <div className={classes.container}>{state.files ? items() : ''}</div>\n        </Grid>\n        <MovingBar\n          movingFile={state.movingFile}\n          className={classes.movingBar}\n          move={moveFile}\n          cancel={cancelMoving}\n          theme={globalState.theme}\n          isMoving={state.isMoving}\n        />\n      </Box>\n        <Dialog\n          open={state.folderModal}\n          className={classes.modal}\n          onClose={() => handleClose(state, true)}\n        >\n          <Paper className={classes.paperMod}>\n            <Grid item container xs={12} justify=\"center\">\n              <Grid item>\n                <img src={getIcon(false)} width=\"164\" height=\"164\" alt=\"file\" />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  fullWidth\n                  value={state.folderName}\n                  variant=\"outlined\"\n                  style={{ textAlign: 'center' }}\n                  onChange={folderNameChange}\n                  className={globalState.theme ? classes.darkFocused : ''}\n                />\n              </Grid>\n              <Grid item xs={12} style={{ paddingTop: '15px' }}>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={createNewFolder}\n                >\n                  Aceptar\n                </Button>\n              </Grid>\n            </Grid>\n          </Paper>\n        </Dialog>\n      <FileInfoModal\n        open={!!state.fileForModal}\n        file={state.fileForModal}\n        handleClose={handleFileModal}\n      />\n      <UploadFileModal\n        open={state.uploadModal}\n        handleClose={handleUploadModal}\n      />\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'right',\n        }}\n        open={state.open}\n        onClose={handleClose}\n        autoHideDuration={3000}\n      >\n        <Alert onClose={handleClose} severity={state.severity}>\n          {state.message}\n        </Alert>\n      </Snackbar>\n    </React.Fragment>\n  );\n};\n\nconst MovingBar = ({\n  movingFile: file,\n  className,\n  move,\n  cancel,\n  theme,\n  isMoving,\n}) => {\n  if (!file) {\n    return '';\n  }\n  const spanClass = makeStyles(() => ({\n    button: {\n      '& .MuiButton-endIcon, & .MuiButton-startIcon': {\n        marginTop: '-5px',\n      },\n    },\n    typo: {\n      color: theme ? '#fff' : 'rgba(0, 0, 0, 0.87)',\n    },\n  }))();\n\n  const { name, ext } = file;\n  const nameToShow =\n    name.length > 30 ? name.substring(0, 27).trim() + '...' + ext : name;\n\n  return (\n    <div className={className}>\n      <Typography variant=\"h6\" className={spanClass.typo}>\n        Moviendo: {nameToShow}\n      </Typography>\n      <div>\n        <Button\n          disableElevation\n          disabled={isMoving}\n          onClick={() => cancel()}\n          size=\"large\"\n          startIcon={<CancelIcon />}\n          className={spanClass.button}\n        >\n          Cancelar\n        </Button>\n        <Button\n          disableElevation\n          disabled={isMoving}\n          onClick={() => move()}\n          size=\"large\"\n          endIcon={<SendIcon />}\n          className={spanClass.button}\n        >\n          Mover aquí\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default Search;\n\n/**\n * @param {file[]} arr\n */\nconst sort = (arr) => {\n  arr.sort(byName);\n  arr.sort(byFileType);\n  return arr;\n}; //Sort\n/**\n * Sort by name\n * @param {file} a\n * @param {file} b\n */\nconst byName = (a, b) => a.name.localeCompare(b.name); //By name\n/**\n * Sort by extension\n * @param {file} a\n * @param {file} b\n */\nconst byFileType = (a, b) => a.ext.localeCompare(b.ext);\n","import Card from '@material-ui/core/Card';\nimport Box from '@material-ui/core/Box';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport md5 from 'md5';\nimport Link from '@material-ui/core/Link';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport CloudIcon from '@material-ui/icons/Cloud';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport React, { useContext, useReducer } from 'react';\nimport { useHistory, Redirect } from 'react-router-dom';\nimport { saduwux } from '../SF/Context';\nimport { handleFetch, reactLink } from '../SF/helpers';\nimport backgroundimg1 from '../SF/Media/background_study_by_hibelton_dc28kuo-fullview.jpg';\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    gridColumnStart: '1',\n    gridColumnEnd: '3',\n    gridRowStart: '1',\n    gridRowEnd: '3',\n    display: 'flex',\n    placeContent: 'center',\n    alignItems: 'center',\n    backgroundImage: `url(${backgroundimg1})`,\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? '#cecece' : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n\n    [theme.breakpoints.down('xs')]: {\n      gridColumnStart: '1',\n      gridColumnEnd: '2',\n      gridRowStart: '1',\n      gridRowEnd: '4',\n      '& .MuiCard-root': {\n        maxWidth: 'calc(100vw - 30px)',\n        padding: '1rem'\n      }\n    },\n\n    '& button': {\n      padding: '0.5rem 1rem',\n      fontWeight: '600',\n      margin: '0.25rem 0px',\n      '&.Mui-disabled': {\n        color: 'rgba(0, 0, 0, 0.26)',\n      },\n    },\n    '& .MuiIconButton-root': {\n      padding: 0,\n    },\n    '& .forgot': {\n      width: '100%',\n      textAlign: 'center',\n      color: 'rgba(0,0,0,0.7)',\n      marginTop: '0.5rem',\n      display: 'inline-block'\n    }\n  },\n  box: {\n    padding: '1rem 3rem',\n    backgroundColor: '#fff',\n    borderRadius: '1rem',\n    maxWidth: '400px',\n  },\n  form: {\n    marginTop: '0.5rem',\n    display:\"flex\",\n    flexDirection:\"column\",\n    alignItems:\"center\",\n  },\n}));\n\nconst pattern = {\n  username: new RegExp('^[A-Z0-9]*$', 'i'),\n}\n\nconst Alert = (props) => {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n};\n\n/**\n * updates the state\n * @param {initialState} value The new value to assign to the state\n */\nconst initialState = {\n  open: false,\n  message: '',\n  username: '',\n  password: '',\n  isLoading: false,\n  severity: 'success',\n};\n\nconst reducer = (state, action) => {\n  return { ...state, ...action };\n};\n\nconst Login = () => {\n  const history = useHistory();\n  const classes = useStyles();\n  const [state, update] = useReducer(reducer, initialState);\n  const { state: global, dispatch } = useContext(saduwux);\n\n  React.useEffect(() => {\n    if(global.logStatus !== 2){\n      localStorage.clear();\n      dispatch({\n        type: 'update',\n        payload: {\n          logStatus: 0,\n          theme: false\n        }\n      });\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (global.logStatus === 2 && !state.isLoading) {\n    return (\n      <Redirect to=\"/busqueda\"/>\n    );\n  }\n\n  const invalid = () => {\n    const { username, password } = state;\n    return username.length < 3|| password.length < 6;\n  };\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n    if (invalid()) {\n      return;\n    }\n\n    const { username, password } = state;\n    update({ isLoading: true });\n    fetch('/api/users/login', {\n      method: 'post',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        usuario: username,\n        password: md5(password),\n      }),\n    })\n      .then(handleFetch)\n      .then((data) => {\n        localStorage.setItem('token', 'bearer ' + data.token);\n        dispatch({\n          type: 'login',\n          payload: {\n            user: data.user,\n          },\n        });\n        update({\n          open: true,\n          message: 'Inicio de sesión exitoso!',\n          severity: 'success',\n        });\n        setTimeout(() => history.push('/busqueda'), 500);\n      })\n      .catch((error) => {\n        update({\n          open: true,\n          message: error.message,\n          isLoading: false,\n          severity: 'error',\n        });\n      });\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    update({ open: false });\n  };\n\n  const handleInput = ({ target }) => {\n    if(!pattern[target.id] || target.value.trim().match(pattern[target.id])){\n      update({ [target.id]: target.value.trim() });\n    }\n  };\n\n  return (\n    <Box component=\"main\" className={classes.main}>\n      <Card className={classes.box}>\n        <CardContent className=\"center\">\n          <Box\n            display=\"flex\"\n            flexDirection=\"column\"\n            alignItems=\"center\"\n          >\n            <IconButton>\n              <CloudIcon color=\"primary\" style={{ fontSize: '4rem' }} />\n            </IconButton>\n            <Typography color=\"secondary\" component=\"h2\" variant=\"h4\">\n              Cloudster\n            </Typography>\n            <Typography component=\"h6\" variant=\"h6\">\n              Inicia Sesión\n            </Typography>\n          </Box>\n          <Divider />\n          <form\n            className={classes.form}\n            autoComplete=\"off\"\n            onSubmit={handleLogin}\n          >\n            <Box>\n              <TextField\n                value={state.username}\n                onChange={handleInput}\n                id=\"username\"\n                label=\"Nombre de usuario\"\n                variant=\"outlined\"\n                margin=\"normal\"\n                required\n                fullWidth\n                autoFocus\n                disabled={state.isLoading}\n                inputProps={{\n                  maxLength: 16\n                }}\n              />\n              <TextField\n                value={state.password}\n                onChange={handleInput}\n                id=\"password\"\n                label=\"Contraseña\"\n                variant=\"outlined\"\n                margin=\"normal\"\n                required\n                fullWidth\n                type=\"password\"\n                disabled={state.isLoading}\n                inputProps={{\n                  maxLength: 16\n                }}\n              />\n            </Box>\n            <Button\n              disabled={state.isLoading || invalid()}\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              size=\"large\"\n              type=\"submit\"\n            >\n              Iniciar Sesión\n            </Button>\n            <Link to=\"/register\" style={{ width: '100%' }} component={reactLink}>\n              <Button\n                fullWidth\n                variant=\"outlined\"\n                size=\"large\"\n                color=\"secondary\"\n                type=\"button\"\n              >\n                Registrarse\n              </Button>\n            </Link>\n            <Link\n              component={reactLink}\n              to=\"/recover\"\n              className=\"forgot\"\n            >\n              Olvidé mi contraseña\n            </Link>\n          </form>\n        </CardContent>\n      </Card>\n\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        open={state.open}\n        onClose={handleClose}\n        autoHideDuration={6000}\n      >\n        <Alert onClose={handleClose} severity={state.severity}>\n          {state.message}\n        </Alert>\n      </Snackbar>\n    </Box>\n  );\n};\n\nexport default Login;\n","import Card from '@material-ui/core/Card';\nimport Box from '@material-ui/core/Box';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Divider from '@material-ui/core/Divider';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport Link from '@material-ui/core/Link';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Stepper from '@material-ui/core/Stepper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport CloudIcon from '@material-ui/icons/Cloud';\nimport React, { useContext, useReducer } from 'react';\nimport md5 from 'md5';\nimport { useHistory, withRouter, Redirect } from 'react-router-dom';\nimport { saduwux } from '../SF/Context';\nimport { handleFetch, reactLink } from '../SF/helpers';\nimport backgroundimg1 from '../SF/Media/background_study_by_hibelton_dc28kuo-fullview.jpg';\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    gridColumnStart: '1',\n    gridColumnEnd: '3',\n    gridRowStart: '1',\n    gridRowEnd: '3',\n    display: 'flex',\n    placeContent: 'center',\n    alignItems: 'center',\n    flexDirection: 'column',\n    maxWidth: 'auto',\n    backgroundImage: `url(${backgroundimg1})`,\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? '#cecece' : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n\n    [theme.breakpoints.down('xs')]: {\n      gridColumnStart: '1',\n      gridColumnEnd: '2',\n      gridRowStart: '1',\n      gridRowEnd: '4',\n      '& .MuiCard-root': {\n        maxWidth: 'calc(100vw - 30px)',\n        padding: '1rem'\n      }\n    },\n    '& .MuiIconButton-root': {\n      padding: 0,\n    },\n  },\n  box: {\n    padding: '1rem 3rem',\n    backgroundColor: '#fff',\n    borderRadius: '1rem',\n    maxWidth: '100%',\n  },\n  form: {\n    margin: '0',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  backButton: {\n    color: 'rgba(0, 0, 0, 0.8)',\n    borderColor: 'rgba(0, 0, 0, 0.8)'\n  },\n  bottonContainer: {\n    marginTop: '1rem',\n    display: 'flex',\n    placeContent: 'space-between',\n\n    '& button': {\n      padding: '0.5rem 1rem',\n      fontWeight: '600',\n\n      '&.MuiButton-containedPrimary': {\n        color: '#fff',\n      },\n      '&.Mui-disabled': {\n        color: 'rgba(0, 0, 0, 0.26)',\n      },\n    },\n  },\n  instructions: {\n    width: '275px',\n  },\n  mRight: {\n    flexGrow: 1,\n  },\n}));\n\nconst Alert = (props) => {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n};\n\nconst initialState = {\n  activeStep: 0,\n  touched: false,\n  isLoading: false,\n  user: '',\n  id: '',\n  pregunta1: '',\n  pregunta2: '',\n  respuesta1: '',\n  respuesta2: '',\n  password: '',\n  password2: '',\n  open: false,\n  message: '',\n  severity: 'success',\n};\n\nconst reducer = (state, action) => {\n  if (action) {\n    return { ...state, ...action };\n  }\n\n  switch (state.activeStep) {\n    case 2: {\n      return {\n        ...state,\n        password: '',\n        password2: '',\n        touched: true,\n        activeStep: 1,\n      };\n    }\n    case 1: {\n      return {\n        ...state,\n        pregunta1: '',\n        pregunta2: '',\n        respuesta1: '',\n        respuesta2: '',\n        touched: true,\n        activeStep: 0,\n      };\n    }\n    default:\n      return initialState;\n  }\n};\n\nconst Recover = () => {\n  const classes = useStyles();\n  const steps = ['Usuario', 'Preguntas', 'Contraseña'];\n  const history = useHistory();\n\n  const [state, update] = useReducer(reducer, initialState);\n  const { state: global, dispatch } = useContext(saduwux);\n  \n  React.useEffect(() => {\n    if(global.logStatus !== 2){\n      localStorage.clear();\n      dispatch({\n        type: 'update',\n        payload: {\n          logStatus: 0,\n          theme: false\n        }\n      });\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (global.logStatus === 2 && !state.isLoading) {\n    return (\n      <Redirect to=\"/busqueda\"/>\n    );\n  }\n\n  const invalid = () => {\n    if (!state.touched || state.isLoading) {\n      return true;\n    }\n    switch (state.activeStep) {\n      case 0: {\n        const { user } = state;\n        return !user.length;\n      }\n      case 1: {\n        const { respuesta1, respuesta2 } = state;\n        return !respuesta1.trim().length || !respuesta2.trim().length;\n      }\n      case 2: {\n        const { password, password2 } = state;\n        return (\n          password.length < 6 || password2.length < 6 || password !== password2\n        );\n      }\n      default:\n        break;\n    }\n  };\n\n  const handleUsername = () => {\n    update({ isLoading: true });\n    fetch(`/api/users/${state.user}/questions`)\n      .then(handleFetch)\n      .then(({ usuario, id_usuario, pregunta1, pregunta2 }) => {\n        update({\n          user: usuario.trim(),\n          id_usuario: id_usuario.trim(),\n          pregunta1: pregunta1,\n          pregunta2: pregunta2,\n          activeStep: 1,\n          touched: false,\n          isLoading: false,\n        });\n      })\n      .catch((e) => {\n        update({\n          open: true,\n          message: e.message,\n          severity: 'error',\n          touched: false,\n          isLoading: false,\n        });\n      });\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    update({ open: false });\n  };\n\n  const handleQuestions = () => {\n    update({ isLoading: true });\n    const headers = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        respuesta1: state.respuesta1,\n        respuesta2: state.respuesta2,\n      }),\n    };\n\n    fetch(`/api/users/${state.id_usuario}/questions`, headers)\n      .then(handleFetch)\n      .then((data) => {\n        localStorage.setItem('token', 'bearer ' + data.token);\n        update({\n          activeStep: 2,\n          touched: false,\n          isLoading: false,\n        });\n      })\n      .catch((e) => {\n        update({\n          open: true,\n          message: e.message,\n          severity: 'error',\n          touched: false,\n          isLoading: false,\n        });\n      });\n  };\n\n  const changePassword = () => {\n    update({ isLoading: true });\n    const headers = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n      body: JSON.stringify({ password: md5(state.password) }),\n    };\n\n    fetch(`/api/users/${state.id_usuario}`, headers)\n      .then(handleFetch)\n      .then((data) => {\n        dispatch({\n          type: 'login',\n          payload: { user: data.user },\n        });\n        localStorage.setItem('token', 'bearer ' + data.token);\n        history.push('/busqueda');\n      })\n      .catch((err) => {\n        update({\n          open: true,\n          message: err.message,\n          severity: 'error',\n          touched: false,\n          isLoading: false\n        });\n      });\n  };\n\n  const handleNext = (event) => {\n    event.preventDefault();\n    if (invalid()) {\n      return;\n    }\n    switch (state.activeStep) {\n      case 2: {\n        changePassword();\n        break;\n      }\n      case 1: {\n        handleQuestions();\n        break;\n      }\n      default: {\n        handleUsername();\n        break;\n      }\n    }\n  };\n\n  const handleBack = () => update();\n\n  const handleChange = (e) =>\n    update({ [e.target.name]: e.target.value, touched: true });\n  const handleChangeTrim = (e) =>\n    update({ [e.target.name]: e.target.value.trim(), touched: true });\n\n  /** @param {number} step */\n  const getStepContent = (step) => {\n    switch (step) {\n      case 0:\n        return (\n          <TextField\n            name=\"user\"\n            value={state.user}\n            onChange={handleChangeTrim}\n            id=\"standard-name\"\n            label=\"Nombre de usuario\"\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            autoFocus\n            inputProps={{\n              maxLength: 16\n            }}\n          />\n        );\n      case 1:\n        return (\n          <Box>\n            <TextField\n              name=\"respuesta1\"\n              value={state.respuesta1}\n              onChange={handleChange}\n              id=\"respuesta1\"\n              label=\"Respuesta #1\"\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              autoFocus\n              helperText={state.pregunta1}\n              inputProps={{\n                maxLength: 32\n              }}\n            />\n            <TextField\n              name=\"respuesta2\"\n              value={state.respuesta2}\n              onChange={handleChange}\n              id=\"respuesta2\"\n              label=\"Respuesta #2\"\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              helperText={state.pregunta2}\n              inputProps={{\n                maxLength: 32\n              }}\n            />\n          </Box>\n        );\n      case 2:\n        return (\n          <Box>\n            <TextField\n              name=\"password\"\n              value={state.password}\n              onChange={handleChangeTrim}\n              id=\"password-input\"\n              label=\"Nueva contraseña\"\n              type=\"password\"\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              autoFocus\n              inputProps={{\n                maxLength: 16\n              }}\n            />\n            <TextField\n              name=\"password2\"\n              value={state.password2}\n              onChange={handleChangeTrim}\n              id=\"password-confirm-input\"\n              label=\"Confirmar contraseña\"\n              type=\"password\"\n              variant=\"outlined\"\n              margin=\"normal\"\n              fullWidth\n              required\n              inputProps={{\n                maxLength: 16\n              }}\n            />\n          </Box>\n        );\n      default:\n        return <p>Unknown step</p>;\n    }\n  };\n\n  return (\n    <Box component=\"main\" className={classes.main}>\n      <Card className={classes.box}>\n        <CardContent>\n          <Box\n            display=\"flex\"\n            flexDirection=\"column\"\n            alignItems=\"center\"\n          >\n            <Link to=\"/\" component={reactLink}>\n              <IconButton>\n                <CloudIcon color=\"primary\" style={{ fontSize: '4rem' }} />\n              </IconButton>\n            </Link>\n            <Typography color=\"secondary\" component=\"h2\" variant=\"h4\">\n              Cloudster\n            </Typography>\n            <Typography component=\"h6\" variant=\"h6\">\n              Recuperar contraseña\n            </Typography>\n          </Box>\n          <Stepper\n            activeStep={state.activeStep}\n            style={{ padding: '0px 0px 24px' }}\n            alternativeLabel\n          >\n            {steps.map((label) => (\n              <Step key={label}>\n                <StepLabel>{label}</StepLabel>\n              </Step>\n            ))}\n          </Stepper>\n          <Divider />\n          <form\n            autoComplete=\"off\"\n            className={classes.form}\n            onSubmit={handleNext}\n          >\n            <div className={classes.instructions}>\n              {getStepContent(state.activeStep)}\n            </div>\n\n            <Box width={1} className={classes.bottonContainer}>\n              <Button\n                disabled={!state.activeStep || state.isLoading}\n                onClick={handleBack}\n                className={classes.backButton}\n                type=\"button\"\n                variant=\"outlined\"\n              >\n                Volver\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                disabled={invalid()}\n                type=\"submit\"\n              >\n                {state.activeStep === steps.length - 1\n                  ? 'Aceptar'\n                  : 'Siguiente'}\n              </Button>\n            </Box>\n          </form>\n\n          <Divider style={{ margin: '0.5rem 0' }} />\n          <Grid container justify=\"space-between\">\n            <Grid item>\n              <Link component={reactLink} to=\"/login\">\n                Inicias sesión\n              </Link>\n            </Grid>\n            <Grid item>\n              <Link component={reactLink} to=\"/register\" color=\"secondary\">\n                Registrarse\n              </Link>\n            </Grid>\n          </Grid>\n\n        </CardContent>\n      </Card>\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        open={state.open}\n        onClose={handleClose}\n        autoHideDuration={6000}\n      >\n        <Alert onClose={handleClose} severity={state.severity}>\n          {state.message}\n        </Alert>\n      </Snackbar>\n    </Box>\n  );\n};\n\nexport default withRouter(Recover);\n","/**\n * @typedef {import('../SF/typedefs.jsx').context} context\n * @typedef {import('../SF/typedefs.jsx').file} file\n */\nimport Avatar from '@material-ui/core/Avatar';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport { green } from '@material-ui/core/colors';\nimport Divider from '@material-ui/core/Divider';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Grid from '@material-ui/core/Grid';\nimport Link from '@material-ui/core/Link';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport IconButton from '@material-ui/core/IconButton';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SvgIcon from '@material-ui/core/SvgIcon/SvgIcon';\nimport Switch from '@material-ui/core/Switch';\nimport Typography from '@material-ui/core/Typography';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport DescriptionIcon from '@material-ui/icons/Description';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport { useHistory } from 'react-router-dom';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport React, { useContext } from 'react';\nimport { Cell, Label, Legend, Pie, PieChart } from 'recharts';\nimport { saduwux } from '../SF/Context';\nimport { handleFetch, reactLink } from '../SF/helpers';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\n\nconst useStyles = makeStyles((theme) => ({\n  avatar: { backgroundColor: green[500] },\n  main: {\n    overflow: 'auto',\n    height: '100%',\n    '& .card-box': {\n      minWidth: 300,\n      maxWidth: 480,\n      width: '100%',\n      padding: '0 10px',\n      textAlign: 'center',\n      '& .MuiCardHeader-root': {\n        textAlign: 'center',\n      },\n      '& .MuiCard-root': {\n        minWidth: 300,\n        maxWidth: 480,\n        margin: '1rem',\n        width: '100%',\n        height: 'min-content',\n        [theme.breakpoints.down('sm')]: {\n          maxWidth: 'calc(100vw - 1rem)',\n          margin: '1rem 0'\n        },\n        '& .MuiCardContent-root':{\n          '&.files-container': {\n            padding: '0',\n          },\n          '&:last-child': {\n            paddingBottom: 16,\n          },\n        }\n      },\n      '& .center': {\n        display: 'flex',\n        justifyContent: 'center',\n      },\n      '& .MuiButton-containedPrimary': {\n        boxShadow: 'none',\n        marginRight: 10\n      }\n    },\n  },\n  card: {\n    minWidth: 300,\n    maxWidth: 500,\n    margin: 5,\n  },\n  list: {\n    overflow: 'auto',\n    maxHeight: 300,\n  },\n  dark: {\n    backgroundColor: '#393d46',\n    color: '#fff',\n    '& .files': {\n      color: '#4caf50',\n    },\n    '& .MuiButton-containedPrimary': {\n      border: '1px solid #fff',\n    }\n  },\n  dim: {\n    backgroundColor: '#fff9c4',\n    color: 'white',\n    '& .files': {\n      color: '#4caf50',\n    },\n    '& .MuiButton-containedPrimary': {\n      color: '#fff'\n    }\n  },\n}));\n\nconst initialState = {\n  files: [],\n  shouldUpdate: false,\n  totalSize: 0,\n  parsedSize: '',\n  chartData: [],\n};\nconst reducer = (state, action) => {\n  return { ...state, ...action };\n};\n\nconst Profile = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const matches = useMediaQuery((theme) => theme.breakpoints.up('sm'));\n\n  /** @type {context}*/\n  const {\n    state: { user, theme },\n    dispatch,\n  } = useContext(saduwux);\n  const [state, update] = React.useReducer(reducer, initialState);\n\n  /** Algo así para buscar los archivos subidos por el usuario */\n  React.useEffect(() => {\n    fetch(`/api/users/${user.id}/files`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    })\n      .then(handleFetch)\n      .then((response) => update({ ...response, files: sort(response.files) }))\n      .catch(() => {});\n  }, [user.id, state.shouldUpdate]);\n\n  const goToFolder = (dependency) => {\n    dispatch({\n      type: 'update',\n      payload: {\n        folder: dependency,\n        history: []\n      }\n    });\n    history.push('/busqueda');\n  }\n\n  const handleCheck = ({ target }) => {\n    dispatch({\n      type: 'update',\n      payload: { theme: target.checked },\n    });\n  }\n\n  const files = () =>\n    state.files.map((file, index) => {\n      const nameToShow = file.name + (file.ext && file.ext!=='~' ? `.${file.ext}` : '');\n      return (\n        <React.Fragment key={index}>\n          <ListItem style={{height: 50}}>\n            <ListItemIcon>\n              <SvgIcon component={!file.ext ? FolderIcon : DescriptionIcon} />\n            </ListItemIcon>\n            <ListItemText primary={nameToShow} secondary={null} />\n            <ListItemSecondaryAction>\n              <IconButton\n                style={{padding: 0}}\n                aria-label=\"got-to-containingFolder\"\n                onClick={() => goToFolder(file.dependency)}\n              >\n                <ArrowRightIcon />\n              </IconButton>\n            </ListItemSecondaryAction>\n          </ListItem>\n          <Divider/>\n        </React.Fragment>\n      );\n    });\n\n  const getClasses = () =>{\n    let className = `${classes.main} `;\n    className += theme ? classes.dark : classes.dim;\n    return className;\n  }\n  return (\n    <Grid\n      className={getClasses()}\n      container\n      justify=\"center\"\n    >\n      <Grid\n        container\n        item\n        direction=\"column\"\n        justify=\"center\"\n        alignItems=\"center\"\n        wrap=\"nowrap\"\n        className=\"card-box\"\n      >\n        <Card raised={false}>\n          <CardHeader title=\"Perfil\" />\n          <Divider />\n\n          <CardContent>\n            <Typography variant=\"h3\">\n              {user.usuario}\n            </Typography>\n            <Box m={0.5}>\n              <Box display=\"flex\" justifyContent=\"center\">\n                <Avatar className={classes.avatar}>\n                  {user.nivel}\n                </Avatar>\n              </Box>\n              <Typography color=\"textSecondary\">\n                Nivel de jerarquía\n              </Typography>\n            </Box>\n            <Divider />\n            <Box m={0.5}>\n              <Typography>\n                {user.nombre} {user.apellido}\n              </Typography>\n              <Typography>Miembro desde: {user.desde}</Typography>\n            </Box>\n            <Divider />\n\n            <Box m={0.5}>\n              <Typography>\n                Espacio en el servidor: {state.parsedSize}\n              </Typography>\n              <Typography>\n                Total de archivos subidos: {state.files.length}\n              </Typography>\n            </Box>\n            <Divider />\n\n          </CardContent>\n          <CardActions>\n            <Box mx=\"auto\">\n              <Link\n                component={reactLink}\n                to=\"/configuracion\"\n                underline=\"none\"\n              >\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<SettingsIcon />}\n                >\n                  Configuración\n                </Button>\n              </Link>\n              <FormControlLabel\n                control={\n                  <Switch\n                    checked={theme}\n                    onChange={handleCheck}\n                    value=\"theme\"\n                    color={theme ? 'default' : 'primary'}\n                    inputProps={{ 'aria-label': 'primary checkbox' }}\n                  />\n                }\n                label=\"Cambiar tema\"\n              />\n            </Box>\n          </CardActions>\n        </Card>\n      </Grid>\n      {\n        !state.files.length ? \n        '' : (\n          <Grid \n            container\n            item\n            direction=\"column\"\n            justify=\"center\"\n            alignItems=\"center\"\n            wrap=\"nowrap\"\n            className=\"card-box\"\n          >\n            <Grid item xs={12} style={{width: '100%'}}>\n              <Card raised={false} style={{width: '100%'}}>\n                <CardHeader title=\"Archivos Subidos\" />\n                <Divider />\n                <CardContent className=\"files-container\">\n                  <List className={classes.list} dense={true}>\n                    {files()}\n                  </List>\n                </CardContent>\n              </Card>\n            </Grid>\n            <Grid item xs={12}>\n              <Card raised={false}>\n                <CardHeader title=\"Tipos de Archivos\" />\n                <Divider />\n                <FileChartContent matches={matches} data={state.chartData} />\n              </Card>\n            </Grid>\n          </Grid>\n        )\n      }\n    </Grid>\n  );\n      //   <Box display={{ xs: 'flex', sm: 'none' }}>\n      //     <Toolbar variant=\"dense\" />\n      //   </Box>\n      // </Box>\n};\n\nconst FileChartContent = ({ data, matches }) => {\n  if (!data.length) {\n    return <div></div>;\n  }\n\n  const result = data.reduce((totalValue, ext) => totalValue + ext.value, 0); // Suma de todos los archivos\n  const COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042']; // Colores para el chart\n\n  return (\n    <CardContent>\n      <PieChart\n        width={matches ? 400 : 300}\n        height={300}\n        style={{ fontFamily: 'sans-serif' }}\n      >\n        <Pie\n          data={data}\n          cx={'50%'}\n          cy={'50%'}\n          label\n          innerRadius={'68.9656%'}\n          outerRadius={'80%'}\n          fill=\"#8884d8\"\n          paddingAngle={3}\n          dataKey=\"value\"\n          isAnimationActive={false}\n        >\n          <Label\n            value={result}\n            style={{ fontSize: '1.5rem' }}\n            offset={0}\n            position=\"center\"\n          />\n          {data.map((entry, index) => (\n            <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n          ))}\n        </Pie>\n        <Legend\n          layout={matches ? 'vertical' : 'horizontal'}\n          verticalAlign={matches ? 'middle' : 'bottom'}\n          align={matches ? 'left' : 'center'}\n        />\n      </PieChart>\n    </CardContent>\n  );\n};\n\n/** @param {file[]} arr */\nconst sort = (arr) => {\n  arr.sort(byName);\n  arr.sort(byIno);\n  return arr;\n}; //Sort\n/**\n * @param {file} a\n * @param {file} b\n */\nconst byName = (a, b) => a.name.localeCompare(b.name); //By name\n/**\n * @param {file} a\n * @param {file} b\n */\nconst byIno = (a, b) => a.ino - b.ino;\n\nexport default Profile;\n","import React from 'react';\nimport { useReducer, useContext } from 'react';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Dialog from '@material-ui/core/Dialog';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { saduwux } from '../../SF/Context';\nimport md5 from 'md5';\n\nconst useStyles = makeStyles((theme) => ({\n  paperMod: {\n    padding: '0px 1.5rem 1rem',\n    margin: 'auto',\n    minWidth: '340px',\n    [theme.breakpoints.down('xs')]: {\n      minWidth: '100%'\n    },\n    '& p': {\n      color: 'red',\n      '&:empty': {\n        height: '16px',\n      },\n    },\n    '& .MuiFormControl-root': {\n      height: '80px',\n    },\n  },\n  darkFocused: {\n    '& .Mui-focused':{\n      color: 'rgb(255, 255, 255)'\n    },\n    '& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline':{\n      borderColor: 'rgba(255, 255, 255, 0.7)',\n    },\n  },\n}));\n\nconst initialState = {\n  touched: false,\n  touched2: false,\n  password: '',\n  password2: '',\n  error: '',\n  error2: '',\n};\n\nconst reducer = (state, action) => {\n  return { ...state, ...action };\n};\n\nconst ChangePasswordDialog = ({ user, handleClose }) => {\n  const classes = useStyles();\n  const [state, update] = useReducer(reducer, initialState);\n  const { state: { theme } } = useContext(saduwux);\n\n  if (!user) {\n    return '';\n  }\n\n  const handleChangeTrim = (e, number = '') => {\n    const error = invalidText(number, e.target.value.trim());\n    const valueToUpdate = {\n      [e.target.name]: e.target.value.trim(),\n      [`touched${number}`]: true,\n      [`error${number}`]: error,\n    };\n    if (!number) {\n      valueToUpdate.error2 = invalidText(\n        '2',\n        state.password2,\n        e.target.value.trim()\n      );\n    }\n    update(valueToUpdate);\n  };\n\n  const invalid = () => {\n    const { password, password2, error, error2 } = state;\n    return Boolean(error || error2) || !password.length || !password2.length;\n  };\n\n  const invalidText = (number, text, password1 = state.password) => {\n    const touched = state[`touched${number}`];\n    const password = text;\n    if (!touched) {\n      return '';\n    }\n\n    switch (true) {\n      case password.length < 6:\n        return 'La contraseña debe de al menos 6 caracteres';\n      case number && password1 !== password:\n        return 'La contraseñas deben coincidir';\n      default:\n        return '';\n    }\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    handleClose({\n      index: user.index,\n      password: md5(state.password),\n      userID: user.id,\n    });\n  };\n\n  return (\n    <Dialog open={true} onClose={() => handleClose()}>\n      <DialogTitle id=\"file-dialog-title\" style={{ textAlign: 'center' }}>\n        Cambiar contraseña a {user.usuario}\n      </DialogTitle>\n      <Box className={classes.paperMod}>\n        <form\n          autoComplete=\"off\"\n          className={classes.form}\n          onSubmit={handleSubmit}\n        >\n          <Grid\n            container\n            direction=\"column\"\n            justify=\"center\"\n            alignItems=\"center\"\n            className={theme ? classes.darkFocused : ''}\n          >\n            <TextField\n              name=\"password\"\n              value={state.password}\n              onChange={handleChangeTrim}\n              id=\"password-input\"\n              label=\"Nueva contraseña\"\n              type=\"password\"\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              autoFocus\n              error={!!state.error}\n              helperText={state.error}\n            />\n            <TextField\n              name=\"password2\"\n              value={state.password2}\n              onChange={(e) => handleChangeTrim(e, '2')}\n              id=\"password-confirm-input\"\n              label=\"Confirmar contraseña\"\n              type=\"password\"\n              variant=\"outlined\"\n              margin=\"normal\"\n              fullWidth\n              required\n              error={!!state.error2}\n              helperText={state.error2}\n            />\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={invalid()}\n              type=\"submit\"\n            >\n              Cambiar contraseña\n            </Button>\n          </Grid>\n        </form>\n      </Box>\n    </Dialog>\n  );\n};\n\nexport default ChangePasswordDialog;\n","import Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Container from '@material-ui/core/Container';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Grid from '@material-ui/core/Grid';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Paper from '@material-ui/core/Paper';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Tab from '@material-ui/core/Tab';\nimport Tabs from '@material-ui/core/Tabs';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport EnhancedEncryptionIcon from '@material-ui/icons/EnhancedEncryption';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ChangePasswordDialog from '../Admin/Users/ChangePasswordDialog';\nimport { saduwux } from '../SF/Context';\nimport { handleFetch } from '../SF/helpers';\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    width: '100%',\n    display: 'flex',\n    alignItems:' center',\n    justifyContent: 'center',\n    '& form':{\n      padding: 20,\n      width: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-between',\n      '& .buttons-container': {\n        display: 'flex',\n        justifyContent: 'flex-end',\n        padding: 10\n      },\n    },\n    '& .MuiFormControl-root':{\n      margin: '0.5rem 0',\n    },\n    [theme.breakpoints.down('xs')]: {\n      alignItems: 'flex-start',\n      height: '100%',\n      overflow: 'auto',\n      '& .MuiContainer-root': {\n        display: 'none',\n      }\n    },\n  },\n  darkFocused: {\n    '& .Mui-focused':{\n      color: 'rgb(255, 255, 255)'\n    },\n    '& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline':{\n      borderColor: 'rgba(255, 255, 255, 0.7)',\n    },\n  },\n  root: {\n    '& .MuiTab-wrapper': {\n      justifyContent: 'flex-start',\n      flexDirection: 'row',\n    },\n    flexGrow: 1,\n    height: 400,\n    display: 'flex',\n    \n  },\n  list: {\n    width: '100%',\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper,\n  },\n  tabs: {\n    borderRight: `1px solid ${theme.palette.divider}`,\n  },\n  sectionMobile: {\n    display: 'block',\n    marginTop: '1rem',\n    maxWidth: 'calc(100vw - 2rem)',\n    width: 'calc(100vw - 2rem)',\n    height: 400,\n    '& .MuiAccordionDetails-root': {\n      minHeight: 250,\n      '& #vertical-tabpanel-1': {\n        width: '100%',\n        '& > *': {\n          display: 'flex',\n          alignItems: 'center',\n          height: '100%'\n        }\n      },\n      '& #vertical-tabpanel-2': {\n        width: '100%',\n        maxWidth: '100%',\n      }\n    },\n    [theme.breakpoints.up('sm')]: {\n      display: 'none',\n    },\n  },\n\n}));\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst pattern = {\n  nombre: new RegExp(`^[A-Z'\\\\s]*$`, 'i'),\n  apellido: new RegExp(`^[A-Z'\\\\s]*$`, 'i'),\n  respuesta1: new RegExp(`^[A-Z'0-9\\\\s]*$`, 'i'),\n  respuesta2: new RegExp(`^[A-Z'0-9\\\\s]*$`, 'i')\n}\n\nconst ExpansionPanel = withStyles({\n  root: {\n    border: '1px solid rgba(0, 0, 0, .125)',\n    boxShadow: 'none',\n    '&:not(:last-child)': {\n      borderBottom: 0,\n    },\n    '&:before': {\n      display: 'none',\n    },\n    '&$expanded': {\n      margin: 'auto',\n    },\n  },\n  expanded: {},\n})(Accordion);\n\nconst ExpansionPanelSummary = withStyles({\n  root: {\n    backgroundColor: 'rgba(0, 0, 0, .03)',\n    borderBottom: '1px solid rgba(0, 0, 0, .125)',\n    marginBottom: -1,\n    minHeight: 56,\n    '&$expanded': {\n      minHeight: 56,\n    },\n  },\n  content: {\n    '&$expanded': {\n      margin: '12px 0',\n    },\n  },\n  expanded: {},\n})(AccordionSummary);\n\nconst ExpansionPanelDetails = withStyles((theme) => ({\n  root: {\n    padding: theme.spacing(2),\n  },\n}))(AccordionDetails);\n\nconst questions = [\n  { id: '1', pregunta: '¿Cuál es el nombre de tu mejor amigo?' },\n  { id: '2', pregunta: '¿Cuál es la ciudad donde naciste?' },\n  { id: '3', pregunta: '¿Cómo se llamaba tu primera mascota?' },\n  { id: '4', pregunta: '¿Cuál es tu color favorito?' },\n  { id: '5', pregunta: '¿Cuál es el segundo nombre de tu madre?' },\n];\n\nconst TabPanel = ({ children, value, index, ...other }) => {\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={!other & (value !== index)}\n      id={`vertical-tabpanel-${index}`}\n      aria-labelledby={`vertical-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box>{children}</Box>}\n    </Typography>\n  );\n};\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nconst initialState = {\n  open: false,\n  value: 0,\n  message: '',\n  nombre: '',\n  apellido: '',\n  changePassword: false,\n  pregunta1: 1,\n  pregunta2: 2,\n  respuesta1: '',\n  respuesta2: '',\n  isLoading: false\n};\n\nconst userReducer = (state, payload) => {\n  return { ...state, ...payload };\n};\n\nconst ProfileSettings = () => {\n  const classes = useStyles();\n  /**@type {context} */\n  const { state: { user, theme }, dispatch } = React.useContext(saduwux);\n\n  const [state, update] = React.useReducer(userReducer, {\n    ...initialState,\n    pregunta1: user.pregunta1,\n    pregunta2: user.pregunta2,\n  });\n\n  const tapProps = (index) => {\n    return {\n      id: `vertical-tab-${index}`,\n      'aria-controls': `vertical-tabpanel-${index}`,\n    };\n  };\n\n  const getPartialInfo = (tab) => {\n    switch (tab) {\n      case 0: {\n        return JSON.stringify({\n          nombre: state.nombre,\n          apellido: state.apellido,\n        });\n      }\n      case 2: {\n        return JSON.stringify({\n          pregunta1: state.pregunta1,\n          pregunta2: state.pregunta2,\n          respuesta1: state.respuesta1,\n          respuesta2: state.respuesta2,\n        });\n      }\n\n      default: {\n        return '';\n      }\n    }\n  };\n\n  const invalid = () => {\n    switch(state.value) {\n      case 2: {\n        const { pregunta1, pregunta2, respuesta1, respuesta2 } = state;\n        return respuesta1.trim().length < 3\n          || respuesta2.trim().length < 3\n          || pregunta1 === pregunta2;\n      }\n      case 0: {\n        return state.nombre.trim().length < 2 || state.apellido.trim().length < 2;\n      }\n      default: return true;\n    }\n  }\n\n  const handleUpdate = (e) => {\n    e.preventDefault();\n    if (invalid() || state.value === 1) {\n      // alert('Marico las contraseñas no coinciden');\n      return;\n    }\n    update({isLoading: true});\n    const headers = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n      body: getPartialInfo(state.value)\n    };\n    fetch(`/api/users/${user.id}`, headers)\n      .then(handleFetch)\n      .then((res) => {\n        localStorage.setItem('token', 'bearer ' + res.token);\n        dispatch({\n          type: 'update',\n          payload: {\n            user: res.user\n          }\n        });\n        update({\n          ...initialState,\n          value: state.value,\n          pregunta1: res.user.pregunta1,\n          pregunta2: res.user.pregunta2,\n          open: true,\n          isLoading: false,\n          severity: 'success',\n          message: 'Cambios guardados satisfactoriamente!',\n        });\n      })\n      .catch((mistake) => {\n        update({\n          open: true,\n          message: mistake.message,\n          severity: 'success',\n          isLoading: false\n        });\n      });\n  };\n\n  const handleChange = (event) => {\n    const {target} = event;\n    if(!pattern[target.name] || target.value.trim().match(pattern[target.name])) {\n      update({[target.name] : target.value})\n    }\n  }\n  const handleChangePassword = (data)  => {\n    if (!data) {\n      update({ changePassword: null });\n      return;\n    }\n    update({ isLoading: true, changePassword: null });\n    const headers = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n      body: JSON.stringify({ password: data.password }),\n    };\n\n    fetch(`/api/users/${data.userID}`, headers)\n      .then(handleFetch)\n      .then(() => {\n        update({\n          isLoading: false,\n          open: true,\n          message: 'Contraseña cambiada',\n          severity: 'success'\n        });\n      })\n      .catch((err) => {\n        update({\n          isLoading: false,\n          open: true,\n          message: err.message,\n          severity: 'error'\n        });\n      });\n  };\n  const setChangePassword = ()  => {\n    update({ changePassword:  user})\n  }\n\n  const mapPreguntas = questions.map((P, index) => {\n    return (\n      <MenuItem key={index} value={P.id}>\n        {' '}\n        {P.pregunta}{' '}\n      </MenuItem>\n    );\n  });\n\n  const handleTapChange = (event, value) => {\n    update({ value })\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    update({ open: false });\n  };\n\n  const getTap = (index) => {\n    switch(index) {\n      case 2: {\n        return (\n          <Grid container>\n            <Grid item xs={12}>\n              <TextField\n                select\n                onChange={handleChange}\n                value={state.pregunta1}\n                name=\"pregunta1\"\n                required\n                label=\"Primera pregunta\"\n                variant=\"outlined\"\n                fullWidth\n                margin=\"normal\"\n              >\n                { mapPreguntas }\n              </TextField>\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                onChange={handleChange}\n                value={state.respuesta1}\n                name=\"respuesta1\"\n                required\n                label=\"Respuesta \"\n                variant=\"outlined\"\n                fullWidth\n                margin=\"normal\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                select\n                onChange={handleChange}\n                value={state.pregunta2}\n                name=\"pregunta2\"\n                required\n                label=\"Segunda pregunta\"\n                variant=\"outlined\"\n                fullWidth\n                margin=\"normal\"\n              >\n                {mapPreguntas}\n              </TextField>\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                onChange={handleChange}\n                value={state.respuesta2}\n                name=\"respuesta2\"\n                required\n                label=\"Respuesta \"\n                variant=\"outlined\"\n                fullWidth\n                margin=\"normal\"\n              />\n            </Grid>\n          </Grid>\n        );\n      }\n      case 1: {\n        return (\n          <Grid\n            container\n            direction=\"row\"\n            align=\"center\"\n            justify=\"center\"\n          >\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              type=\"button\"\n              onClick={setChangePassword}\n              startIcon={<EnhancedEncryptionIcon />}\n            >\n              Cambiar contraseña\n            </Button>\n          </Grid>\n        );\n      }\n      default: {\n        return (\n          <Grid container>\n            <Grid item xs={12}>\n              <TextField\n                onChange={(e) => handleChange(e)}\n                value={state.nombre}\n                required\n                name=\"nombre\"\n                label={`Nombre (${user.nombre})`}\n                variant=\"outlined\"\n                fullWidth\n                helperText=\"El nombre debe contener al menos 2 catacteres\"\n                margin=\"normal\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                onChange={(e) => handleChange(e)}\n                value={state.apellido}\n                name=\"apellido\"\n                required\n                label={`Apellido (${user.apellido})`}\n                helperText=\"El apellido debe contener al menos 2 catacteres\"\n                variant=\"outlined\"\n                fullWidth\n                margin=\"normal\"\n              />\n            </Grid>\n          </Grid>\n        );\n      }\n    }\n  }\n\n  const content = (\n    <React.Fragment>\n      {[0,1,2].map(index => (\n        <TabPanel key={`panel-${index}`} value={state.value} index={index}>\n          {getTap(index)}\n        </TabPanel>\n      ))}\n    </React.Fragment>\n  );\n\n  const getClasses = () =>{\n    let className = classes.main;\n    if (theme) className += ` ${classes.darkFocused}`;\n    return className;\n  }\n\n  return (\n    <Box\n      component=\"main\"\n      className={getClasses()}\n    >\n      <Container maxWidth=\"md\">\n        <Paper className={classes.root}>\n          <Tabs\n            orientation=\"vertical\"\n            variant=\"fullWidth\"\n            value={state.value}\n            indicatorColor=\"primary\"\n            onChange={handleTapChange}\n            aria-label=\"Configuracion de perfil\"\n            className={classes.tabs}\n          >\n            <Tab label=\"Perfil\" {...tapProps(0)} />\n            <Tab label=\"Contraseña\" {...tapProps(1)} />\n            <Tab label=\"Preguntas Secretas\" {...tapProps(2)} />\n          </Tabs>\n          <form\n            autoComplete=\"off\"\n            onSubmit={handleUpdate}\n          >\n            {content}\n            {\n              state.value !== 1 && (\n                <Box className=\"buttons-container\">\n                  <Button\n                    disabled={invalid()}\n                    variant=\"contained\"\n                    color=\"primary\"\n                    type=\"submit\"\n                    className={classes.button}\n                  >\n                    {' '}\n                    Guardar\n                  </Button>\n                </Box>\n              )\n            }\n          </form>\n        </Paper>\n      </Container>\n      \n      <Box className={classes.sectionMobile}>\n        <ExpansionPanel\n          square\n          id=\"panel2\"\n          expanded={!state.value}\n          onChange={() => handleTapChange('', 0)}\n        >\n          <ExpansionPanelSummary \n            expandIcon={<ExpandMoreIcon />}\n            id=\"p1d-header\"\n          >\n            <Typography className={classes.heading}>\n              Perfil\n            </Typography>\n          </ExpansionPanelSummary>\n          <ExpansionPanelDetails>\n            <form\n              onSubmit={handleUpdate}\n            >\n              { getTap(0) }\n              \n              <Button\n                disabled={state.nombre.length <= 1 && state.apellido.length <= 1}\n                variant=\"contained\"\n                color=\"primary\"\n                type=\"submit\"\n                className={classes.button}\n              >\n                {' '}\n                Guardar\n              </Button>\n            \n            </form>\n          </ExpansionPanelDetails>\n        </ExpansionPanel>\n\n        <ExpansionPanel\n          square\n          id=\"panel2\"\n          expanded={state.value === 1}\n          onChange={() => handleTapChange('', 1)}\n        >\n          <ExpansionPanelSummary\n            expandIcon={<ExpandMoreIcon />}\n            id=\"p2d-header\"\n          >\n            <Typography className={classes.heading}>\n              Contraseña\n            </Typography>\n          </ExpansionPanelSummary>\n          <ExpansionPanelDetails>\n            { getTap(1) }\n          </ExpansionPanelDetails>\n        </ExpansionPanel>\n\n        <ExpansionPanel\n          square\n          id=\"panel3\"\n          expanded={state.value === 2}\n          onChange={() => handleTapChange('', 2)}\n        >\n          <ExpansionPanelSummary\n            expandIcon={<ExpandMoreIcon />}\n            id=\"p1d-header\"\n          >\n            <Typography className={classes.heading}>\n              Preguntas secretas\n            </Typography>\n          </ExpansionPanelSummary>\n          <ExpansionPanelDetails>\n            <form\n              onSubmit={handleUpdate}\n            >\n              { getTap(2) }\n              <Button\n                disabled={state.respuesta1.length < 2 && state.respuesta2.length < 2}\n                variant=\"contained\"\n                color=\"primary\"\n                type=\"submit\"\n                className={classes.button}\n              >\n                {' '}\n                Guardar\n              </Button>\n            </form>\n          </ExpansionPanelDetails>\n        </ExpansionPanel>\n      </Box>\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'right',\n        }}\n        open={state.open}\n        autoHideDuration={2000}\n        onClose={handleClose}\n      >\n        <Alert onClose={handleClose} severity={state.severity || \"success\"}>\n          {state.message}\n        </Alert>\n      </Snackbar>\n      <ChangePasswordDialog\n        user={state.changePassword}\n        handleClose={handleChangePassword}\n      />\n    </Box>\n  );\n};\n\nexport default ProfileSettings;\n\n// <Box display={{ xs: 'block', sm: 'none' }}>\n//   <Toolbar variant=\"dense\" />\n// </Box>","import { Snackbar } from '@material-ui/core';\nimport Card from '@material-ui/core/Card';\nimport Box from '@material-ui/core/Box';\nimport md5 from 'md5';\nimport Grid from '@material-ui/core/Grid';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Link from '@material-ui/core/Link';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Step from '@material-ui/core/Step';\nimport Divider from '@material-ui/core/Divider';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Stepper from '@material-ui/core/Stepper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloudIcon from '@material-ui/icons/Cloud';\nimport React, { useReducer } from 'react';\nimport { useHistory, Redirect } from 'react-router-dom';\nimport { handleFetch, structuteChecker, reactLink } from '../SF/helpers';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport backgroundimg1 from '../SF/Media/background_study_by_hibelton_dc28kuo-fullview.jpg';\nimport { saduwux } from '../SF/Context';\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    gridColumnStart: '1',\n    gridColumnEnd: '3',\n    gridRowStart: '1',\n    gridRowEnd: '3',\n    display: 'flex',\n    placeContent: 'center',\n    alignItems: 'center',\n    backgroundImage: `url(${backgroundimg1})`,\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? '#cecece' : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n\n    '& .MuiIconButton-root': {\n      padding: 0,\n    },\n    '& .MuiFormControl-root':{\n      margin: '0.5rem',\n    },\n    '& .MuiGrid-container': {\n      width: '550px',\n    },\n    '& .MuiGrid-item': {\n      padding: '0.5rem',\n    },\n    '& .MuiFormHelperText-root': {\n      margin: '0',\n    },\n    '& .forgot': {\n      width: '100%',\n      textAlign: 'center',\n      color: 'rgba(0,0,0,0.7)',\n      marginTop: '0.5rem',\n      display: 'inline-block'\n    },\n    [theme.breakpoints.down('xs')]: {\n      gridColumnStart: '1',\n      gridColumnEnd: '2',\n      gridRowStart: '1',\n      gridRowEnd: '4',\n      '& .MuiCard-root': {\n        maxWidth: 'calc(100vw - 10px)',\n        padding: '1rem'\n      },\n      '& .MuiGrid-container': {\n        width: '275px',\n      },\n      '& .MuiFormControl-root':{\n        margin: '0.5rem 0px',\n      },\n      '& .MuiCardContent-root': {\n        padding: 0\n      }\n    },\n  },\n  instructions: {\n    width: '275px'\n  },\n  form: {\n    margin: '0',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  box: {\n    padding: '1rem 3rem',\n    backgroundColor: '#fff',\n    borderRadius: '1rem',\n    maxWidth: '100%',\n  },\n  bottonContainer: {\n    marginTop: '1rem',\n    display: 'flex',\n    placeContent: 'space-between',\n\n    '& button': {\n      padding: '0.5rem 1rem',\n      fontWeight: '600',\n\n      '&.MuiButton-containedPrimary': {\n        color: '#fff',\n      },\n      '&.Mui-disabled': {\n        color: 'rgba(0, 0, 0, 0.26)',\n      },\n    },\n  },\n}));\n\nconst pattern = {\n  user: new RegExp('^[A-Z0-9]*$', 'i'),\n  nombre: new RegExp(`^[A-Z'\\\\s]*$`, 'i'),\n  apellido: new RegExp(`^[A-Z'\\\\s]*$`, 'i'),\n  respuesta1: new RegExp(`^[A-Z'0-9\\\\s]*$`, 'i'),\n  respuesta2: new RegExp(`^[A-Z'0-9\\\\s]*$`, 'i')\n}\n\nconst Alert = (props) => {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n};\n\nconst initialState = {\n  open: false,\n  message: '',\n  activeStep: 0,\n  nombre: '',\n  apellido: '',\n  user: '',\n  userExist: false,\n  password: '',\n  password2: '',\n  pregunta1: 1,\n  pregunta2: 2,\n  respuesta1: '',\n  respuesta2: '',\n  questions: [],\n  touched: false,\n  isLoading: false,\n  severity: 'success'\n};\n\nconst reducer = (state, action) => {\n  if (action) {\n    return { ...state, ...action };\n  }\n\n  switch (state.activeStep) {\n    case 3: {\n      return {\n        ...state,\n        user: '',\n        userExist: false,\n        touched: true,\n        activeStep: 2,\n      };\n    }\n    case 2: {\n      return {\n        ...state,\n        pregunta1: 1,\n        pregunta2: 2,\n        respuesta1: '',\n        respuesta2: '',\n        touched: true,\n        activeStep: 1,\n      };\n    }\n    case 1: {\n      return {\n        ...state,\n        touched: true,\n        nombre: '',\n        apellido: '',\n        password: '',\n        password2: '',\n        activeStep: 0,\n      };\n    }\n    default:\n      return initialState;\n  }\n};\nconst Register = () => {\n  let history = useHistory();\n  const classes = useStyles();\n\n  const [state, update] = useReducer(reducer, initialState);\n  const { state: global, dispatch } = React.useContext(saduwux);\n\n  React.useEffect(() => {\n    if(global.logStatus !== 2){\n      localStorage.clear();\n      dispatch({\n        type: 'update',\n        payload: {\n          logStatus: 0,\n          theme: false\n        }\n      });\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (global.logStatus === 2) {\n    return (\n      <Redirect to=\"/busqueda\"/>\n    );\n  }\n\n  const invalid = () => {\n    if (!state.touched || state.isLoading) {\n      return true;\n    }\n    switch (state.activeStep) {\n      case 0: {\n        const { nombre, apellido, password, password2 } = state;\n        return nombre.trim().length < 2\n          || apellido.trim().length < 2\n          || password.length < 6\n          || password !== password2;\n      }\n      case 1: {\n        const { pregunta1, pregunta2, respuesta1, respuesta2 } = state;\n        return respuesta1.trim().length < 3\n          || respuesta2.trim().length < 3\n          || pregunta1 === pregunta2;\n      }\n      case 2: {\n        const { user } = state;\n        return (user.length < 6);\n      }\n      default:\n        break;\n    }\n  };\n\n  const questions = [\n    { id: 1, pregunta: 'Cuál es el nombre de tu mejor amigo?' },\n    { id: 2, pregunta: 'Cuál es la ciudad donde naciste?' },\n    { id: 3, pregunta: 'Cómo se llamaba tu primera mascota?' },\n    { id: 4, pregunta: 'Cuál es tu color favorito?' },\n    { id: 5, pregunta: 'Cuál es el segundo nombre de tu madre?' },\n  ];\n\n  const handleRegister = () => {\n    update({ isLoading: true });\n\n    fetch('/api/users', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        nombre: state.nombre.trim(),\n        apellido: state.apellido.trim(),\n        password: md5(state.password.replace(/\\s+/g, '')),\n        usuario: state.user.replace(/\\s+/g, ''),\n        pregunta1: state.pregunta1,\n        pregunta2: state.pregunta2,\n        respuesta1: state.respuesta1.trim(),\n        respuesta2: state.respuesta2.trim(),\n      }),\n    })\n      .then(handleFetch)\n      .then((data) => {\n        update({\n          open: true,\n          message: data.message,\n          severity: 'success'\n        });\n        setTimeout(() => {\n          history.push('/login');\n        }, 1500);\n      })\n      .catch((err) => {\n        update({\n          activeStep: 2,\n          open: true,\n          userExist: err.code === 6,\n          severity: 'error',\n          message: err.message,\n          isLoading: false,\n          touched: false\n        });\n      });\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    update({ open: false });\n  };\n\n  const steps = [\n    'Nombres y Contraseña',\n    'Preguntas Secretas',\n    'Nombre de usuario',\n  ];\n  const handleNext = (e) => {\n    e.preventDefault();\n    if (invalid()) {\n      update({\n        open: true,\n        severity: 'error',\n        message: 'Faltan datos',\n        isLoading: false,\n        touched: false\n      });\n      return;\n    }\n    if (state.activeStep === 2) {\n      handleRegister()\n      return;\n    }\n    update({\n      activeStep: state.activeStep + 1\n    });\n  }\n  const handleBack = () => update();\n\n  const handleChange = (event) => {\n    const { target } = event; \n    if(!pattern[target.name] || target.value.trim().match(pattern[target.name])) {\n      update({\n        [target.name]: target.value,\n        touched: true\n      });\n    }\n  };\n  const handleChangeTrim = ({ target }) => {\n    if(!pattern[target.name] || target.value.trim().match(pattern[target.name])) {\n      update({\n        [target.name]: target.value.replace(/\\s+/g, ''),\n        userExist: target.name === 'user' ? false : state.userExist,\n        touched: true\n      });\n    }\n\n  }\n  const mapPreguntas = questions.map((item) => {\n    return (\n      <MenuItem key={item.id} value={item.id}>\n        {' '}\n        {item.pregunta}{' '}\n      </MenuItem>\n    );\n  });\n\n  const getStepContent = (step) => {\n    switch (step) {\n      case 0: {\n        return (\n          <Grid container >\n            <Grid item xs={12} sm={6}>\n              <TextField\n                required\n                onChange={handleChange}\n                name=\"nombre\"\n                value={state.nombre}\n                id=\"nombre\"\n                label=\"Nombre\"\n                variant=\"outlined\"\n                helperText=\"El nombre debe contener al menos 2 catacteres\"\n                fullWidth\n                inputProps={{\n                  maxLength: 32\n                }}\n              />\n              <TextField\n                required\n                onChange={handleChange}\n                name=\"apellido\"\n                value={state.apellido}\n                id=\"apellido\"\n                label=\"Apellido\"\n                variant=\"outlined\"\n                helperText=\"El apellido debe contener al menos 2 catacteres\"\n                fullWidth\n                inputProps={{\n                  maxLength: 32\n                }}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                required\n                onChange={handleChangeTrim}\n                name=\"password\"\n                value={state.password}\n                type=\"password\"\n                id=\"password\"\n                label=\"Contraseña\"\n                variant=\"outlined\"\n                helperText=\"La contraseña debe contener al menos 6 catacteres\"\n                fullWidth\n                inputProps={{\n                  maxLength: 16\n                }}\n              />\n              <TextField\n                required\n                onChange={handleChangeTrim}\n                name=\"password2\"\n                value={state.password2}\n                type=\"password\"\n                id=\"password2\"\n                label=\"Confirmar contraseña\"\n                variant=\"outlined\"\n                fullWidth\n                inputProps={{\n                  maxLength: 16\n                }}\n                error={\n                  state.password2.length > 2 &&\n                  state.password !== state.password2}\n                helperText={\n                  state.password2.length > 2 &&\n                  state.password !== state.password2\n                    ? 'Las contraseñas no coinciden'\n                    : ' '\n                }\n              />\n            </Grid>\n          </Grid>\n        );\n      }\n      case 1:\n        return (\n          <Grid container>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                required\n                id=\"outlined-select-currency\"\n                select\n                onChange={handleChange}\n                name=\"pregunta1\"\n                helperText={\n                  state.pregunta1 === state.pregunta2\n                    ? 'Las preguntas no pueden ser iguales'\n                    : ''\n                }\n                error={state.pregunta1 === state.pregunta2}\n                value={state.pregunta1}\n                label=\"Primera pregunta\"\n                variant=\"outlined\"\n                fullWidth\n              >\n                {mapPreguntas}\n              </TextField>\n              <TextField\n                required\n                onChange={handleChange}\n                name=\"respuesta1\"\n                value={state.respuesta1}\n                id=\"outlined-basic\"\n                label=\"Respuesta\"\n                variant=\"outlined\"\n                fullWidth\n                inputProps={{\n                  maxLength: 32\n                }}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                required\n                id=\"outlined-select-currency\"\n                select\n                label=\"Segunda pregunta\"\n                onChange={handleChange}\n                name=\"pregunta2\"\n                helperText={\n                  state.pregunta1 === state.pregunta2\n                    ? 'Las preguntas no pueden ser iguales'\n                    : ''\n                }\n                error={state.pregunta1 === state.pregunta2}\n                value={state.pregunta2}\n                variant=\"outlined\"\n                fullWidth\n              >\n                {mapPreguntas}\n              </TextField>\n              <TextField\n                required\n                onChange={handleChange}\n                name=\"respuesta2\"\n                value={state.respuesta2}\n                id=\"outlined-basic\"\n                label=\"Respuesta\"\n                variant=\"outlined\"\n                fullWidth\n                inputProps={{\n                  maxLength: 32\n                }}\n              />\n            </Grid>\n          </Grid>\n        );\n      case 2:\n        return (\n          <Box className={classes.instructions}>\n            <TextField\n              onChange={handleChangeTrim}\n              name=\"user\"\n              disabled={state.isLoading}\n              value={state.user}\n              helperText={\n                state.userExist ? \n                'El nombre de usuario ya existe' :\n                'Tu usuario debe contener al menos 6 catacteres'\n              }\n              error={state.userExist}\n              id=\"outlined-basic\"\n              label=\"Nombre de usuario\"\n              variant=\"outlined\"\n              fullWidth\n              inputProps={{\n                maxLength: 16\n              }}\n            />\n          </Box>\n        );\n      default:\n        return 'Paso no existente';\n    }\n  };\n  return (\n    <Box className={classes.main} component=\"main\">\n      <Card className={classes.box}>\n      <CardContent>\n          <Box\n            display=\"flex\"\n            flexDirection=\"column\"\n            alignItems=\"center\"\n          >\n            <Link to=\"/\" component={reactLink}>\n              <IconButton>\n                <CloudIcon color=\"primary\" style={{ fontSize: '4rem' }} />\n              </IconButton>\n            </Link>\n            <Typography color=\"secondary\" component=\"h2\" variant=\"h4\">\n              Cloudster\n            </Typography>\n            <Typography component=\"h6\" variant=\"h6\">\n              Registrar nuevo usuario\n            </Typography>\n          </Box>\n          <Stepper\n            activeStep={state.activeStep}\n            style={{ padding: '0px 0px 24px' }}\n            alternativeLabel\n          >\n            {steps.map((label) => (\n              <Step key={label}>\n                <StepLabel>{label}</StepLabel>\n              </Step>\n            ))}\n          </Stepper>\n          <Divider/>\n          <form\n            autoComplete=\"off\"\n            className={classes.form}\n            onSubmit={handleNext}\n          >\n\n            <Box>\n              {getStepContent(state.activeStep)}\n            </Box>\n\n            <Box width={1} className={classes.bottonContainer}>\n              <Button\n                disabled={!state.activeStep || state.isLoading}\n                onClick={handleBack}\n                className={classes.button}\n                type=\"button\"\n                variant=\"outlined\"\n              >\n                Volver\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                disabled={invalid()}\n                type=\"submit\"\n              >\n                {state.activeStep === steps.length - 1\n                  ? 'Aceptar'\n                  : 'Siguiente'}\n              </Button>\n            </Box>\n            <Link\n              component={reactLink}\n              to=\"/login\"\n              className=\"forgot\"\n            >\n              ¿Ya tienes cuenta? ¡Inicia Sesión!\n            </Link>\n          </form>\n        </CardContent>\n      </Card>\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        open={state.open}\n        autoHideDuration={6000}\n        onClose={handleClose}\n      >\n        <Alert onClose={handleClose} severity={state.severity}>\n          {state.message}\n        </Alert>\n      </Snackbar>\n    </Box>\n  );\n};\n\nexport default Register;\n","//import { makeStyles, Box, Paper, Typography } from '@material-ui/core';\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport React, { useContext } from 'react';\nimport Iframe from 'react-iframe';\nimport { saduwux } from '../SF/Context';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(3, 2),\n  },\n  hiden: {\n    display: 'none',\n  },\n  toolbar: theme.mixins.toolbar,\n}));\nconst route = window.location.origin;\n// const route = window.location.hostname;\n\nconst Reproductor = () => {\n  const classes = useStyles();\n  const {\n    state: { playing },\n  } = useContext(saduwux);\n\n  if (playing) {\n    const token = localStorage.getItem('token') && localStorage.getItem('token').replace(/[Bb]earer /, '');\n    return (\n      <Box width={1} className='min-h100'>\n        <div className=\"flex-column min-h100\">\n          <div style={{ flexGrow: '1', overflow: 'auto', width: '100%' }}>\n            <Iframe\n              url={`${route}/api/watch/${playing}?token=${token}`}\n              height=\"100%\"\n              width=\"100%\"\n              allow=\"fullscreen\"\n              frameBorder=\"0\"\n            />\n          </div>\n        </div>\n      </Box>\n    );\n  } \n  return (\n    <Box\n      textAlign=\"center\"\n      bgcolor=\"bg.main\"\n      display=\"flex\"\n      width={1}\n      className='min-h100'\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      <Paper className={classes.root}>\n        <Typography variant=\"h5\" component=\"h3\">\n          Aún no hay nada para visualizar!\n        </Typography>\n        <Typography component=\"p\">\n          Te invitamos a seleccionar un archivo en la sección de búsqueda.\n        </Typography>\n      </Paper>\n    </Box>\n  );\n};\n\nexport default Reproductor;\n","import Box from '@material-ui/core/Box';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SvgIcon from '@material-ui/core/SvgIcon/SvgIcon';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport PlayCircleFilledIcon from '@material-ui/icons/PlayCircleFilled';\nimport BuildIcon from '@material-ui/icons/Build';\nimport React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { saduwux } from '../SF/Context';\nimport { reactLink } from '../SF/helpers';\nimport green from '@material-ui/core/colors/green';\n\nconst routes = [`/busqueda`, `/reproductor`, `/perfil`, `/admin`];\nconst routesComponents = [\n  FolderIcon,\n  PlayCircleFilledIcon,\n  AccountCircleIcon,\n  BuildIcon,\n];\n\nconst useStyles = makeStyles((theme) => ({\n  aside: {\n    '& .MuiDrawer-root': {\n      flexShrink: 0,\n    },\n    '& .flex': {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-between',\n      width: '100%',\n    },\n    '& .Mui-selected': {\n      backgroundColor: 'rgba(0,0,0,0.1)',\n      borderLeft: '2px solid ' + green[500],\n    },\n    '& .MuiListItemIcon-root': { minWidth: '0' },\n    '& .MuiListItem-gutters': {\n      paddingLeft: 8,\n      paddingRight: 8,\n    },\n    '& .hide-on-big': {\n      display: 'none',\n    },\n    [theme.breakpoints.down('xs')]: {\n      gridRowStart: 3,\n      '& .flex': {\n        flexDirection: 'row',\n      },\n      '& .MuiListItem-gutters': {\n        padding: '0px',\n      },\n      '& .MuiList-root': {\n        display: 'flex',\n        padding: '0px',\n        width: '100%',\n      },\n      '& .Mui-selected': {\n        border: 'none',\n        borderBottom: '2px solid ' + green[500],\n      },\n      '& .MuiButtonBase-root': {\n        justifyContent: 'center',\n        alignItems: 'center',\n      },\n      '& .hide-on-small': {\n        display: 'none',\n      },\n      '& .hide-on-big': {\n        display: 'flex',\n      },\n    },\n  },\n  dark: {\n    '& .MuiListItemIcon-root': { color: 'white' },\n    '& .MuiDrawer-paper': { backgroundColor: '#252525' },\n  },\n}));\n\nconst Sidebar = () => {\n  const classes = useStyles();\n  const location = useLocation();\n\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\n  const { state: globalState, dispatch } = React.useContext(saduwux);\n\n  React.useEffect(() => {\n    const [, url] = location.pathname.split('/');\n    const x = routes.indexOf(`/${url}`);\n    setSelectedIndex(x);\n  }, [location.pathname]);\n\n  const signout = () => {\n    localStorage.clear();\n    dispatch({ type: 'reset' });\n  };\n\n  const listItems = () =>\n    routes.reduce((prev, route, index) => {\n      if (index === 3 && globalState.user.nivel < 5) return prev;\n      const fragment = (\n        <React.Fragment key={index}>\n          <ListItem\n            button\n            component={reactLink}\n            to={route}\n            selected={selectedIndex === index}\n          >\n            <ListItemIcon>\n              <SvgIcon fontSize=\"large\" component={routesComponents[index]} />\n            </ListItemIcon>\n          </ListItem>\n          <Divider className=\"hide-on-small\" />\n        </React.Fragment>\n      );\n      prev.push(fragment);\n      return prev;\n    }, []);\n\n  const getClass = () => {\n    let className = `${classes.aside} `;\n    className += globalState.theme ? classes.dark : '';\n    return className;\n  };\n  return (\n    <Box component=\"aside\" className={getClass()}>\n      <Drawer\n        className={`min-h100`}\n        color=\"primary.main\"\n        variant=\"permanent\"\n        classes={{\n          paper: `flex position-static`,\n        }}\n      >\n        <List>\n          {listItems()}\n          <ListItem\n            className=\"hide-on-big\"\n            button\n            component={reactLink}\n            to=\"/\"\n            onClick={signout}\n          >\n            <ListItemIcon>\n              <ExitToAppIcon fontSize=\"large\" />\n            </ListItemIcon>\n          </ListItem>\n        </List>\n\n        <List className=\"hide-on-small\">\n          <ListItem button component={reactLink} to=\"/\" onClick={signout}>\n            <ListItemIcon>\n              <ExitToAppIcon fontSize=\"large\" />\n            </ListItemIcon>\n          </ListItem>\n        </List>\n      </Drawer>\n    </Box>\n  );\n};\n\nexport default Sidebar;\n","import AppBar from '@material-ui/core/AppBar';\nimport Box from '@material-ui/core/Box';\nimport IconButton from '@material-ui/core/IconButton';\nimport InputBase from '@material-ui/core/InputBase';\nimport Link from '@material-ui/core/Link';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport FilterDramaIcon from '@material-ui/icons/FilterDrama';\nimport MenuOpenIcon from '@material-ui/icons/MenuOpen';\nimport SearchIcon from '@material-ui/icons/Search';\nimport React, { useContext } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { saduwux } from '../SF/Context';\nimport { reactLink } from '../SF/helpers';\n\nconst useStyles = makeStyles((theme) => ({\n  grow: { flexGrow: 1 },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    position: 'static',\n    gridColumnStart: 1,\n    gridColumnEnd: 3,\n    [theme.breakpoints.down('xs')]: {\n      gridColumnStart: 1,\n      gridColumnEnd: 2,\n    },\n  },\n  menuButton: { marginRight: theme.spacing(2) },\n  inputRoot: { color: 'inherit' },\n  icon: {\n    margin: 0,\n    [theme.breakpoints.down('xs')]: { marginRight: theme.spacing(2) },\n  },\n  title: {\n    display: 'none',\n    [theme.breakpoints.up('sm')]: { display: 'block' },\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': { backgroundColor: fade(theme.palette.common.white, 0.25) },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(3),\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    width: theme.spacing(7),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 7),\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('md')]: { width: 200 },\n  },\n  sectionDesktop: {\n    display: 'none',\n    [theme.breakpoints.up('md')]: { display: 'flex' },\n  },\n}));\n\nconst routes = [`busqueda`, `admin`];\n\nconst TopBar = () => {\n  const classes = useStyles();\n  const location = useLocation();\n  const matches = useMediaQuery((theme) => theme.breakpoints.down('xs'));\n\n  const {\n    state: {\n      search,\n      user: { usuario, nivel },\n    },\n    dispatch,\n  } = useContext(saduwux);\n\n  const searchBar = () => {\n    if (!routes.some((route) => location.pathname.includes(route))) {\n      return '';\n    }\n    return (\n      <div className={classes.search}>\n        <div className={classes.searchIcon}>\n          <SearchIcon />\n        </div>\n        <InputBase\n          placeholder=\"Buscar...\"\n          classes={{\n            root: classes.inputRoot,\n            input: classes.inputInput,\n          }}\n          inputProps={{ 'aria-label': 'search' }}\n          value={search}\n          onChange={(e) =>\n            dispatch({ type: 'update', payload: { search: e.target.value } })\n          }\n        />\n      </div>\n    );\n  };\n\n  const menuOpen = () => {\n    if (nivel !== 5 || !location.pathname.includes('admin') || !matches) {\n      return '';\n    }\n    return (\n      <IconButton\n        aria-label=\"delete\"\n        onClick={() =>\n          dispatch({\n            type: 'update',\n            payload: {\n              mobileOpen: true,\n            },\n          })\n        }\n      >\n        <MenuOpenIcon />\n      </IconButton>\n    );\n  };\n\n  return (\n    <AppBar className={classes.appBar}>\n      <Toolbar>\n        <FilterDramaIcon className={classes.icon} />\n        <Typography className={classes.title} variant=\"h5\">\n          Cloudster\n        </Typography>\n        {searchBar()}\n        <div className={classes.grow} />\n        <Link\n          component={reactLink}\n          to=\"/Perfil\"\n          color=\"inherit\"\n          underline=\"none\"\n        >\n          <Box display={{ xs: 'none', sm: 'flex' }}>\n            <AccountCircle />\n            <Typography>{usuario}</Typography>\n          </Box>\n        </Link>\n        {menuOpen()}\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default TopBar;\n","import React from 'react';\n//import { makeStyles, Box, Paper, Typography } from '@material-ui/core';\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport backgroundimg1 from '../SF/Media/background_study_by_hibelton_dc28kuo-fullview.jpg';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    gridColumnStart: '1',\n    gridColumnEnd: '3',\n    gridRowStart: '1',\n    gridRowEnd: '3',\n    backgroundImage: `url(${backgroundimg1})`,\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    [theme.breakpoints.down('xs')]: {\n      gridColumnStart: '1',\n      gridColumnEnd: '2',\n      gridRowStart: '1',\n      gridRowEnd: '4',\n      \n    },\n    '& .MuiPaper-root': {\n      padding: theme.spacing(3, 2)\n    }\n  },\n}));\n\nconst NotFound = () => {\n  const classes = useStyles();\n\n  return (\n    <Box\n      textAlign=\"center\"\n      display=\"flex\"\n      width={1}\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      className={classes.root}\n    >\n      <Paper>\n        <Typography variant=\"h5\" component=\"h3\">\n          Lo sentimos!\n        </Typography>\n        <Typography component=\"p\">\n          La página que estás buscando no existe.\n        </Typography>\n      </Paper>\n    </Box>\n  );\n};\n\nexport default NotFound;\n","import Card from '@material-ui/core/Card';\nimport Box from '@material-ui/core/Box';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Divider from '@material-ui/core/Divider';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport React from 'react';\nimport {\n  Label,\n  Cell,\n  Legend,\n  Pie,\n  PieChart,\n  ResponsiveContainer,\n} from 'recharts';\nimport { handleFetch } from '../SF/helpers';\nimport CloudQueueIcon from '@material-ui/icons/CloudQueue';\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    height: '100%',\n    '& .card-box': {\n      minWidth: 300,\n      maxWidth: 480,\n      width: '100%',\n      padding: '0 10px',\n      '& .MuiSvgIcon-root': {\n        fontSize: 200,\n        width: '100%',\n      },\n      '& .MuiCardHeader-root': {\n        textAlign: 'center',\n      },\n      '& .MuiCard-root': {\n        minWidth: 300,\n        maxWidth: 480,\n        margin: '1rem',\n        width: '100%',\n        height: 'min-content',\n        [theme.breakpoints.down('sm')]: {\n          maxWidth: 'calc(100vw - 1rem)',\n        },\n        '& .MuiCardContent-root:last-child': {\n          paddingBottom: 16,\n        },\n      },\n      '& .center': {\n        display: 'flex',\n        justifyContent: 'center',\n      },\n    },\n  },\n  list: {\n    overflow: 'auto',\n    maxHeight: 300,\n  },\n  dark: {\n    backgroundColor: '#393d46',\n    color: '#fff',\n    '& .files': {\n      color: '#4caf50',\n    },\n    '& .MuiSvgIcon-root': {\n      color: '#fff',\n    },\n  },\n  dim: {\n    color: 'white',\n    '& .files': {\n      color: '#4caf50',\n    },\n    '& .MuiSvgIcon-root': {\n      color: '#ffa726',\n    },\n  },\n}));\n\nconst initialState = {\n  totalSize: 0,\n  total: 0,\n  chartData: null,\n  actions: 0,\n  parsedSize: '',\n};\n\nconst Details = ({ type = 'files', onResponse, loadingComponent, dark }) => {\n  const isFile = Boolean(type === 'files');\n  const classes = useStyles();\n\n  const [state, setState] = React.useState({ ...initialState });\n\n  React.useEffect(() => {\n    setState(initialState);\n    const headers = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    };\n\n    setState(initialState);\n    fetch(`/api/admin/${type}/details`, headers)\n      .then(handleFetch)\n      .then((data) => {\n        setTimeout(() => setState(data), 500);\n      })\n      .catch((mistake) => {\n        onResponse({\n          key: new Date().getTime(),\n          type: 'error',\n          message: mistake.message,\n        });\n      });\n  }, [type, onResponse]);\n\n  if (!state.chartData) {\n    return loadingComponent;\n  }\n  const noun = isFile ? 'Archivos' : 'Usuarios';\n\n  const parsedSize = !state.parsedSize ? (\n    ''\n  ) : (\n    <Grid xs={6} item>\n      <Typography align=\"center\" variant=\"subtitle1\" component=\"p\">\n        <strong>{state.parsedSize} </strong>\n        Almacenados\n      </Typography>\n    </Grid>\n  );\n\n  return (\n    <Grid\n      container\n      className={`${classes.main} ${dark ? classes.dark : classes.dim}`}\n      justify=\"center\"\n    >\n      <Grid\n        container\n        item\n        direction=\"column\"\n        justify=\"center\"\n        alignItems=\"center\"\n        wrap=\"nowrap\"\n        className=\"card-box\"\n      >\n        <Card raised={false}>\n          <CardHeader title={noun} />\n          <Divider />\n          <CardContent>\n            <Grid\n              container\n              direction=\"row\"\n              justify=\"center\"\n              alignItems=\"center\"\n            >\n              <Grid\n                xs={12}\n                item\n                container\n                direction=\"row\"\n                justify=\"center\"\n                alignItems=\"center\"\n              >\n                <Typography className=\"files\" variant=\"h2\" component=\"h2\">\n                  {state.total}\n                </Typography>\n                <Typography\n                  style={{ paddingLeft: 5 }}\n                  variant=\"h6\"\n                  component=\"h2\"\n                >\n                  {noun} en el servidor\n                </Typography>\n              </Grid>\n              <Grid xs={6} item>\n                <Typography align=\"center\" variant=\"subtitle1\" component=\"p\">\n                  <strong>{state.available} </strong>\n                  {noun === 'Archivos' ? 'Disponibles' : 'Activos'}\n                </Typography>\n              </Grid>\n              <Grid xs={6} item>\n                <Typography align=\"center\" variant=\"subtitle1\" component=\"p\">\n                  <strong>{state.disabled} </strong>\n                  Suspendidos\n                </Typography>\n              </Grid>\n              <Grid xs={6} item>\n                <Typography align=\"center\" variant=\"subtitle1\" component=\"p\">\n                  <strong>{state.actions} </strong>\n                  {noun === 'Archivos'\n                    ? 'Archivos descargados'\n                    : 'Acciones de los usuarios'}\n                </Typography>\n              </Grid>\n              {parsedSize}\n            </Grid>\n          </CardContent>\n        </Card>\n        <Box style={{ width: '100%' }}>\n          <CloudQueueIcon />\n        </Box>\n      </Grid>\n      <Grid\n        container\n        item\n        direction=\"column\"\n        justify=\"center\"\n        alignItems=\"center\"\n        wrap=\"nowrap\"\n        className=\"card-box\"\n      >\n        <Card raised={false}>\n          <CardHeader title={'Resumen de ' + noun} />\n          <Divider />\n          <CardContent className=\"center\">\n            <DetailsPieChart data={state.chartData} />\n          </CardContent>\n        </Card>\n      </Grid>\n    </Grid>\n  );\n};\n\nconst dummy = [\n  { name: 'asd', value: 5121 },\n  { name: 'fgh', value: 1231 },\n  { name: 'jkl', value: 1238 },\n];\n\nconst DetailsPieChart = ({ data = dummy }) => {\n  const matches = useMediaQuery((theme) => theme.breakpoints.up('sm'));\n  const Cells = data.map((entry, index) => (\n    <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n  ));\n  return (\n    <ResponsiveContainer width=\"85%\" aspect={1}>\n      <PieChart width={730} height={250}>\n        <Pie\n          data={data}\n          dataKey=\"value\"\n          nameKey=\"name\"\n          cx=\"50%\"\n          cy=\"50%\"\n          fill=\"#8884d8\"\n          paddingAngle={2}\n          innerRadius=\"40%\"\n          legendType=\"square\"\n          label\n        >\n          <Label />\n          {Cells}\n        </Pie>\n        <Legend\n          layout={matches ? 'vertical' : 'horizontal'}\n          verticalAlign={matches ? 'middle' : 'bottom'}\n          align={matches ? 'left' : 'center'}\n          iconType=\"square\"\n        />\n      </PieChart>\n    </ResponsiveContainer>\n  );\n};\nexport default Details;\n\nconst COLORS = [\n  '#0088FE',\n  '#00C49F',\n  '#FFBB28',\n  '#FF8042',\n  '#FF6633',\n  '#E6B333',\n  '#3366E6',\n  '#999966',\n  '#99FF99',\n  '#B34D4D',\n  '#80B300',\n  '#809900',\n  '#E6B3B3',\n  '#6680B3',\n  '#66991A',\n  '#FF99E6',\n  '#CCFF1A',\n  '#FF1A66',\n  '#E6331A',\n  '#33FFCC',\n  '#66994D',\n  '#B366CC',\n  '#4D8000',\n  '#B33300',\n  '#CC80CC',\n  '#66664D',\n  '#991AFF',\n  '#E666FF',\n  '#4DB3FF',\n  '#1AB399',\n  '#E666B3',\n  '#33991A',\n  '#CC9999',\n  '#B3B31A',\n  '#00E680',\n  '#4D8066',\n  '#809980',\n  '#E6FF80',\n  '#1AFF33',\n  '#999933',\n  '#FF3380',\n  '#CCCC00',\n  '#66E64D',\n  '#4D80CC',\n  '#9900B3',\n  '#E64D66',\n  '#4DB380',\n  '#FF4D4D',\n  '#99E6E6',\n  '#6666FF',\n];\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport TableHead from '@material-ui/core/TableHead';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\n\nexport const useStyles = makeStyles({\n  a: { color: '#228dff' },\n  p0: { padding: '0px' },\n  text: { color: '#fff' },\n  elevation0: {\n    boxShadow: 'none',\n    borderRadius: 0,\n    maxHeight: '100%',\n    minHeight: '100%',\n  },\n  imageContainer: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    '& img': {\n      width: '50%',\n      maxWidth: '35px',\n    },\n  },\n  table: {\n    minWidth: 650,\n    '& .MuiFormControl-root': {\n      width: '100%',\n    },\n    '& .MuiTableCell-body ': {\n      padding: '8px',\n    },\n    '& .MuiTableRow-root': {\n      '&.disabled': {\n        backgroundColor: 'rgba(0, 0, 0, 0.1)',\n      },\n      '&.suspended': {\n        backgroundColor: 'rgba(255, 0, 0, 0.2)',\n      },\n    },\n    '& .MuiButtonBase-root': {\n      color: 'rgba(0, 0, 0, 0.9)',\n      '&.Mui-disabled': {\n        color: 'rgba(0, 0, 0, 0.3)',\n      },\n    },\n  },\n  dark: {\n    minWidth: 650,\n    '& .MuiFormControl-root': {\n      width: '100%',\n    },\n    '& .MuiTableBody-root': {\n      backgroundColor: '#393d46',\n    },\n    '& .MuiTableRow-root': {\n      '&.disabled': {\n        backgroundColor: 'rgba(255, 255, 255, 0.1)',\n      },\n      '&.suspended': {\n        backgroundColor: 'rgba(255, 0, 0, 0.2)',\n      },\n    },\n    '& .MuiTableCell-body ': {\n      padding: '8px',\n    },\n    '& .MuiTableCell-head': {\n      borderBottom: '2px solid #7d7d7d',\n      backgroundColor: '#424242',\n    },\n    '& .MuiTableCell-body': {\n      borderBottom: '2px solid #7d7d7d',\n    },\n    '& .MuiSelect-select:focus': {\n      backgroundColor: 'rgba(255, 255, 255, 0.75)',\n    },\n  },\n});\n\nexport const SelectCell = ({\n  nivel,\n  identifier,\n  className,\n  onChange,\n  disabled,\n}) => {\n  return (\n    <FormControl className={className}>\n      <InputLabel id={`select-label-${identifier}`}>Nivel</InputLabel>\n      <Select\n        labelId={`select-label-${identifier}`}\n        id={`select-${identifier}`}\n        value={nivel}\n        name={identifier}\n        disabled={disabled}\n        onChange={(event) => onChange(event.target)}\n      >\n        <MenuItem value={1}>1</MenuItem>\n        <MenuItem value={2}>2</MenuItem>\n        <MenuItem value={3}>3</MenuItem>\n        <MenuItem value={4}>4</MenuItem>\n        <MenuItem value={5}>5</MenuItem>\n      </Select>\n    </FormControl>\n  );\n};\n\nexport const TableHeader = ({ columns }) => {\n  if (!columns) {\n    return '';\n  }\n  const columnsMap = columns.map(({ label, align }, i) => (\n    <TableCell align={align} key={'col-' + i}>\n      {label}\n    </TableCell>\n  ));\n\n  return (\n    <TableHead>\n      <TableRow style={{ zIndex: '20' }}>{columnsMap}</TableRow>\n    </TableHead>\n  );\n};\n\nexport const ConfirmDialog = ({\n  open,\n  text,\n  handleClose,\n  theme,\n  confirmText = 'Si, seguro',\n  cancelText = 'Cancelar',\n}) => {\n  if (!open) {\n    return '';\n  }\n\n  const classes = makeStyles((theme) => ({\n    dim: {\n      '& .MuiDialogTitle-root': {\n        backgroundColor: '#4caf50',\n        textAlign: 'center',\n        color: '#fff',\n        padding: '12px 0 8px',\n      },\n    },\n    dark: {\n      '& .MuiPaper-root': {\n        backgroundColor: '#666',\n      },\n      '& .MuiDialogTitle-root': {\n        backgroundColor: '#424242',\n        textAlign: 'center',\n        color: '#fff',\n        padding: '12px 0 8px',\n      },\n      '& .MuiButton-containedPrimary': {\n        backgroundColor: '#424242',\n      },\n    },\n    dialogContent: {\n      margin: 'auto',\n      paddingTop: '8px',\n      minWidth: '340px',\n      [theme.breakpoints.down('xs')]: {\n        minWidth: '100%'\n      },\n      '& h2': {\n        textAlign: 'center',\n        padding: '0.5rem 3rem 1rem',\n        fontSize: '1rem',\n      },\n      '& .MuiButton-root': {\n        width: '50%',\n        borderRadius: '0',\n        fontWeight: '500',\n      },\n      '& .MuiButton-containedPrimary': {\n        fontWeight: '600',\n      },\n    },\n  }))();\n\n  return (\n    <Dialog\n      open={true}\n      className={theme ? classes.dark : classes.dim}\n      onClose={() => handleClose()}\n    >\n      <DialogTitle>Dialogo de confirmación</DialogTitle>\n      <Box className={classes.dialogContent}>\n        <Typography variant=\"subtitle2\" component=\"h2\">\n          {text}\n        </Typography>\n        <Box>\n          <Button\n            variant=\"contained\"\n            className=\"cancel\"\n            disableElevation\n            type=\"submit\"\n            onClick={() => handleClose(false)}\n            size=\"large\"\n          >\n            {cancelText}\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            disableElevation\n            type=\"submit\"\n            onClick={() => handleClose(true)}\n            size=\"large\"\n          >\n            {confirmText}\n          </Button>\n        </Box>\n      </Box>\n    </Dialog>\n  );\n};\n","import IconButton from '@material-ui/core/IconButton';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\nimport React from 'react';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { getIcon, handleFetch } from '../../SF/helpers';\nimport {\n  SelectCell,\n  TableHeader,\n  useStyles,\n  ConfirmDialog,\n} from '../tableStyles';\nimport CloudQueueIcon from '@material-ui/icons/CloudQueue';\nimport CloudOffIcon from '@material-ui/icons/CloudOff';\n\nconst tableColumns = [\n  { key: 'image', label: 'Icono', align: 'left' },\n  { key: 'ino', label: 'ID', align: 'left' },\n  { key: 'name', label: 'Nombre del archivo', align: 'left' },\n  { key: 'nivel', label: 'Nivel', align: 'right' },\n  { key: 'lastModified', label: 'Última modificación', align: 'right' },\n  { key: 'size', label: 'Tamaño', align: 'right' },\n  { key: 'dependency', label: 'En carpeta', align: 'right' },\n  { key: '', label: '', align: 'right' },\n];\n\nconst initialState = {\n  fileList: null,\n  shouldUpdate: false,\n  fileToSuspend: null,\n};\n\n/** Reset type */\nconst reducer = (state, action) => {\n  return {\n    ...initialState,\n    fileList: state.fileList,\n    ...action,\n  };\n};\n\nconst FilesTableContainer = ({\n  useTheme,\n  onResponse,\n  loadingComponent,\n  criteria,\n}) => {\n  const classes = useStyles();\n\n  const [state, setState] = React.useReducer(reducer, {\n    ...initialState,\n    shouldUpdate: true,\n  });\n  const { fileList, shouldUpdate } = state;\n\n  React.useEffect(() => {\n    if (!shouldUpdate) {\n      return;\n    }\n    const headers = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    };\n    setState({ shouldUpdate: false });\n    fetch(`/api/admin/files`, headers)\n      .then(handleFetch)\n      .then((files) => {\n        files = files.map((file, index) => ({\n          ...file,\n          updating: false,\n          index,\n        }));\n        setState({ fileList: files });\n      })\n      .catch((mistake) => {\n        onResponse({\n          key: new Date().getTime(),\n          type: 'error',\n          message: mistake.message,\n        });\n      });\n  }, [shouldUpdate, onResponse]);\n\n  if (!fileList) {\n    return loadingComponent;\n  }\n\n  const setUpdate = (index, value = true) => {\n    const files = [...fileList];\n    files[index].updating = value;\n    setState({ fileList: files });\n  };\n\n  const toggleSuspend = (index) => {\n    const files = [...fileList];\n    files[index].available = +!files[index].available;\n    files[index].updating = false;\n    setState({ fileList: files });\n  };\n\n  const handleLevelChage = ({ name, value }, index) => {\n    setUpdate(index);\n    const headers = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n      body: JSON.stringify({ nivel: value }),\n    };\n\n    fetch(`/api/files/${name}`, headers)\n      .then(handleFetch)\n      .then((res) => {\n        setState({ shouldUpdate: true });\n        onResponse({\n          key: new Date().getTime(),\n          type: 'success',\n          message: res.message,\n        });\n      })\n      .catch((err) => {\n        setState({ shouldUpdate: true });\n        onResponse({\n          key: new Date().getTime(),\n          type: 'error',\n          message: err.response,\n        });\n      });\n  };\n\n  const handleSuspend = (closeEvent) => {\n    if (!closeEvent) {\n      setState({ fileToSuspend: null });\n      return;\n    }\n    const file = { ...state.fileToSuspend };\n    setUpdate(state.fileToSuspend.index);\n\n    const headers = {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    };\n\n    fetch(`/api/files/${file.ino}`, headers)\n      .then(handleFetch)\n      .then((res) => {\n        toggleSuspend(file.index);\n        onResponse({\n          key: new Date().getTime(),\n          type: 'success',\n          message: res.message,\n        });\n      })\n      .catch((err) => {\n        setUpdate(state.fileToSuspend.index, false);\n        onResponse({\n          key: new Date().getTime(),\n          type: 'error',\n          message: err.response,\n        });\n      });\n  };\n\n  const setSuspend = (file) => {\n    setState({ fileToSuspend: { ...file } });\n  };\n\n  const confirmText = () => {\n    if (!state.fileToSuspend) {\n      return '';\n    }\n    if (state.fileToSuspend.available) {\n      return `¿Seguro deseas dar de baja ${state.fileToSuspend.name}?`;\n    }\n    return `¿Seguro deseas restaurar ${state.fileToSuspend.name}?`;\n  };\n\n  return (\n    <React.Fragment>\n      <TableContainer\n        className={classes.elevation0}\n        component={Paper}\n        color=\"primary\"\n      >\n        <Table stickyHeader className={useTheme ? classes.dark : classes.table}>\n          <TableHeader columns={tableColumns} />\n          <TableContent\n            classes={classes}\n            data={fileList}\n            onChangeSelect={handleLevelChage}\n            onClickTrash={setSuspend}\n            criteria={criteria}\n            key=\"12gey12\"\n          />\n        </Table>\n      </TableContainer>\n      <ConfirmDialog\n        open={state.fileToSuspend}\n        handleClose={handleSuspend}\n        theme={useTheme}\n        text={confirmText()}\n      />\n    </React.Fragment>\n  );\n};\n\nexport default FilesTableContainer;\n\nconst TableContent = ({\n  classes,\n  data,\n  onChangeSelect,\n  onClickTrash,\n  criteria = '',\n}) => {\n  const regex = new RegExp(criteria, 'ig');\n  const rows = data.reduce((collection, value) => {\n    if (criteria && !value.name.match(regex)) {\n      return collection;\n    }\n    const cells = tableColumns.map((col, i) => {\n      let constent = value[col.key];\n      switch (col.key) {\n        case 'name': \n          constent = value.name + (value.ext && value.ext!=='~' ? `.${value.ext}` : '');\n          break;\n        case 'image':\n          constent = (\n            <ImageCell value={value} className={classes.imageContainer} />\n          );\n          break;\n        case 'nivel':\n          constent = (\n            <SelectCell\n              nivel={value.nivel}\n              identifier={value.ino.toString()}\n              disabled={value.updating}\n              onChange={(target) => onChangeSelect(target, value.index)}\n            />\n          );\n          break;\n        case 'lastModified':\n          constent = new Date(value[col.key] || value.birthtime).toLocaleString(\n            'es-VE'\n          );\n          break;\n        case '': {\n          const title = value.available ? 'Dar de baja' : 'Restaurar';\n          constent = (\n            <Tooltip title={title}>\n              <span>\n                <IconButton\n                  disabled={value.updating}\n                  aria-label=\"delete\"\n                  onClick={() => onClickTrash(value, value.index)}\n                >\n                  {value.available ? <CloudQueueIcon /> : <CloudOffIcon />}\n                </IconButton>\n              </span>\n            </Tooltip>\n          );\n          break;\n        }\n        default:\n          break;\n      }\n      const component = col.key === 'name' ? 'th' : 'td';\n      return (\n        <TableCell\n          component={component}\n          scope=\"row\"\n          className={!i || col.key === 'nivel' ? classes.p0 : ''}\n          align={col.align}\n          key={`col-${i}`}\n        >\n          {constent}\n        </TableCell>\n      );\n    });\n\n    const rowClass = () => {\n      switch (true) {\n        case value.updating:\n          return 'disabled';\n        case !value.available:\n          return 'suspended';\n        default:\n          return '';\n      }\n    };\n\n    const row = (\n      <TableRow className={rowClass()} key={value.ino}>\n        {cells}\n      </TableRow>\n    );\n    return [...collection, row];\n  }, []);\n  return <TableBody>{rows}</TableBody>;\n};\n\nconst ImageCell = ({ value, className }) => {\n  return (\n    <div className={className}>\n      <img\n        src={getIcon(value.isFile, value.ext)}\n        alt={value.ext}\n        width=\"24px\"\n      />\n    </div>\n  );\n};\n","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\nimport { handleFetch } from '../../SF/helpers';\nimport EnhancedEncryptionIcon from '@material-ui/icons/EnhancedEncryption';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport ChangePasswordDialog from './ChangePasswordDialog';\nimport {\n  useStyles,\n  SelectCell,\n  TableHeader,\n  ConfirmDialog,\n} from '../tableStyles';\nimport CloudQueueIcon from '@material-ui/icons/CloudQueue';\nimport CloudOffIcon from '@material-ui/icons/CloudOff';\n\nconst tableColumns = [\n  { key: 'id', label: 'ID', align: 'left' },\n  { key: 'usuario', label: 'Usuario', align: 'left' },\n  { key: 'nombre', label: 'Nombre', align: 'left' },\n  { key: 'nivel', label: 'Nivel', align: 'right' },\n  { key: 'desde', label: 'Miembro desde', align: 'right' },\n  { key: 'active', label: 'Estado', align: 'right' },\n  { key: '', label: '', align: 'right' },\n];\n\nconst initialState = {\n  userList: null,\n  changePassword: null,\n  userToSuspend: null,\n  shouldUpdate: false,\n};\n\n/** Reset type */\nconst reducer = (state, action) => {\n  return {\n    ...initialState,\n    userList: state.userList,\n    ...action,\n  };\n};\n\nconst UserTableContainer = ({\n  useTheme,\n  adminID,\n  onResponse,\n  loadingComponent,\n  criteria,\n}) => {\n  const classes = useStyles();\n\n  const [state, setState] = React.useReducer(reducer, {\n    ...initialState,\n    shouldUpdate: true,\n  });\n  const { userList, shouldUpdate } = state;\n\n  React.useEffect(() => {\n    if (!shouldUpdate) {\n      return;\n    }\n    const headers = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    };\n    setState({ shouldUpdate: false });\n    fetch(`/api/admin/users`, headers)\n      .then(handleFetch)\n      .then((users) => {\n        users = users.map((user, index) => ({\n          ...user,\n          short: user.id.slice(-5),\n          updating: adminID === user.id,\n          index,\n        }));\n        setState({ userList: users });\n      })\n      .catch((mistake) => {\n        onResponse({\n          key: new Date().getTime(),\n          type: 'error',\n          message: mistake.message,\n        });\n      });\n  }, [shouldUpdate, adminID, onResponse]);\n\n  if (!userList) {\n    return loadingComponent;\n  }\n\n  const setUpdate = (index, value = true) => {\n    const users = [...userList];\n    users[index].updating = value;\n    setState({ userList: users });\n  };\n\n  const toggleSuspend = (index) => {\n    const users = [...userList];\n    users[index].active = +!users[index].active;\n    users[index].updating = false;\n    setState({ userList: users });\n  };\n\n  const handleLevelChage = ({ name, value }, index) => {\n    setUpdate(index);\n    const headers = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n      body: JSON.stringify({ nivel: value }),\n    };\n\n    fetch(`/api/users/${name}`, headers)\n      .then(handleFetch)\n      .then((res) => {\n        setState({ shouldUpdate: true });\n        onResponse({\n          key: new Date().getTime(),\n          type: 'success',\n          message: res.response,\n        });\n      })\n      .catch((err) => {\n        setState({ shouldUpdate: true });\n        onResponse({\n          key: new Date().getTime(),\n          type: 'error',\n          message: err.message,\n        });\n      });\n  };\n\n  const handleChangePassword = (data) => {\n    if (!data) {\n      setState({ changePassword: null });\n      return;\n    }\n    setUpdate(data.index);\n\n    const headers = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n      body: JSON.stringify({ password: data.password }),\n    };\n\n    fetch(`/api/users/${data.userID}`, headers)\n      .then(handleFetch)\n      .then((res) => {\n        setUpdate(data.index, false);\n        onResponse({\n          key: new Date().getTime(),\n          type: 'success',\n          message: res.response,\n        });\n      })\n      .catch((err) => {\n        setUpdate(data.index, false);\n        onResponse({\n          key: new Date().getTime(),\n          type: 'error',\n          message: err.message,\n        });\n      });\n  };\n\n  const setHandlePassword = (user, index) => {\n    setState({ ...state, changePassword: { ...user, index } });\n  };\n\n  const handleSuspend = (closeEvent) => {\n    if (!closeEvent) {\n      setState({ userToSuspend: null });\n      return;\n    }\n    const user = { ...state.userToSuspend };\n    setUpdate(state.userToSuspend.index);\n\n    const headers = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n      body: JSON.stringify({ active: +!user.active }),\n    };\n\n    fetch(`/api/users/${user.id}`, headers)\n      .then(handleFetch)\n      .then((res) => {\n        toggleSuspend(user.index);\n        onResponse({\n          key: new Date().getTime(),\n          type: 'success',\n          message: res.response,\n        });\n      })\n      .catch((err) => {\n        setUpdate(state.userToSuspend.index, false);\n        onResponse({\n          key: new Date().getTime(),\n          type: 'error',\n          message: err.message,\n        });\n      });\n  };\n\n  const setSuspend = (user, index) => {\n    if (adminID === user.id) {\n      return;\n    }\n    setState({ ...state, userToSuspend: { ...user, index } });\n  };\n\n  const confirmText = () => {\n    if (!state.userToSuspend) {\n      return '';\n    }\n    if (state.userToSuspend.active) {\n      return `¿Seguro deseas suspender a ${state.userToSuspend.usuario}?`;\n    }\n    return `¿Seguro deseas reactivar la cuenta de ${state.userToSuspend.usuario}?`;\n  };\n\n  return (\n    <React.Fragment>\n      <TableContainer\n        className={classes.elevation0}\n        component={Paper}\n        color=\"primary\"\n      >\n        <Table stickyHeader className={useTheme ? classes.dark : classes.table}>\n          <TableHeader columns={tableColumns} />\n          <TableContent\n            classes={classes}\n            data={userList}\n            onChangeSelect={handleLevelChage}\n            onClickLock={setHandlePassword}\n            onClickTrash={setSuspend}\n            criteria={criteria}\n            key=\"12gey12\"\n          />\n        </Table>\n      </TableContainer>\n      <ChangePasswordDialog\n        user={state.changePassword}\n        handleClose={handleChangePassword}\n      />\n      <ConfirmDialog\n        open={state.userToSuspend}\n        handleClose={handleSuspend}\n        theme={useTheme}\n        text={confirmText()}\n      />\n    </React.Fragment>\n  );\n};\n\nexport default UserTableContainer;\n\nconst TableContent = ({\n  classes,\n  data,\n  onChangeSelect,\n  onClickLock,\n  onClickTrash,\n  criteria = '',\n}) => {\n  const regex = new RegExp(criteria, 'ig');\n  const content = data.reduce((collection, value) => {\n    const match =\n      value.usuario.match(regex) ||\n      value.nombre.match(regex) ||\n      value.apellido.match(regex);\n    if (criteria && !match) {\n      return collection;\n    }\n    const cells = tableColumns.map((col, i) => {\n      let constent = value[col.key];\n      switch (col.key) {\n        case 'id':\n          constent = value.short;\n          break;\n        case 'nivel':\n          constent = (\n            <SelectCell\n              nivel={value.nivel}\n              identifier={value.id}\n              disabled={value.updating}\n              onChange={(target) => onChangeSelect(target, value.index)}\n            />\n          );\n          break;\n        case 'active':\n          constent = value.active ? 'Activo' : 'Suspendido';\n          break;\n        case 'nombre':\n          constent = `${value.nombre} ${value.apellido}`;\n          break;\n        case '': {\n          const title = value.active\n            ? 'Suspender usuario'\n            : 'Reactivar usuario';\n          constent = (\n            <React.Fragment>\n              <Tooltip title=\"Cambiar contraseña\">\n                <span>\n                  <IconButton\n                    disabled={value.updating}\n                    aria-label=\"edit-password\"\n                    onClick={() => onClickLock(value, value.index)}\n                  >\n                    <EnhancedEncryptionIcon />\n                  </IconButton>\n                </span>\n              </Tooltip>\n              <Tooltip title={title}>\n                <span>\n                  <IconButton\n                    disabled={value.updating}\n                    aria-label=\"delete\"\n                    onClick={() => onClickTrash(value, value.index)}\n                  >\n                    {value.active ? <CloudQueueIcon /> : <CloudOffIcon />}\n                  </IconButton>\n                </span>\n              </Tooltip>\n            </React.Fragment>\n          );\n          break;\n        }\n        default:\n          break;\n      }\n      const component =\n        col.key === 'nombre' || col.key === 'usuario' ? 'th' : 'td';\n      return (\n        <TableCell\n          component={component}\n          scope=\"row\"\n          className={col.key === 'nivel' ? classes.p0 : ''}\n          align={col.align}\n          key={`col-${i}-${value.ino}`}\n        >\n          {constent}\n        </TableCell>\n      );\n    });\n\n    const rowClass = () => {\n      switch (true) {\n        case value.updating:\n          return 'disabled';\n        case !value.active:\n          return 'suspended';\n        default:\n          return '';\n      }\n    };\n\n    const row = (\n      <TableRow className={rowClass()} key={`row-${value.id}`}>\n        {cells}\n      </TableRow>\n    );\n    return [...collection, row];\n  }, []);\n  return <TableBody>{content}</TableBody>;\n};\n","import Box from '@material-ui/core/Box';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Card from '@material-ui/core/Card';\nimport Grid from '@material-ui/core/Grid';\nimport CardContent from '@material-ui/core/CardContent';\nimport Divider from '@material-ui/core/Divider';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport { makeStyles } from '@material-ui/core';\nimport React from 'react';\n\nconst useStyles = makeStyles(() => ({\n  report: {\n    width: '100%',\n    '& .MuiCard-root': {\n      margin: '1rem',\n    },\n    '& .MuiCardContent-root': {\n      padding: 0,\n    },\n    '& .MuiList-root': {\n      backgroundColor: 'transparent !important',\n      boxShadow: 'none',\n    },\n    '& .MuiGrid-root': {\n      padding: 10,\n    },\n  },\n}));\n\nconst options = [\n  {\n    url: 'files/report',\n    filename: 'reporte_archivos',\n    index: 1,\n  },\n  {\n    url: 'files/downloaded',\n    filename: 'reporte_descargas',\n    index: 2,\n  },\n  {\n    url: 'files/read',\n    filename: 'reporte_solicitudes',\n    index: 3,\n  },\n  {\n    url: 'users/activity',\n    filename: 'reporte_logs',\n    index: 4,\n  },\n];\n\nconst Reports = () => {\n  const classes = useStyles();\n  const [selected, select] = React.useState(0);\n\n  const generateFile = ({ url, filename, index }) => {\n    if (selected) {\n      return;\n    }\n    select(index);\n    const headers = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    };\n\n    fetch(`/api/admin/${url}`, headers)\n      .then((response) => response.blob())\n      .then((blob) => {\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = `${filename}.pdf`;\n        document.body.appendChild(a);\n        // we need to append the element to the dom -> otherwise it will not work in firefox\n        a.click();\n        a.remove();\n        select(0);\n        //afterwards we remove the element again\n      });\n  };\n\n  const spinner = () => {\n    if (!selected) {\n      return '';\n    }\n    return (\n      <Grid container justify=\"center\" alignItems=\"center\">\n        <CircularProgress size={40} thickness={5} />\n      </Grid>\n    );\n  };\n\n  return (\n    <Box\n      textAlign=\"center\"\n      display=\"flex\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      className={`${classes.report} min-h100`}\n    >\n      <Card>\n        <CardContent>\n          <List\n            subheader={\n              <ListSubheader component=\"div\" id=\"subheader\">\n                Reportes\n              </ListSubheader>\n            }\n          >\n            <ListItem\n              button\n              selected={selected === 1}\n              onClick={() => generateFile(options[0])}\n            >\n              <ListItemText\n                primary=\"Reporte de archivos\"\n                secondary={\n                  'Resumen de todos los archivos en el servidor, quien los subió y cuando'\n                }\n              />\n            </ListItem>\n            <Divider />\n            <ListItem\n              button\n              selected={selected === 2}\n              onClick={() => generateFile(options[1])}\n            >\n              <ListItemText\n                primary=\"Historial de descargas\"\n                secondary={\n                  'Registro de todas las descargas solicitadas por usuarios'\n                }\n              />\n            </ListItem>\n            <Divider />\n            <ListItem\n              button\n              selected={selected === 3}\n              onClick={() => generateFile(options[2])}\n            >\n              <ListItemText\n                primary=\"Historial de solicitudes\"\n                secondary={\n                  'Registro de las solicitudes de archivos por parte de los usuarios'\n                }\n              />\n            </ListItem>\n            <Divider />\n            <ListItem\n              button\n              selected={selected === 4}\n              onClick={() => generateFile(options[3])}\n            >\n              <ListItemText\n                primary=\"Logs\"\n                secondary={'Detalles de los ingresos al sistema'}\n              />\n            </ListItem>\n            <Divider />\n          </List>\n          {spinner()}\n        </CardContent>\n      </Card>\n    </Box>\n  );\n};\n\nexport default Reports;\n","import { makeStyles, useTheme } from '@material-ui/core';\nimport Avatar from '@material-ui/core/Avatar';\nimport Box from '@material-ui/core/Box';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Typography from '@material-ui/core/Typography';\nimport AssignmentIcon from '@material-ui/icons/Assignment';\n/**Icons */\nimport AssignmentIndIcon from '@material-ui/icons/AssignmentInd';\nimport FolderSpecialIcon from '@material-ui/icons/FolderSpecial';\nimport HowToRegIcon from '@material-ui/icons/HowToReg';\nimport ListAltIcon from '@material-ui/icons/ListAlt';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport React, { useContext } from 'react';\nimport { Route, Switch, useLocation } from 'react-router-dom';\nimport { saduwux } from '../SF/Context';\nimport { reactLink } from '../SF/helpers';\nimport Details from './Details';\nimport FilesTableContainer from './Files/FilesTable';\nimport UsersTableContainer from './Users/UsersTable';\nimport Reports from './Reports/Reports';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    display: 'grid',\n    [theme.breakpoints.down('xs')]: {\n      display: 'flex',\n      width: '100%',\n      '& .MuiBox-root': {\n        width: '100%',\n      },\n    },\n    gridTemplateColumns: '250px 1fr',\n    height: '100%',\n    overflow: 'auto',\n    '& .spinner-container': {\n      minHeight: '100%',\n      minWidth: '100%',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n    },\n    '& .right-column': {\n      height: '100%',\n      overflow: 'auto',\n    },\n    '& .MuiList-root': {\n      boxShadow: '5px 0 5px -5px #333',\n      width: '100%',\n      height: '100%',\n      oveflow: 'auto',\n      zIndex: '10',\n      '& .MuiAvatar-root': {\n        backgroundColor: 'transparent',\n      },\n      '& .MuiSvgIcon-root': {\n        fontSize: '40px',\n      },\n      '& .MuiListItem-root:hover': {\n        backgroundColor: 'rgba(0,0,0,0.3)',\n      },\n      '& .MuiListSubheader-root': {\n        position: 'static',\n        fontWeight: '500',\n        fontSize: '18px',\n        color: '#000',\n        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n      },\n    },\n  },\n  dim: {\n    backgroundColor: '#fff9c4',\n    '& .MuiList-root': {\n      backgroundColor: '#ffa726',\n      '& .MuiSvgIcon-root': {\n        color: '#000',\n      },\n    },\n    '& .MuiCircularProgress-colorPrimary': {\n      color: '#4caf50',\n    },\n  },\n  dark: {\n    backgroundColor: '#393d46',\n    '& .MuiList-root': {\n      backgroundColor: '#666',\n      color: '#fff',\n      '& .MuiSvgIcon-root': {\n        color: '#fff',\n      },\n      '& .MuiListSubheader-root': {\n        color: '#fff',\n        borderBottomColor: '#cecece',\n      },\n    },\n    '& .MuiCircularProgress-colorPrimary': {\n      color: '#fff',\n    },\n  },\n  card: {\n    height: '100%',\n    borderRadius: 0,\n    '&>*': {\n      overflow: 'hidden auto',\n      height: '100%',\n    },\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n}));\n\nconst routes = [\n  {\n    link: `/archivos/detalles`,\n    component: AssignmentIcon,\n    primaryText: 'Detalles de archivos',\n    helperText: 'Ver resumen de los archivos',\n  },\n  {\n    link: `/archivos/lista`,\n    component: FolderSpecialIcon,\n    primaryText: 'Administrar Archivos',\n    helperText: 'Modificar estatus de los archivos',\n  },\n  {\n    link: `/usuarios/detalles`,\n    component: AssignmentIndIcon,\n    primaryText: 'Detalles de usuarios',\n    helperText: 'Ver resumen de los usuarios',\n  },\n  {\n    link: `/usuarios/lista`,\n    component: HowToRegIcon,\n    primaryText: 'Administrar usuarios',\n    helperText: 'Modificar estatus de los usuarios',\n  },\n  {\n    link: `/reportes`,\n    component: ListAltIcon,\n    primaryText: 'Reportes',\n    helperText: 'Descargar reportes en formato PDF',\n  },\n];\n\nconst reducer = (state, action) => ({ ...state, ...action });\n\nconst Admin = (props) => {\n  const { window } = props;\n  const classes = useStyles();\n  const location = useLocation();\n  const theme = useTheme();\n  const { state: globalState, dispatch } = useContext(saduwux);\n\n  const [state, setState] = React.useReducer(reducer, {\n    selectedIndex: 0,\n    snackPack: [],\n    open: false,\n    messageInfo: undefined,\n  });\n\n  React.useEffect(() => {\n    const x = routes.findIndex((route) => {\n      const link = props.match.path + route.link;\n      return location.pathname === link;\n    });\n    setState({ selectedIndex: x });\n  }, [location.pathname, props.match.path]);\n\n  React.useEffect(() => {\n    if (state.snackPack.length && !state.messageInfo) {\n      // Set a new snack when we don't have an active one\n      setState({\n        messageInfo: { ...state.snackPack[0] },\n        snackPack: state.snackPack.slice(1),\n        open: true,\n      });\n    } else if (state.snackPack.length && state.open) {\n      // Close an active snack when a new one is added\n      setState({ open: false, messageInfo: undefined });\n    }\n  }, [state]);\n\n  const addBar = (data) => {\n    setState({\n      snackPack: [\n        ...state.snackPack,\n        {\n          key: new Date().getTime(),\n          type: data.type,\n          message: data.message,\n        },\n      ],\n    });\n  };\n\n  const closeBar = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setState({ open: false, messageInfo: undefined });\n  };\n\n  const exitBar = () => {\n    setState({ messageInfo: undefined });\n  };\n\n  const mainClass = () => {\n    let className = classes.main;\n    className += !globalState.theme ? ` ${classes.dim}` : ` ${classes.dark}`;\n    return className;\n  };\n\n  const listItems = () => {\n    return (\n      <List\n        subheader={\n          <ListSubheader component=\"div\" id=\"subheader\">\n            Configuraciones\n          </ListSubheader>\n        }\n      >\n        {routes.map((route, index) => (\n          <React.Fragment key={index}>\n            <ListItem\n              button\n              component={reactLink}\n              to={props.match.path + route.link}\n              selected={state.selectedIndex === index}\n              onClick={() => handleDrawerToggle()}\n            >\n              <ListItemAvatar>\n                <Avatar>\n                  <route.component />\n                </Avatar>\n              </ListItemAvatar>\n              <ListItemText\n                primary={route.primaryText}\n                secondary={route.helperText}\n              />\n            </ListItem>\n            <Divider />\n          </React.Fragment>\n        ))}\n      </List>\n    );\n  };\n\n  const container =\n    window !== undefined ? () => window().document.body : undefined;\n\n  const handleDrawerToggle = () => {\n    dispatch({ type: 'update', payload: { mobileOpen: false } });\n  };\n\n  const spinner = <Spinner useDark={globalState.theme} />;\n\n  return (\n    <Box component=\"main\" display=\"flex\" className={mainClass()}>\n      <Hidden smUp implementation=\"css\">\n        <Drawer\n          container={container}\n          variant=\"temporary\"\n          anchor={(theme.direction = 'right')}\n          open={globalState.mobileOpen}\n          onClose={handleDrawerToggle}\n          ModalProps={{\n            keepMounted: true, // Better open performance on mobile.\n          }}\n          classes={{\n            paper: classes.drawerPaper,\n          }}\n        >\n          {listItems()}\n        </Drawer>\n      </Hidden>\n      <Hidden xsDown implementation=\"css\">\n        <Drawer\n          className={`min-h100`}\n          classes={{\n            paper: `position-static`,\n          }}\n          variant=\"permanent\"\n          open\n        >\n          {listItems()}\n        </Drawer>\n      </Hidden>\n      <Box component=\"div\" className=\"right-column\">\n        <Switch>\n          <Route exact path={props.match.path} component={WelcomeAdmin} />\n          <Route\n            path={`${props.match.path}/archivos/lista`}\n            render={() => (\n              <FilesTableContainer\n                useTheme={globalState.theme}\n                criteria={globalState.search}\n                onResponse={addBar}\n                loadingComponent={spinner}\n              />\n            )}\n          />\n          <Route\n            path={`${props.match.path}/archivos/detalles`}\n            render={() => (\n              <Details\n                key=\"files\"\n                dark={globalState.theme}\n                onResponse={addBar}\n                loadingComponent={spinner}\n              />\n            )}\n          />\n          <Route\n            path={`${props.match.path}/usuarios/lista`}\n            render={() => (\n              <UsersTableContainer\n                useTheme={globalState.theme}\n                adminID={globalState.user.id}\n                criteria={globalState.search}\n                onResponse={addBar}\n                loadingComponent={spinner}\n              />\n            )}\n          />\n          <Route\n            path={`${props.match.path}/usuarios/detalles`}\n            render={() => (\n              <Details\n                key=\"users\"\n                dark={globalState.theme}\n                type=\"users\"\n                onResponse={addBar}\n                loadingComponent={spinner}\n              />\n            )}\n          />\n          <Route path={`${props.match.path}/reportes`} component={Reports} />\n        </Switch>\n      </Box>\n      <RequestSnack\n        onClose={closeBar}\n        onExit={exitBar}\n        data={state.messageInfo}\n        open={state.open}\n      />\n    </Box>\n  );\n};\n\nexport default Admin;\n\nconst WelcomeAdmin = () => {\n  return (\n    <Box\n      textAlign=\"center\"\n      display=\"flex\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      className=\"min-h100\"\n      style={{ width: '100%' }}\n    >\n      <Card>\n        <CardContent style={{ paddingBottom: '0px' }}>\n          <Typography variant=\"h5\" component=\"h2\">\n            ¡Bienvenido!\n          </Typography>\n          <Typography variant=\"body2\" component=\"p\">\n            Desde esta página puedes gestionar el contenido de Cloudster.\n          </Typography>\n          <Typography variant=\"body2\" component=\"p\">\n            Procede con precaución.\n          </Typography>\n\n          <WarningIcon style={{ marginTop: '1rem', fontSize: '100px' }} />\n        </CardContent>\n      </Card>\n    </Box>\n  );\n};\n\nconst Spinner = () => {\n  return (\n    <div className=\"spinner-container\">\n      <CircularProgress size={100} thickness={5} />\n    </div>\n  );\n};\n\nconst RequestSnack = ({ onClose, onExit, open, data }) => {\n  if (!open) {\n    return '';\n  }\n  const { message, type, key } = data;\n  return (\n    <Snackbar\n      key={key || 'asdgaryisthebest'}\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'right',\n      }}\n      open={open}\n      onClose={onClose}\n      onExited={onExit}\n      autoHideDuration={2000}\n    >\n      <MuiAlert\n        severity={type || 'success'}\n        elevation={6}\n        variant=\"filled\"\n        onClose={onClose}\n      >\n        {message}\n      </MuiAlert>\n    </Snackbar>\n  );\n};\n","import React, { useContext } from 'react';\nimport { saduwux } from '../SF/Context';\nimport { Redirect, Route } from 'react-router-dom';\n\nconst ProtectedRoute = ({\n  requireAdmin = false,\n  requireLogin = true,\n  redirectTo = '/notlogged',\n  ...props\n}) => {\n  const { state } = useContext(saduwux);\n  const getComponent = () => {\n    if (requireLogin && !state.logStatus) {\n      return (\n        <Route>\n          <Redirect to={redirectTo} />\n        </Route>\n      );\n    }\n    if (requireAdmin && state.user.nivel < 5) {\n      return (\n        <Route>\n          <Redirect to='/busqueda' />\n        </Route>\n      );\n    }\n    return <Route {...props} />;\n  };\n\n  return getComponent();\n};\n\nexport default ProtectedRoute;\n","import './App.css';\nimport React, { useContext } from 'react';\n\n/** Material */\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport green from '@material-ui/core/colors/green';\nimport orange from '@material-ui/core/colors/orange';\nimport {\n  createMuiTheme,\n  makeStyles,\n  ThemeProvider,\n} from '@material-ui/core/styles';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\n\n/** Componentes */\nimport RequireLogin from './components/Err/RequireLogin';\nimport Search from './components/Files/Search';\nimport Login from './components/Login/Login';\nimport Recover from './components/Login/Recover';\nimport Profile from './components/Profile/Profile';\nimport ProfileSettings from './components/Profile/ProfileSettings';\nimport Register from './components/Register/Register';\nimport Reproductor from './components/Reproductor/Reproductor';\nimport Sidebar from './components/Sidebar/Sidebar';\nimport TopBar from './components/TopBar/TopBar';\nimport NotFound from './components/Err/NotFound';\nimport Admin from './components/Admin/Admin';\n\n/** Auxiliares */\nimport { saduwux } from './components/SF/Context';\nimport { handleFetch } from './components/SF/helpers';\nimport ProtectedRoute from './components/SF/ProtectedRoute';\nimport backgroundimg4 from './components/SF/Media/background_study_by_hibelton_dc28kuo-fullview.jpg';\n\nconst useStyles = makeStyles((theme) => ({\n  toolbar: theme.mixins.toolbar,\n  // main: { display: 'flex', minWidth: '100%', flexGrow: 1, position: 'relaive' },\n  theme: {\n    backgroundColor: theme.palette.background.default,\n    color: theme.palette.text.primary,\n  },\n  fullBackg: {\n    backgroundImage: `url(${backgroundimg4})`,\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? '#cecece' : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n  },\n  dark: {\n    backgroundColor: '#393d46',\n  },\n  dim: {\n    backgroundColor: '#fff9c4',\n  }\n}));\n\nconst prins = createMuiTheme({\n  typography: {\n    h2: {\n      fontSize: '3.75rem',\n      fontWeight: 300,\n      lineHeight: 1.2,\n      letterSpacing: '-0.00833em',\n      fontFamily: ['Roboto', 'Helvetica', 'Arial', 'sans-serif'],\n      '@media (min-width:600px)': {\n        fontSize: '3.75rem',\n      },\n      '@media (min-width:0px)': {\n        fontSize: '3.25rem',\n      },\n    },\n    h4: {\n      fontSize: '2.15rem',\n      fontWeight: 400,\n      lineHeight: 1.235,\n      letterSpacing: '0.00735em',\n      fontFamily: ['Roboto', 'Helvetica', 'Arial', 'sans-serif'],\n      '@media (min-width:600px)': {\n        fontSize: '2.15rem',\n      },\n      '@media (min-width:0px)': {\n        fontSize: '1.75rem',\n      },\n    },\n  },\n  palette: {\n    primary: { main: green[500] },\n    secondary: { main: orange[400] },\n    textPrimary: { main: '#FFF' },\n  },\n});\n\nconst dark = createMuiTheme({\n  typography: {\n    h2: {\n      fontSize: '3.75rem',\n      fontWeight: 300,\n      lineHeight: 1.2,\n      letterSpacing: '-0.00833em',\n      fontFamily: ['Roboto', 'Helvetica', 'Arial', 'sans-serif'],\n      '@media (min-width:600px)': {\n        fontSize: '3.75rem',\n      },\n      '@media (min-width:0px)': {\n        fontSize: '3.25rem',\n      },\n    },\n    h4: {\n      fontSize: '2.15rem',\n      fontWeight: 400,\n      lineHeight: 1.235,\n      letterSpacing: '0.00735em',\n      fontFamily: ['Roboto', 'Helvetica', 'Arial', 'sans-serif'],\n      '@media (min-width:600px)': {\n        fontSize: '2.15rem',\n      },\n      '@media (min-width:0px)': {\n        fontSize: '1.75rem',\n      },\n    },\n  },\n  palette: {\n    type: 'dark',\n    primary: { main: '#424242' },\n    secondary: { main: '#252525' },\n    primaryText: { main: '#FFF' },\n  },\n});\n\n/**\n * Checks if the token inside the local storage is valid\n * and if it is retrieves the user\n * @param {function} cb callback function\n */\nconst useFetchUser = (cb) => {\n  const didMount = React.useRef(false);\n  React.useEffect(() => {\n    if (!didMount.current) {\n      cb();\n      didMount.current = true;\n    }\n  });\n};\n\nconst App = () => {\n  const classes = useStyles();\n  const { state, dispatch } = useContext(saduwux);\n  const cleanState = () => {\n    localStorage.clear();\n    dispatch({\n      type: 'update',\n      payload: {\n        logStatus: 0,\n        theme: false\n      }\n    });\n  }\n\n  /** Verificacion de token on init */\n  useFetchUser(() => {\n    const token = localStorage.getItem('token');\n    const usingDark = localStorage.getItem('theme');\n    if (!token) {\n      cleanState();\n      return;\n    }\n\n    fetch(`/api/users/token`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    })\n      .then(handleFetch)\n      .then((res) => {\n        dispatch({\n          type: 'login',\n          payload: {\n            user: res,\n            theme: Boolean(usingDark)\n          }\n        })\n      })\n      .catch(cleanState);\n  });\n\n  const switchView = () => {\n    return (\n      <div\n        className={`container ${state.theme ? classes.dark : classes.dim}\n        ${!state.logStatus ? 'initial-height' : ''}`}\n      >\n        <Route\n          component={TopBar}\n          path={[\n            '/perfil',\n            '/configuracion',\n            '/busqueda',\n            '/transfers',\n            '/reproductor',\n            '/admin',\n          ]}\n        />\n        <Route\n          component={Sidebar}\n          path={[\n            '/perfil',\n            '/configuracion',\n            '/busqueda',\n            '/transfers',\n            '/reproductor',\n            '/admin',\n          ]}\n        />\n\n        <Switch>\n          <Route exact path=\"/\" render={() => <Redirect to='/login'/>} />\n          <Route\n            className={classes.fullBackg}\n            exact\n            path=\"/login\"\n            component={Login}\n          />\n          <Route\n            className={classes.fullBackg}\n            exact\n            path=\"/recover\"\n            component={Recover}\n          />\n          <Route\n            className={classes.fullBackg}\n            exact\n            path=\"/register\"\n            component={Register}\n          />\n          <Route exact path=\"/notlogged\" component={RequireLogin} />\n          <ProtectedRoute\n            exact\n            path=\"/reproductor\"\n            component={Reproductor}\n          />\n          <ProtectedRoute exact path=\"/busqueda\" component={Search} />\n          <ProtectedRoute exact path=\"/perfil\" component={Profile} />\n          <ProtectedRoute\n            exact\n            path=\"/configuracion\"\n            component={ProfileSettings}\n          />\n          <ProtectedRoute requireAdmin path=\"/admin\" component={Admin} />\n          <Route path='/404' component={NotFound} />\n          <Redirect from='*' to='/404' />\n        </Switch>\n      </div>\n    );\n  };\n\n  if (state.logStatus === 1) {\n    const tempStyle = () => ({\n      minHeight: '100%',\n      minWidth: '100%',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n    });\n    return (\n      <div style={tempStyle()}>\n        <CircularProgress size={100} thickness={5} />\n      </div>\n    );\n  }\n\n  return (\n    <ThemeProvider theme={!state.theme ? prins : dark}>\n      <BrowserRouter basename=\"/app\">{switchView()}</BrowserRouter>\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { StoreProvider } from './components/SF/Context';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <StoreProvider>\n    <App />\n  </StoreProvider>,\n  document.getElementById('root')\n);\n\nserviceWorker.register();\n"],"sourceRoot":""}
{"version":3,"sources":["components/SF/svg/folder.svg","components/SF/svg/Papirus-Team-Papirus-audio.svg","components/SF/svg/Papirus-Team-Papirus-Mimetypes-App-x-msdos-program.svg","components/SF/svg/Papirus-Team-Papirus-compress.svg","components/SF/svg/Papirus-Team-Papirus-html.svg","components/SF/svg/Papirus-Team-Papirus-ImageGeneric.svg","components/SF/svg/Papirus-Team-Papirus-iso.svg","components/SF/svg/Papirus-Team-Papirus-json.svg","components/SF/svg/Papirus-Team-Papirus-Mimetypes-App-x-javascript.svg","components/SF/svg/Papirus-Team-Papirus-Mimetypes-X-office-document.svg","components/SF/svg/Papirus-Team-Papirus-Mimetypes-X-office-presentation.svg","components/SF/svg/Papirus-Team-Papirus-Mimetypes-X-office-spreadsheet.svg","components/SF/svg/Papirus-Team-Papirus-pdf.svg","components/SF/svg/Paomedia-Small-N-Flat-Book.svg","components/SF/svg/Paomedia-Small-N-Flat-File-text.svg","components/SF/svg/Papirus-Team-Papirus-Mimetypes-Text-x-java.svg","components/SF/svg/Papirus-Team-Papirus-video.svg","components/SF/svg/Papirus-Team-Papirus-zerosize.svg","components/SF/Media/background_study_by_hibelton_dc28kuo-fullview.jpg","components/SF/helpers.jsx","components/Err/RequireLogin.jsx","components/SF/Context.jsx","components/Files/Files.jsx","components/Files/Modals/FileInfoModal.jsx","components/Files/Modals/UploadFileModal.jsx","components/Files/Search.jsx","components/Login/Login.jsx","components/Login/Recover.jsx","components/Profile/Profile.jsx","components/Admin/Users/ChangePasswordDialog.jsx","components/Profile/ProfileSettings.jsx","components/Register/Register.jsx","components/Reproductor/Reproductor.jsx","components/Sidebar/Sidebar.jsx","components/TopBar/TopBar.jsx","components/Err/NotFound.jsx","components/Admin/Details.jsx","components/Admin/tableStyles.jsx","components/Admin/Files/FilesTable.jsx","components/Admin/Users/UsersTable.jsx","components/Admin/Reports/Reports.jsx","components/Admin/Admin.jsx","components/SF/ProtectedRoute.jsx","App.jsx","serviceWorker.js","index.js"],"names":["module","exports","reactLink","React","forwardRef","props","ref","innerRef","displayName","handleFetch","response","json","then","ok","Promise","reject","getIcon","isFile","ext","folder","pic","program","audio","video","compress","js","jar","iso","pdf","text","book","doc","pp","excel","html","zerosize","useStyles","makeStyles","theme","box","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","backgroundImage","backgroundimg1","backgroundRepeat","backgroundSize","backgroundPosition","breakpoints","down","card","minWidth","title","fontSize","pos","marginBottom","grow","flexGrow","bullet","display","margin","transform","RequireLogin","classes","Box","textAlign","width","justifyContent","alignItems","className","Card","CardContent","Typography","variant","component","CardActions","Link","to","underline","fontWeight","initialValue","user","id","usuario","nombre","apellido","pregunta1","pregunta2","desde","nivel","playing","history","search","logStatus","mobileOpen","saduwux","createContext","Provider","reducer","state","action","payload","type","localStorage","setItem","newState","pop","clear","StoreProvider","children","useReducer","dispatch","value","popper","zIndex","color","image","height","paper","spacing","backgroundColor","paperMod","padding","maxWidth","modal","file","cursor","initialState","open","openModal","progress","total","received","Files","move","setMovingFile","movingFile","useHistory","ino","name","update","updateFolder","updatePlayer","anchorRef","useRef","prevOpen","nameToShow","length","substring","trim","useEffect","current","focus","handleClickAway","event","contains","target","download","filename","a","fetch","method","headers","Authorization","getItem","reader","body","getReader","chunks","get","read","done","push","blob","Blob","url","window","URL","createObjectURL","document","createElement","href","appendChild","click","remove","handleListKeyDown","index","preventDefault","content","Paper","elevation","src","alt","useTheme","style","overflowWrap","Grid","opacity","item","xs","sm","md","lg","aria-controls","undefined","aria-haspopup","onClick","onContextMenu","e","Popper","anchorEl","role","transition","disablePortal","TransitionProps","placement","Grow","transformOrigin","ClickAwayListener","onClickAway","MenuList","autoFocusItem","onKeyDown","MenuItem","paddingTop","FileInfoModal","handleClose","date","Date","lastModified","birthtime","toLocaleString","Dialog","onClose","DialogTitle","container","justify","direction","gutterBottom","wordWrap","upBy","size","root","input","toolbar","maxHeight","position","flexWrap","menuButton","marginRight","fileField","fileFieldName","originalName","reg","RegExp","pattern","ModalContent","changeName","onChange","cleanState","align","TextField","fullWidth","Button","accept","htmlFor","IconButton","aria-label","UploadFileModal","useContext","match","fileName","files","normalize","replace","_ext","path","extname","basename","main","overflow","gridTemplateRows","anotherRow","peachColor","bar","sectionDesktop","sectionMobile","movingBar","borderTop","inline","hideOnBig","Alert","message","severity","fileForModal","uploadModal","shouldUpdate","isMoving","folderModal","folderName","MovingBar","cancel","spanClass","button","marginTop","typo","disableElevation","disabled","startIcon","endIcon","Search","globalState","sort","catch","mistake","handleFileModal","handleUploadModal","data","closing","uploadFile","reason","onSuccess","mensaje","onError","fileToPost","isNaN","formData","FormData","append","enctype","postFile","Fragment","mainClass","AppBar","Toolbar","edge","location","origin","LinearProgress","regex","reduce","filtered","temp","key","items","res","error","JSON","stringify","newFolder","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","arr","byName","byFileType","b","localeCompare","placeContent","palette","grey","borderRadius","form","flexDirection","username","password","isLoading","Login","invalid","handleInput","Divider","autoComplete","onSubmit","md5","token","setTimeout","label","required","autoFocus","backButton","borderColor","bottonContainer","instructions","mRight","activeStep","touched","respuesta1","respuesta2","password2","withRouter","steps","handleChange","handleChangeTrim","Stepper","alternativeLabel","map","Step","StepLabel","id_usuario","err","changePassword","handleQuestions","step","helperText","getStepContent","avatar","green","paddingBottom","boxShadow","list","dark","border","dim","totalSize","parsedSize","chartData","FileChartContent","matches","result","totalValue","COLORS","fontFamily","cx","cy","innerRadius","outerRadius","fill","paddingAngle","dataKey","isAnimationActive","offset","entry","layout","verticalAlign","byIno","Profile","useMediaQuery","up","getClasses","wrap","raised","CardHeader","m","Avatar","mx","FormControlLabel","control","Switch","checked","inputProps","List","dense","ListItem","ListItemIcon","DescriptionIcon","FolderIcon","ListItemText","primary","secondary","touched2","error2","ChangePasswordDialog","number","invalidText","valueToUpdate","password1","userID","Boolean","background","tabs","borderRight","divider","minHeight","ExpansionPanel","withStyles","borderBottom","expanded","Accordion","ExpansionPanelSummary","AccordionSummary","ExpansionPanelDetails","AccordionDetails","questions","pregunta","TabPanel","other","hidden","aria-labelledby","userReducer","ProfileSettings","tapProps","getPartialInfo","tab","handleUpdate","setChangePassword","mapPreguntas","P","handleTapChange","getTap","select","Container","Tabs","orientation","indicatorColor","Tab","square","expandIcon","heading","userExist","Register","every","code","hiden","mixins","route","Reproductor","allow","frameBorder","bgcolor","routes","routesComponents","PlayCircleFilledIcon","AccountCircleIcon","BuildIcon","aside","flexShrink","borderLeft","paddingLeft","paddingRight","Sidebar","useLocation","useState","selectedIndex","setSelectedIndex","pathname","split","x","indexOf","signout","getClass","Drawer","prev","fragment","selected","appBar","drawer","inputRoot","icon","shape","fade","common","white","marginLeft","searchIcon","pointerEvents","inputInput","transitions","create","TopBar","some","includes","InputBase","placeholder","NotFound","actions","dummy","DetailsPieChart","Cells","aspect","nameKey","legendType","iconType","Details","onResponse","loadingComponent","setState","getTime","noun","available","p0","elevation0","imageContainer","table","SelectCell","identifier","FormControl","InputLabel","Select","labelId","TableHeader","columns","columnsMap","i","TableCell","TableHead","TableRow","ConfirmDialog","confirmText","cancelText","dialogContent","tableColumns","fileList","fileToSuspend","FilesTableContainer","criteria","updating","setUpdate","TableContainer","Table","stickyHeader","onChangeSelect","onClickTrash","closeEvent","toggleSuspend","TableContent","rows","collection","cells","col","constent","toString","Tooltip","scope","row","rowClass","TableBody","ImageCell","userList","userToSuspend","UserTableContainer","adminID","users","short","slice","onClickLock","active","report","options","Reports","generateFile","subheader","ListSubheader","CircularProgress","thickness","oveflow","borderBottomColor","drawerPaper","link","AssignmentIcon","primaryText","FolderSpecialIcon","AssignmentIndIcon","HowToRegIcon","ListAltIcon","Admin","snackPack","messageInfo","findIndex","addBar","listItems","handleDrawerToggle","ListItemAvatar","spinner","useDark","Hidden","smUp","implementation","anchor","ModalProps","keepMounted","xsDown","exact","WelcomeAdmin","render","FilesTable","UsersTable","onExit","Spinner","RequestSnack","onExited","ProtectedRoute","requireAdmin","requireLogin","redirectTo","default","fullBackg","backgroundimg4","prins","createMuiTheme","typography","h2","lineHeight","letterSpacing","h4","orange","textPrimary","App","cb","didMount","useFetchUser","usingDark","ThemeProvider","Recover","from","isLocalhost","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","ReactDOM","getElementById","process","addEventListener","contentType","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.df5b3509.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/folder.78445f96.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-audio.4dbf7341.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-Mimetypes-App-x-msdos-program.71a3d0c1.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-compress.48168696.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-html.8b8629d0.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-ImageGeneric.1d8fe391.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-iso.6032e341.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-json.4dde5351.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-Mimetypes-App-x-javascript.f316c01e.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-Mimetypes-X-office-document.d52fc926.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-Mimetypes-X-office-presentation.d209dc93.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-Mimetypes-X-office-spreadsheet.fc0d7531.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-pdf.5fd1241c.svg\";","module.exports = __webpack_public_path__ + \"static/media/Paomedia-Small-N-Flat-Book.276dfa45.svg\";","module.exports = __webpack_public_path__ + \"static/media/Paomedia-Small-N-Flat-File-text.ca4a83c0.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-Mimetypes-Text-x-java.15c53d6e.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-video.41a44ff7.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-zerosize.a1a2034f.svg\";","module.exports = __webpack_public_path__ + \"static/media/background_study_by_hibelton_dc28kuo-fullview.ad58eeea.jpg\";","/**\n * @typedef {import('../SF/typedefs.jsx').inputFile} inputFile\n */\n//SVG\nimport React from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport folder from './svg/folder.svg';\nimport audio from './svg/Papirus-Team-Papirus-audio.svg';\nimport program from './svg/Papirus-Team-Papirus-Mimetypes-App-x-msdos-program.svg';\nimport compress from './svg/Papirus-Team-Papirus-compress.svg';\nimport html from './svg/Papirus-Team-Papirus-html.svg';\nimport pic from './svg/Papirus-Team-Papirus-ImageGeneric.svg';\nimport iso from './svg/Papirus-Team-Papirus-iso.svg';\nimport json from './svg/Papirus-Team-Papirus-json.svg';\nimport js from './svg/Papirus-Team-Papirus-Mimetypes-App-x-javascript.svg';\nimport doc from './svg/Papirus-Team-Papirus-Mimetypes-X-office-document.svg';\nimport pp from './svg/Papirus-Team-Papirus-Mimetypes-X-office-presentation.svg';\nimport excel from './svg/Papirus-Team-Papirus-Mimetypes-X-office-spreadsheet.svg';\nimport pdf from './svg/Papirus-Team-Papirus-pdf.svg';\nimport book from './svg/Paomedia-Small-N-Flat-Book.svg';\nimport text from './svg/Paomedia-Small-N-Flat-File-text.svg';\nimport jar from './svg/Papirus-Team-Papirus-Mimetypes-Text-x-java.svg';\nimport video from './svg/Papirus-Team-Papirus-video.svg';\nimport zerosize from './svg/Papirus-Team-Papirus-zerosize.svg';\n//SVG\n\nexport const reactLink = React.forwardRef((props, ref) => (\n  <RouterLink innerRef={ref} {...props} />\n));\nreactLink.displayName = 'reactLink';\n\nexport const handleFetch = (response) => {\n  return response.json().then((json) => {\n    if (response.ok) return json;\n    else return Promise.reject(json);\n  });\n};\n\n/**\n * Converts the bytes into its correspoding unit in terms of space\n * @param {number} size full size\n * @returns {string} the size\n */\nexport const parseSize = (size) => {\n  if (size < 1024) return `${size.toFixed(2)} Bytes`;\n\n  size = size / 1024;\n  if (size < 1024) return `${size.toFixed(2)} KB`;\n\n  size = size / 1024;\n  if (size < 1024) return `${size.toFixed(2)} MB`;\n\n  size = size / 1024;\n  return `${size.toFixed(2)} GB`;\n};\n\nexport const getIcon = (isFile, ext) => {\n  if (!isFile) return folder;\n  switch (ext) {\n    case 'jpg':\n    case 'png':\n      return pic;\n    case 'exe':\n    case 'msi':\n      return program;\n    case 'mp3':\n    case 'wav':\n    case 'm4a':\n      return audio;\n    case 'mp4':\n    case 'mkv':\n      return video;\n    case 'rar':\n    case 'zip':\n      return compress;\n    case 'json':\n      return json;\n    case 'js':\n    case 'jsx':\n      return js;\n    case 'jar':\n      return jar;\n    case 'iso':\n      return iso;\n    case 'pdf':\n      return pdf;\n    case 'txt':\n      return text;\n    case 'epub':\n      return book;\n    case 'doc':\n    case 'docx':\n      return doc;\n    case 'pptx':\n      return pp;\n    case 'xlsx':\n      return excel;\n    case 'html':\n      return html;\n    default:\n      return zerosize;\n  }\n}; //GetIcon\n\n/**\n *\n * @param {any} item\n * @param {Object[]} keys description\n * @param {string} keys.name\n * @param {boolean} keys.required\n * @param {number} [keys.length]\n * @param {string} keys.type\n */\nexport const structuteChecker = (item, keys) => {\n  return keys.every((key) => {\n    const { name, required, type, length } = key;\n\n    if (required && !item[name]) {\n      return false;\n    }\n\n    if (type && typeof item[name] !== type) {\n      return false;\n    }\n\n    if (length && item[name].length < length) {\n      return false;\n    }\n\n    return true;\n  });\n};\n\n/**\n * @param {inputFile} data The data to be posted\n * @param {Function} onSuccess funtion to be called when the fecth has concluded successfully\n * @param {Function} onError throw and error\n */\nexport const postFile = (data, onSuccess, onError) => {\n  if (!data.fileField || isNaN(data.folder)) return;\n\n  let formData = new FormData();\n  formData.append('file', data.fileField);\n  formData.append('name', data.fileFieldName);\n\n  fetch(`/api/files/${data.folder}`, {\n    method: 'POST',\n    headers: {\n      Authorization: localStorage.getItem('token'),\n    },\n    enctype: 'multipart/form-data',\n    body: formData,\n  })\n    .then(handleFetch)\n    .then(onSuccess('Archivo subido satisfactoriamente!'))\n    .catch(onError);\n};\n\nexport const newFolder = (folderName, folder, onSuccess, onError) => {\n  if (!folderName) return;\n  fetch(`/api/files/${folder}/folder`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: localStorage.getItem('token'),\n    },\n    enctype: 'application/json',\n    body: JSON.stringify({\n      name: folderName,\n    }),\n  })\n    .then(handleFetch)\n    .then(onSuccess('Carpeta creada con exito!'))\n    .catch(onError);\n};\n\n/**\n *\n * Usuario:\n * Añadir chart con los tipos de archivos subidos por el usuario\n * Añadir archivos subidos por el usuario\n * Uso total del servidor\n *\n * Backend\n * Comprobacion de los datos\n * Generar reporters\n * Estadisticas generales y especificas\n */\n\n/**\n * Admin:\n * Añadir chart con los tipos de archivos subidos al sistema\n * Añadir memiria total del servidor\n * Usuarios por nivel\n * Total de usuarios\n */\n\n/**\n * Milcelaneos\n * Hacer que el reproductor funcione en segundo plano\n */\n","import React from 'react';\nimport Link from '@material-ui/core/Link';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport CardActions from '@material-ui/core/CardActions';\nimport Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { reactLink } from '../SF/helpers';\nimport backgroundimg1 from '../SF/Media/background_study_by_hibelton_dc28kuo-fullview.jpg';\n\nconst useStyles = makeStyles((theme) => ({\n  box: {\n    gridColumnStart: '1',\n    gridColumnEnd: '3',\n    gridRowStart: '1',\n    gridRowEnd: '3',\n    backgroundImage: `url(${backgroundimg1})`,\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    [theme.breakpoints.down('xs')]: {\n      gridColumnStart: '1',\n      gridColumnEnd: '2',\n      gridRowStart: '1',\n      gridRowEnd: '4',\n      \n    },\n  },\n  card: { minWidth: 275 },\n  title: { fontSize: 14 },\n  pos: { marginBottom: 12 },\n  grow: { flexGrow: 1 },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)',\n  },\n}));\n\nconst RequireLogin = () => {\n  const classes = useStyles();\n  return (\n    <Box\n      textAlign=\"center\"\n      display=\"flex\"\n      width={1}\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      className={classes.box}\n    >\n      <Card className={classes.card}>\n        <CardContent>\n          <Typography variant=\"h5\" component=\"h2\">\n            Lo sentimos!\n          </Typography>\n          <Typography variant=\"body2\" component=\"p\">\n            Debes iniciar sesión para visitar esta página.\n          </Typography>\n        </CardContent>\n        <CardActions>\n          <Link component={reactLink} to=\"/login\" underline=\"none\">\n            <Box fontWeight=\"fontWeightBold\">Inicia Sesión</Box>\n          </Link>\n          <div className={classes.grow} />\n          <Link component={reactLink} to=\"/register\" underline=\"none\">\n            <Box fontWeight=\"fontWeightBold\">Registrarte</Box>\n          </Link>\n        </CardActions>\n      </Card>\n    </Box>\n  );\n};\n\nexport default RequireLogin;\n","/**\n * @typedef {import('./typedefs.jsx').store} store\n * @typedef {import('./typedefs.jsx').key} key\n */\nimport React, { createContext, useReducer } from 'react';\n\n// archivo a reproducir, carpeta actual, tema, busqueda\n\n/** @type {store} */\nconst initialValue = {\n  user: {\n    id: '',\n    usuario: '',\n    nombre: '',\n    apellido: '',\n    pregunta1: 0,\n    pregunta2: 0,\n    desde: '',\n    nivel: 0,\n  },\n  playing: 0,\n  folder: 0,\n  history: [],\n  theme: false,\n  search: '',\n  logStatus: 1,\n  mobileOpen: false,\n};\n\n/** @params {logStatus}\n * 0 logof\n * 1 loging in\n * 2 loged in\n * */\n\n/** Store */\nconst saduwux = createContext(initialValue);\nconst Provider = saduwux.Provider;\n\n/** @type {function} */\nconst reducer = (state, action) => {\n  const { payload, type } = action;\n  if (payload && typeof payload.theme !== 'undefined') {\n    localStorage.setItem('theme', payload.theme || '');\n  }\n  switch (type) {\n    case 'update': {\n      const newState = { ...state, ...payload };\n      return newState;\n    }\n    case 'login': {\n      const newState = { ...state, ...payload, logStatus: 2 };\n      return newState;\n    }\n    case 'moveForward': {\n      const newState = {\n        ...state,\n        history: [...state.history, state.folder],\n        folder: payload,\n      };\n      return newState;\n    }\n    case 'moveBack': {\n      const newState = { ...state };\n      newState.folder = state.history.pop();\n      return newState;\n    }\n    case 'moveHome': {\n      const newState = { ...state, history: [], folder: 0 };\n      return newState;\n    }\n    case 'clean': {\n      const newState = { ...state, search: '' };\n      return newState;\n    }\n    case 'reset':\n    default:\n      localStorage.clear();\n      return { ...initialValue, logStatus: 0 };\n  }\n};\n\n/** Store provider */\nconst StoreProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialValue);\n\n  return <Provider value={{ state, dispatch }}>{children}</Provider>;\n};\n\nexport { StoreProvider, saduwux };\n","import Box from '@material-ui/core/Box';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport { useHistory } from 'react-router-dom';\nimport { getIcon } from '../SF/helpers';\n\nconst useStyles = makeStyles((theme) => ({\n  popper: { zIndex: 10000 },\n  text: { color: 'white' },\n  image: { width: 164, height: 164 },\n  paper: {\n    margin: theme.spacing(1),\n    backgroundColor: 'inherit',\n  },\n  paperMod: {\n    padding: theme.spacing(2),\n    margin: 'auto',\n    maxWidth: 700,\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  file: { margin: '0px 5px 10px', cursor: 'pointer' },\n}));\n\nconst initialState = {\n  open: false,\n  openModal: false,\n  progress: null,\n  total: null,\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'start': {\n      return {\n        ...state,\n        progress: 0,\n        total: action.total,\n      };\n    }\n    case 'add': {\n      const received = state.progress + action.progress;\n      return {\n        ...state,\n        progress: received,\n      };\n    }\n    case 'end': {\n      return {\n        ...state,\n        progress: 0,\n        total: 0,\n      };\n    }\n\n    default: {\n      return { ...state, ...action };\n    }\n  }\n};\n\nconst Files = ({ file, move: { setMovingFile, movingFile }, ...props }) => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const { ino, name, ext, isFile } = file;\n\n  const [state, update] = React.useReducer(reducer, initialState);\n  // const { state: globalState, dispatch } = useContext(saduwux);\n\n  const { updateFolder, updatePlayer } = props;\n  const anchorRef = React.useRef(null);\n  const prevOpen = React.useRef(state.open);\n  const nameToShow =\n    name.length > 20 ? name.substring(0, 27).trim() + '...' + ext : name;\n\n  React.useEffect(() => {\n    if (prevOpen.current && !state.open) {\n      anchorRef.current.focus();\n    }\n    prevOpen.current = state.open;\n  }, [state.open]);\n\n  const handleToggle = () => {\n    if (movingFile) {\n      return;\n    }\n    update({ open: !state.open });\n  };\n\n  const handleClickAway = (event) => {\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return;\n    }\n    update({ open: false });\n  };\n\n  const handleOpenModal = () => {\n    update({ open: false });\n    props.openModal(file);\n  };\n\n  const setFileAsMoving = () => {\n    update({ open: false });\n    setMovingFile(file);\n  };\n\n  const modRep = (id) => {\n    updatePlayer(id);\n    history.push('/reproductor');\n  }; //changeRep\n\n  const download = async (ino, filename) => {\n    const response = await fetch(`/api/files/${ino}/download`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    });\n    const reader = response.body.getReader();\n    const chunks = [];\n\n    update({ type: 'start', total: +response.headers.get('Content-Length') });\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      const { done, value } = await reader.read();\n\n      if (done) {\n        break;\n      }\n      chunks.push(value);\n      update({ type: 'add', progress: value.length });\n    }\n\n    const blob = new Blob(chunks);\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a); // we need to append the element to the dom -> otherwise it will not work in firefox\n    a.click();\n    a.remove(); //afterwards we remove the element again\n  };\n\n  const handleListKeyDown = (event) => {\n    if (event.index === 'Tab') {\n      event.preventDefault();\n      update({ open: true });\n    }\n  };\n\n  const content = (\n    <Paper color=\"primary\" elevation={0} className={classes.paper}>\n      <img src={getIcon(isFile, ext)} alt={ext} width=\"64\" height=\"64\" />\n      <Typography\n        variant=\"body2\"\n        className={props.useTheme ? classes.text : ''}\n        style={{ overflowWrap: 'break-word' }}\n        //noWrap=\"true\"\n      >\n        {nameToShow}\n      </Typography>\n    </Paper>\n  );\n\n  const opacity = () => (movingFile && ino === movingFile.ino ? '0.6' : '1');\n\n  if (!isFile) {\n    return (\n      <Grid item xs={4} sm={3} md={2} lg={1} className={classes.modal}>\n        <Box\n          onClick={() => updateFolder(ino)}\n          onContextMenu={(e) => e.preventDefault()}\n          textAlign=\"center\"\n          className={classes.file}\n        >\n          {content}\n        </Box>\n      </Grid>\n    );\n  }\n  return (\n    <Grid\n      style={{ height: '120px', opacity: opacity() }}\n      item\n      xs={4}\n      sm={3}\n      md={2}\n      lg={1}\n    >\n      <Box textAlign=\"center\" className={classes.file}>\n        <Box\n          ref={anchorRef}\n          aria-controls={state.open ? 'menu-list-grow' : undefined}\n          aria-haspopup=\"true\"\n          onClick={handleToggle}\n          onContextMenu={(e) => e.preventDefault()}\n        >\n          {content}\n        </Box>\n        <Popper\n          className={classes.popper}\n          open={state.open}\n          anchorEl={anchorRef.current}\n          role={undefined}\n          transition\n          disablePortal\n        >\n          {({ TransitionProps, placement }) => (\n            <Grow\n              {...TransitionProps}\n              style={{\n                transformOrigin:\n                  placement === 'bottom' ? 'center top' : 'center bottom',\n              }}\n            >\n              <Paper>\n                <ClickAwayListener onClickAway={handleClickAway}>\n                  <MenuList\n                    autoFocusItem={state.open}\n                    id=\"menu-list-grow\"\n                    onKeyDown={handleListKeyDown}\n                  >\n                    <MenuItem onClick={() => download(ino, name)}>\n                      Descargar\n                    </MenuItem>\n                    <MenuItem onClick={() => modRep(ino)}>Reproducir</MenuItem>\n                    <MenuItem onClick={() => setFileAsMoving()}>Mover</MenuItem>\n                    <MenuItem onClick={() => handleOpenModal()}>\n                      Información\n                    </MenuItem>\n                  </MenuList>\n                </ClickAwayListener>\n              </Paper>\n            </Grow>\n          )}\n        </Popper>\n      </Box>\n    </Grid>\n  );\n};\n\nexport default Files;\n","import Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport React from 'react';\nimport { getIcon } from '../../SF/helpers';\nimport { makeStyles } from '@material-ui/core';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Dialog from '@material-ui/core/Dialog';\n\nconst useStyles = makeStyles((theme) => ({\n  image: { width: 164, height: 164 },\n  paperMod: {\n    padding: theme.spacing(2),\n    paddingTop: 0,\n    margin: 'auto',\n    maxWidth: 700,\n    [theme.breakpoints.down('xs')]: {\n      maxWidth: 300,\n    },\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n}));\n\nconst FileInfoModal = ({ file, handleClose, open }) => {\n  const classes = useStyles();\n  const date = new Date(file.lastModified || file.birthtime).toLocaleString(\n    'es-VE'\n  );\n  if (!file) return '';\n  else\n    return (\n      <Dialog\n        open={open}\n        className={classes.modal}\n        onClose={() => handleClose()}\n      >\n        <DialogTitle id=\"file-dialog-title\" style={{ textAlign: 'center' }}>\n          Información del archivo\n        </DialogTitle>\n        {/*-------------------------GRID----------------------------*/}\n        <Paper className={classes.paperMod}>\n          <Grid container spacing={1} justify=\"center\">\n            <Grid item>\n              <div className={classes.image}>\n                <img\n                  src={getIcon(file.isFile, file.ext)}\n                  alt={file.ext}\n                  width=\"164\"\n                  height=\"164\"\n                />\n              </div>\n            </Grid>\n            <Grid item xs={12} sm={8} container>\n              <Grid item xs container direction=\"row\" spacing={2}>\n                <Grid item xs={12}>\n                  <Typography variant=\"body2\" color=\"textSecondary\">\n                    Nombre:\n                  </Typography>\n                  <Typography\n                    gutterBottom\n                    variant=\"subtitle1\"\n                    style={{ wordWrap: 'break-word' }}\n                  >\n                    {file.name}\n                  </Typography>\n                </Grid>\n                <Grid item xs={8}>\n                  <Typography variant=\"body2\" color=\"textSecondary\">\n                    Subido por:\n                  </Typography>\n                  <Typography gutterBottom variant=\"subtitle1\">\n                    {file.upBy}\n                  </Typography>\n                  <Typography variant=\"body2\" color=\"textSecondary\">\n                    Última modificación:\n                  </Typography>\n                  <Typography gutterBottom variant=\"subtitle1\">\n                    {date}\n                  </Typography>\n                </Grid>\n                <Grid item xs={4}>\n                  <Typography variant=\"body2\" color=\"textSecondary\">\n                    Tamaño:\n                  </Typography>\n                  <Typography gutterBottom variant=\"subtitle1\">\n                    {file.size}\n                  </Typography>\n                  <Typography variant=\"body2\" color=\"textSecondary\">\n                    Nivel\n                  </Typography>\n                  <Typography gutterBottom variant=\"subtitle1\">\n                    {file.nivel}\n                  </Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Paper>\n      </Dialog>\n    );\n};\n\nexport default FileInfoModal;\n","import { Paper, Dialog, DialogTitle, makeStyles } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport BackupIcon from '@material-ui/icons/Backup';\nimport React from 'react';\nimport { getIcon } from '../../SF/helpers';\nimport { useReducer, useContext } from 'react';\nimport { saduwux } from '../../SF/Context';\nimport path from 'path';\n\nconst useStyles = makeStyles((theme) => ({\n  root: { flexGrow: 1 },\n  title: { flexGrow: 1, textAlign: 'center' },\n  input: { display: 'none' },\n  toolbar: { maxHeight: '64px', position: 'static' },\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paperMod: {\n    padding: theme.spacing(2),\n    maxWidth: 700,\n    textAlign: 'center',\n  },\n}));\n\nconst initialState = {\n  fileField: '',\n  fileFieldName: '',\n  originalName: '',\n  ext: '',\n};\n\nconst reducer = (state, action) => {\n  return { ...state, ...action };\n};\n\nconst reg = new RegExp('[!\"#$%&\\'()*+,./:;<=>?@[\\\\]^`{|}~]+', 'g');\nconst pattern = new RegExp('^[\\\\w\\\\s\\\\-]*$', 'i');\n\nconst UploadFileModal = ({ open, handleClose }) => {\n  const classes = useStyles();\n  const [state, update] = useReducer(reducer, initialState);\n  const {\n    state: { theme },\n  } = useContext(saduwux);\n  const cleanState = () => {\n    update({ fileFieldName: state.originalName, fileField: null });\n  }\n\n  const onChange = (e) => {\n    const fileName = e.target.files[0].name.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\n    let _ext = path.extname(fileName);\n    const nombre = path.basename(fileName, _ext);\n    _ext = _ext.substring(1);\n    update({\n      fileField: e.target.files[0],\n      ext: _ext,\n      fileFieldName: nombre.replace(reg,''),\n      originalName: nombre.replace(reg, ''),\n    });\n  };\n\n  const changeName = (e) => {\n    if (e.target.value.match(pattern)) {\n      update({ fileFieldName: e.target.value });\n    }\n  }\n\n  const handleLocalClose = () => {\n    update({fileField: null});\n    handleClose('', true)\n  }\n\n  if (!open) return '';\n  else\n    return (\n      <Dialog\n        open={open}\n        className={classes.modal}\n        onClose={handleLocalClose}\n      >\n        <DialogTitle id=\"file-dialog-title\" className={classes.title}>\n          {!state.fileField\n            ? 'Selecciona un archivo...'\n            : 'Información del archivo'}\n        </DialogTitle>\n        <Paper className={classes.paperMod}>\n          <Grid>\n            <ModalContent\n              className={classes.input}\n              state={state}\n              theme={theme}\n              changeName={changeName}\n              onChange={onChange}\n              cleanState={cleanState}\n              handleClose={() => handleClose(state, true)}\n            />\n          </Grid>\n        </Paper>\n      </Dialog>\n    );\n};\n\nconst ModalContent = (props) => {\n  const {\n    className: classes,\n    state,\n    theme,\n    changeName,\n    onChange,\n    cleanState,\n    handleClose,\n  } = props;\n\n  if (!state.fileField) {\n    return (\n      <Grid item container xs={12} justify=\"center\">\n        <Grid item xs={12}>\n          <input\n            accept=\"/*\"\n            onChange={(e) => onChange(e)}\n            className={classes}\n            id=\"icon-button-file\"\n            type=\"file\"\n          />\n          <label htmlFor=\"icon-button-file\">\n            <IconButton\n              color={theme ? '' : 'primary'}\n              aria-label=\"upload picture\"\n              component=\"span\"\n            >\n              <BackupIcon style={{ fontSize: 164 }} />\n            </IconButton>\n          </label>\n        </Grid>\n      </Grid>\n    );\n  }\n  return (\n    <Grid item container xs={12} justify=\"center\">\n      <Grid item>\n        <img\n          src={getIcon(true, state.ext)}\n          width=\"164\"\n          height=\"164\"\n          alt=\"file\"\n        />\n      </Grid>\n      <Grid item xs={12}>\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n          Nombre:\n        </Typography>\n        <TextField\n          fullWidth\n          value={state.fileFieldName}\n          variant=\"outlined\"\n          style={{ textAlign: 'center' }}\n          onChange={changeName}\n        />\n      </Grid>\n      <Grid item xs={6} style={{ paddingTop: '15px' }}>\n        <Button variant=\"contained\" color=\"secondary\" onClick={cleanState}>\n          Limpiar\n        </Button>\n      </Grid>\n      <Grid item xs={6} style={{ paddingTop: '15px' }}>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => handleClose()}\n        >\n          Aceptar\n        </Button>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default UploadFileModal;\n","/**\n * @typedef {import('../SF/typedefs.jsx').file} file\n * @typedef {import('../SF/typedefs.jsx').searchState} initialState\n * @typedef {import('../SF/typedefs.jsx').inputFile} inputFile\n * @typedef {import('../SF/typedefs.jsx').context} context\n */\nimport AppBar from '@material-ui/core/AppBar';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport CachedIcon from '@material-ui/icons/Cached';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport HomeIcon from '@material-ui/icons/Home';\nimport CreateNewFolderIcon from '@material-ui/icons/CreateNewFolder';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport React, { useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { saduwux } from '../SF/Context';\nimport { handleFetch, postFile, newFolder } from '../SF/helpers';\nimport Files from './Files';\nimport FileInfoModal from './Modals/FileInfoModal';\nimport UploadFileModal from './Modals/UploadFileModal';\nimport SendIcon from '@material-ui/icons/Send';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport Paper from '@material-ui/core/Paper';\nimport Dialog from '@material-ui/core/Dialog';\nimport TextField from '@material-ui/core/TextField';\nimport { getIcon } from '../SF/helpers';\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    overflow: 'auto',\n    display: 'grid',\n    gridTemplateRows: '48px 1fr',\n    width: '100%',\n  },\n  anotherRow: {\n    gridTemplateRows: '48px 1fr 48px',\n  },\n  peachColor: { backgroundColor: '#fff9c4' },\n  bar: {\n    position: 'sticky',\n  },\n  title: { flexGrow: 1, textAlign: 'center' },\n  input: { display: 'none' },\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    flexGrow: 1,\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paperMod: {\n    padding: theme.spacing(2),\n    margin: 'auto',\n    maxWidth: 700,\n    textAlign: 'center',\n  },\n  sectionDesktop: {\n    [theme.breakpoints.down('xs')]: {\n      display: 'none',\n    },\n  },\n  sectionMobile: {\n    [theme.breakpoints.down('xs')]: {\n      textAlign: 'center',\n      '& .MuiIconButton-edgeStart': {\n        margin: 0,\n      },\n    },\n  },\n  movingBar: {\n    width: '100%',\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between',\n    padding: '0.25rem 1rem',\n    borderTop: '1px solid grey',\n  },\n  inline: { display: 'inline' },\n  hideOnBig: {\n    display: 'none',\n    [theme.breakpoints.down('xs')]: {\n      display: 'inline-block',\n    },\n  },\n}));\n\nconst Alert = (props) => {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n};\n\n/** @type {initialState} */\nconst initialState = {\n  open: false,\n  message: '',\n  severity: '',\n  fileForModal: '',\n  uploadModal: false,\n  files: null,\n  shouldUpdate: false,\n  movingFile: '',\n  isMoving: false,\n  folderModal: false,\n  folderName: 'Nueva Carpeta',\n};\n\nconst reducer = (state, action) => {\n  return {\n    ...state,\n    ...action,\n  };\n};\n\nconst Search = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const [state, update] = React.useReducer(reducer, initialState);\n  /**@type {context} */\n  const { state: globalState, dispatch } = useContext(saduwux);\n\n  React.useEffect(() => {\n    if (state.shouldUpdate) {\n      update({shouldUpdate: false, files: null})\n      return;\n    }\n    const headers = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    };\n\n    fetch(`/api/files/${globalState.folder}/files`, headers)\n      .then(handleFetch)\n      .then((response) => {\n        update({\n          files: sort(response)\n        });\n      })\n      .catch((mistake) => {\n        update({\n          open: true,\n          message: mistake.message,\n          severity: 'error',\n        });\n      });\n  }, [globalState.folder, state.shouldUpdate]);\n\n  /**--------------------- Navigators ----------------------*/\n  /** Goes one folder up if possible */\n  const goBack = () =>\n    globalState.history.length && dispatch({ type: 'moveBack' });\n  /** Goes one folder in */\n  const updateFolder = (ino) => dispatch({ type: 'moveForward', payload: ino });\n  /** Redirects to the player */\n  const updatePlayer = (ino) => {\n    dispatch({ type: 'update', payload: { playing: ino } });\n    history.push('/reproductor');\n  };\n  /** Goes to the root directory */\n  const goHome = () => dispatch({ type: 'moveHome' });\n\n  /**--------------------- Navigators ----------------------*/\n\n  const handleFileModal = (file = '') => {\n    update({ fileForModal: file });\n  };\n\n  /**\n   * Toggle the upload modal,\n   * if closing and data was retrieved it's sent to the server\n   * @param {inputFile} data la informacion provemiente del dialog\n   * @param {boolean} closing si se está cerrando desde el dialog\n   */\n  const handleUploadModal = (data, closing = false) => {\n    if (!data && !closing) update({ uploadModal: true });\n    else if (data) uploadFile({ ...data, folder: globalState.folder });\n\n    if (closing) update({ uploadModal: false});\n  };\n\n  /** Closes the snackbar\n   * @param {object} event\n   * @param {string} reason\n   */\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') return;\n    update({ open: false, folderModal: false, folderName: 'Nueva carpeta'});\n  };\n\n  /**\n   * @param {inputFile} fileToPost The data to be posted\n   */\n  const onSuccess = (mensaje) => {\n    update({\n      shouldUpdate: true,\n      open: true,\n      folderModal: false,\n      folderName: 'Nueva carpeta',\n      message: mensaje,\n      severity: 'success',\n    });\n  };\n\n  const folderNameChange = (e) => {\n    const pattern = new RegExp('^[\\\\w\\\\s\\\\-]*$', 'i');\n    if (e.target.value.match(pattern)) {\n      update({ folderName: e.target.value });\n    }\n  }\n\n  const onError = (mistake) => update({ open: true, message: mistake.message });\n\n  const uploadFile = (fileToPost) => {\n    postFile(fileToPost, onSuccess, onError);\n  };\n\n  /** Mover archivos */\n  const setMovingFile = (ino) => {\n    update({ movingFile: ino });\n  };\n  const cancelMoving = () => {\n    update({ movingFile: null });\n  };\n  const moveFile = () => {\n    const headers = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    };\n    update({ isMoving: true });\n    fetch(`/api/files/${globalState.folder}/${state.movingFile.ino}`, headers)\n      .then(handleFetch)\n      .then((res) => {\n        update({\n          shouldUpdate: true,\n          movingFile: '',\n          open: true,\n          message: res.message,\n          severity: 'success',\n          isMoving: false,\n        });\n      })\n      .catch((error) => {\n        update({\n          open: true,\n          movingFile: '',\n          message: error.message,\n          severity: 'error',\n          isMoving: false,\n        });\n      });\n    // fetch state.moving file => globalState.folder\n  };\n  /** */\n\n  const items = () => {\n    const regex = new RegExp(globalState.search, 'gi');\n    return state.files.reduce((filtered, file, index) => {\n      if (!file.name.match(regex)) {\n        return filtered;\n      }\n      const temp = (\n        <Files\n          openModal={handleFileModal}\n          useTheme={globalState.theme}\n          updatePlayer={updatePlayer}\n          updateFolder={updateFolder}\n          move={{ setMovingFile, movingFile: state.movingFile }}\n          key={index}\n          file={file}\n        />\n      );\n      return [...filtered, temp];\n    }, []);\n  };\n\n  const mainClass = () => {\n    let className = classes.main;\n    if (state.movingFile) className += ` ${classes.anotherRow}`;\n    if (!globalState.theme) className += ` ${classes.peachColor}`;\n    return className;\n  };\n\n  return (\n    <React.Fragment>\n      <Box className={mainClass()} component=\"main\">\n        <AppBar component=\"div\" color=\"secondary\" className={classes.bar}>\n          <Toolbar variant=\"dense\">\n            <Grid container alignItems=\"center\">\n              <Grid\n                className={classes.sectionMobile}\n                container\n                item\n                xs={12}\n                sm={3}\n                md={2}\n                lg={2}\n              >\n                <Grid item xs sm={3}>\n                  <IconButton\n                    edge=\"start\"\n                    onClick={goBack}\n                    color=\"inherit\"\n                    aria-label=\"menu\"\n                  >\n                    <ArrowBackIcon />\n                  </IconButton>\n                </Grid>\n                <Grid item xs sm={3}>\n                  <IconButton\n                    edge=\"start\"\n                    color=\"inherit\"\n                    aria-label=\"menu\"\n                    onClick={() => update({ shouldUpdate: true })}\n                  >\n                    <CachedIcon />\n                  </IconButton>\n                </Grid>\n                <Grid item xs sm={3}>\n                  <IconButton\n                    edge=\"start\"\n                    onClick={goHome}\n                    color=\"inherit\"\n                    aria-label=\"menu\"\n                  >\n                    <HomeIcon />\n                  </IconButton>\n                </Grid>\n                <Grid item xs sm={3}>\n                  <IconButton\n                    edge=\"start\"\n                    onClick={() => update({ folderModal: true })}\n                    color=\"inherit\"\n                    aria-label=\"menu\"\n                  >\n                    <CreateNewFolderIcon />\n                  </IconButton>\n                </Grid>\n                <Grid item xs className={classes.hideOnBig}>\n                  <IconButton\n                    edge=\"start\"\n                    onClick={() => handleUploadModal()}\n                    color=\"inherit\"\n                    aria-label=\"upload\"\n                  >\n                    <CloudUploadIcon />\n                  </IconButton>\n                </Grid>\n              </Grid>\n              <Grid\n                item\n                className={classes.sectionDesktop}\n                sm={7}\n                md={7}\n                lg={9}\n              >\n                <Box display=\"flex\">\n                  <Typography variant=\"h6\" className={classes.title}>\n                    Puedes acceder desde {window.location.origin}\n                  </Typography>\n                </Box>\n              </Grid>\n              <Grid\n                item\n                className={classes.sectionDesktop}\n                sm={2}\n                md={2}\n                lg={1}\n                style={{ textAlign: 'end' }}\n              >\n                <Button\n                  color=\"inherit\"\n                  startIcon={<CloudUploadIcon />}\n                  component=\"span\"\n                  onClick={() => handleUploadModal()}\n                >\n                  Subir\n                </Button>\n              </Grid>\n            </Grid>\n          </Toolbar>\n        </AppBar>\n        <Grid container className={classes.inline}>\n          {!state.files || state.shouldUpdate ? <LinearProgress /> : ''}\n          <div className={classes.container}>{state.files ? items() : ''}</div>\n        </Grid>\n        <MovingBar\n          movingFile={state.movingFile}\n          className={classes.movingBar}\n          move={moveFile}\n          cancel={cancelMoving}\n          theme={globalState.theme}\n          isMoving={state.isMoving}\n        />\n      </Box>\n        <Dialog\n          open={state.folderModal}\n          className={classes.modal}\n          onClose={() => handleClose(state, true)}\n        >\n          <Paper className={classes.paperMod}>\n            <Grid item container xs={12} justify=\"center\">\n              <Grid item>\n                <img src={getIcon(false)} width=\"164\" height=\"164\" alt=\"file\" />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  fullWidth\n                  value={state.folderName}\n                  variant=\"outlined\"\n                  style={{ textAlign: 'center' }}\n                  onChange={folderNameChange}\n                />\n              </Grid>\n              <Grid item xs={12} style={{ paddingTop: '15px' }}>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={() =>\n                    newFolder(\n                      state.folderName,\n                      globalState.folder,\n                      onSuccess,\n                      onError\n                    )\n                  }\n                >\n                  Aceptar\n                </Button>\n              </Grid>\n            </Grid>\n          </Paper>\n        </Dialog>\n      <FileInfoModal\n        open={!!state.fileForModal}\n        file={state.fileForModal}\n        handleClose={handleFileModal}\n      />\n      <UploadFileModal\n        open={state.uploadModal}\n        handleClose={handleUploadModal}\n      />\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'right',\n        }}\n        open={state.open}\n        onClose={handleClose}\n        autoHideDuration={3000}\n      >\n        <Alert onClose={handleClose} severity={state.severity}>\n          {state.message}\n        </Alert>\n      </Snackbar>\n    </React.Fragment>\n  );\n};\n\nconst MovingBar = ({\n  movingFile: file,\n  className,\n  move,\n  cancel,\n  theme,\n  isMoving,\n}) => {\n  if (!file) {\n    return '';\n  }\n  const spanClass = makeStyles(() => ({\n    button: {\n      '& .MuiButton-endIcon, & .MuiButton-startIcon': {\n        marginTop: '-5px',\n      },\n    },\n    typo: {\n      color: theme ? '#fff' : 'rgba(0, 0, 0, 0.87)',\n    },\n  }))();\n\n  const { name, ext } = file;\n  const nameToShow =\n    name.length > 30 ? name.substring(0, 27).trim() + '...' + ext : name;\n\n  return (\n    <div className={className}>\n      <Typography variant=\"h6\" className={spanClass.typo}>\n        Moviendo: {nameToShow}\n      </Typography>\n      <div>\n        <Button\n          disableElevation\n          disabled={isMoving}\n          onClick={() => cancel()}\n          size=\"large\"\n          startIcon={<CancelIcon />}\n          className={spanClass.button}\n        >\n          Cancelar\n        </Button>\n        <Button\n          disableElevation\n          disabled={isMoving}\n          onClick={() => move()}\n          size=\"large\"\n          endIcon={<SendIcon />}\n          className={spanClass.button}\n        >\n          Mover aquí\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default Search;\n\n/**\n * @param {file[]} arr\n */\nconst sort = (arr) => {\n  arr.sort(byName);\n  arr.sort(byFileType);\n  return arr;\n}; //Sort\n/**\n * Sort by name\n * @param {file} a\n * @param {file} b\n */\nconst byName = (a, b) => a.name.localeCompare(b.name); //By name\n/**\n * Sort by extension\n * @param {file} a\n * @param {file} b\n */\nconst byFileType = (a, b) => a.ext.localeCompare(b.ext);\n","import Card from '@material-ui/core/Card';\nimport Box from '@material-ui/core/Box';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport md5 from 'md5';\nimport Link from '@material-ui/core/Link';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport CloudIcon from '@material-ui/icons/Cloud';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport React, { useContext, useReducer } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { saduwux } from '../SF/Context';\nimport { handleFetch, reactLink } from '../SF/helpers';\nimport backgroundimg1 from '../SF/Media/background_study_by_hibelton_dc28kuo-fullview.jpg';\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    gridColumnStart: '1',\n    gridColumnEnd: '3',\n    gridRowStart: '1',\n    gridRowEnd: '3',\n    display: 'flex',\n    placeContent: 'center',\n    alignItems: 'center',\n    backgroundImage: `url(${backgroundimg1})`,\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? '#cecece' : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n\n    [theme.breakpoints.down('xs')]: {\n      gridColumnStart: '1',\n      gridColumnEnd: '2',\n      gridRowStart: '1',\n      gridRowEnd: '4',\n      '& .MuiCard-root': {\n        maxWidth: 'calc(100vw - 30px)',\n        padding: '1rem'\n      }\n    },\n\n    '& button': {\n      padding: '0.5rem 1rem',\n      fontWeight: '600',\n      margin: '0.25rem 0px',\n      '&.Mui-disabled': {\n        color: 'rgba(0, 0, 0, 0.26)',\n      },\n    },\n    '& .MuiIconButton-root': {\n      padding: 0,\n    },\n    '& .forgot': {\n      width: '100%',\n      textAlign: 'center',\n      color: 'rgba(0,0,0,0.7)',\n      marginTop: '0.5rem',\n      display: 'inline-block'\n    }\n  },\n  box: {\n    padding: '1rem 3rem',\n    backgroundColor: '#fff',\n    borderRadius: '1rem',\n    maxWidth: '400px',\n  },\n  form: {\n    marginTop: '0.5rem',\n    display:\"flex\",\n    flexDirection:\"column\",\n    alignItems:\"center\",\n  },\n}));\n\nconst pattern = {\n  username: new RegExp('^[A-Z0-9]*$', 'i'),\n}\n\nconst Alert = (props) => {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n};\n\n/**\n * updates the state\n * @param {initialState} value The new value to assign to the state\n */\nconst initialState = {\n  open: false,\n  message: '',\n  username: '',\n  password: '',\n  isLoading: false,\n  severity: 'success',\n};\n\nconst reducer = (state, action) => {\n  return { ...state, ...action };\n};\n\nconst Login = () => {\n  const history = useHistory();\n  const classes = useStyles();\n\n  React.useEffect(() => localStorage.clear(), []);\n\n  const [state, update] = useReducer(reducer, initialState);\n  const { dispatch } = useContext(saduwux);\n\n  const invalid = () => {\n    const { username, password } = state;\n    return username.length < 3|| password.length < 6;\n  };\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n    if (invalid()) {\n      return;\n    }\n\n    const { username, password } = state;\n    update({ isLoading: true });\n    fetch('/api/users/login', {\n      method: 'post',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        usuario: username,\n        password: md5(password),\n      }),\n    })\n      .then(handleFetch)\n      .then((data) => {\n        localStorage.setItem('token', 'bearer ' + data.token);\n        dispatch({\n          type: 'login',\n          payload: {\n            user: data.user,\n          },\n        });\n        update({\n          open: true,\n          message: 'Inicio de sesión exitoso!',\n          severity: 'success',\n        });\n        setTimeout(() => history.push('/busqueda'), 500);\n      })\n      .catch((error) => {\n        update({\n          open: true,\n          message: error.message,\n          isLoading: false,\n          severity: 'error',\n        });\n      });\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    update({ open: false });\n  };\n\n  const handleInput = ({ target }) => {\n    if(!pattern[target.id] || target.value.trim().match(pattern[target.id])){\n      update({ [target.id]: target.value.trim() });\n    }\n  };\n\n  return (\n    <Box component=\"main\" className={classes.main}>\n      <Card className={classes.box}>\n        <CardContent className=\"center\">\n          <Box\n            display=\"flex\"\n            flexDirection=\"column\"\n            alignItems=\"center\"\n          >\n            <IconButton>\n              <CloudIcon color=\"primary\" style={{ fontSize: '4rem' }} />\n            </IconButton>\n            <Typography color=\"secondary\" component=\"h2\" variant=\"h4\">\n              Cloudster\n            </Typography>\n            <Typography component=\"h6\" variant=\"h6\">\n              Inicia Sesión\n            </Typography>\n          </Box>\n          <Divider />\n          <form\n            className={classes.form}\n            autoComplete=\"off\"\n            onSubmit={handleLogin}\n          >\n            <Box>\n              <TextField\n                value={state.username}\n                onChange={handleInput}\n                id=\"username\"\n                label=\"Nombre de usuario\"\n                variant=\"outlined\"\n                margin=\"normal\"\n                required\n                fullWidth\n                autoFocus\n                disabled={state.isLoading}\n              />\n              <TextField\n                value={state.password}\n                onChange={handleInput}\n                id=\"password\"\n                label=\"Contraseña\"\n                variant=\"outlined\"\n                margin=\"normal\"\n                required\n                fullWidth\n                type=\"password\"\n                disabled={state.isLoading}\n              />\n            </Box>\n            <Button\n              disabled={state.isLoading || invalid()}\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              size=\"large\"\n              type=\"submit\"\n            >\n              Iniciar Sesión\n            </Button>\n            <Link to=\"/register\" style={{ width: '100%' }} component={reactLink}>\n              <Button\n                fullWidth\n                variant=\"outlined\"\n                size=\"large\"\n                color=\"secondary\"\n                type=\"button\"\n              >\n                Registrarse\n              </Button>\n            </Link>\n            <Link\n              component={reactLink}\n              to=\"/recover\"\n              className=\"forgot\"\n            >\n              Olvidé mi contraseña\n            </Link>\n          </form>\n        </CardContent>\n      </Card>\n\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        open={state.open}\n        onClose={handleClose}\n        autoHideDuration={6000}\n      >\n        <Alert onClose={handleClose} severity={state.severity}>\n          {state.message}\n        </Alert>\n      </Snackbar>\n    </Box>\n  );\n};\n\nexport default Login;\n","import Card from '@material-ui/core/Card';\nimport Box from '@material-ui/core/Box';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Divider from '@material-ui/core/Divider';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport Link from '@material-ui/core/Link';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Stepper from '@material-ui/core/Stepper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport CloudIcon from '@material-ui/icons/Cloud';\nimport React, { useContext, useReducer } from 'react';\nimport md5 from 'md5';\nimport { useHistory, withRouter } from 'react-router-dom';\nimport { saduwux } from '../SF/Context';\nimport { handleFetch, reactLink } from '../SF/helpers';\nimport backgroundimg1 from '../SF/Media/background_study_by_hibelton_dc28kuo-fullview.jpg';\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    gridColumnStart: '1',\n    gridColumnEnd: '3',\n    gridRowStart: '1',\n    gridRowEnd: '3',\n    display: 'flex',\n    placeContent: 'center',\n    alignItems: 'center',\n    flexDirection: 'column',\n    maxWidth: 'auto',\n    backgroundImage: `url(${backgroundimg1})`,\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? '#cecece' : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n\n    [theme.breakpoints.down('xs')]: {\n      gridColumnStart: '1',\n      gridColumnEnd: '2',\n      gridRowStart: '1',\n      gridRowEnd: '4',\n      '& .MuiCard-root': {\n        maxWidth: 'calc(100vw - 30px)',\n        padding: '1rem'\n      }\n    },\n    '& .MuiIconButton-root': {\n      padding: 0,\n    },\n  },\n  box: {\n    padding: '1rem 3rem',\n    backgroundColor: '#fff',\n    borderRadius: '1rem',\n    maxWidth: '100%',\n  },\n  form: {\n    margin: '0',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  backButton: {\n    color: 'rgba(0, 0, 0, 0.8)',\n    borderColor: 'rgba(0, 0, 0, 0.8)'\n  },\n  bottonContainer: {\n    marginTop: '1rem',\n    display: 'flex',\n    placeContent: 'space-between',\n\n    '& button': {\n      padding: '0.5rem 1rem',\n      fontWeight: '600',\n\n      '&.MuiButton-containedPrimary': {\n        color: '#fff',\n      },\n      '&.Mui-disabled': {\n        color: 'rgba(0, 0, 0, 0.26)',\n      },\n    },\n  },\n  instructions: {\n    width: '275px',\n  },\n  mRight: {\n    flexGrow: 1,\n  },\n}));\n\nconst Alert = (props) => {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n};\n\nconst initialState = {\n  activeStep: 0,\n  touched: false,\n  isLoading: false,\n  user: '',\n  id: '',\n  pregunta1: '',\n  pregunta2: '',\n  respuesta1: '',\n  respuesta2: '',\n  password: '',\n  password2: '',\n  open: false,\n  message: '',\n  severity: 'success',\n};\n\nconst reducer = (state, action) => {\n  if (action) {\n    return { ...state, ...action };\n  }\n\n  switch (state.activeStep) {\n    case 2: {\n      return {\n        ...state,\n        password: '',\n        password2: '',\n        touched: true,\n        activeStep: 1,\n      };\n    }\n    case 1: {\n      return {\n        ...state,\n        pregunta1: '',\n        pregunta2: '',\n        respuesta1: '',\n        respuesta2: '',\n        touched: true,\n        activeStep: 0,\n      };\n    }\n    default:\n      return initialState;\n  }\n};\n\nconst Recover = () => {\n  const classes = useStyles();\n  const steps = ['Usuario', 'Preguntas', 'Contraseña'];\n  const history = useHistory();\n\n  const [state, update] = useReducer(reducer, initialState);\n  const { dispatch } = useContext(saduwux);\n\n  const invalid = () => {\n    if (!state.touched || state.isLoading) {\n      return true;\n    }\n    switch (state.activeStep) {\n      case 0: {\n        const { user } = state;\n        return !user.length;\n      }\n      case 1: {\n        const { respuesta1, respuesta2 } = state;\n        return !respuesta1.trim().length || !respuesta2.trim().length;\n      }\n      case 2: {\n        const { password, password2 } = state;\n        return (\n          password.length < 6 || password2.length < 6 || password !== password2\n        );\n      }\n      default:\n        break;\n    }\n  };\n\n  const handleUsername = () => {\n    update({ isLoading: true });\n    fetch(`/api/users/${state.user}/questions`)\n      .then(handleFetch)\n      .then(({ usuario, id_usuario, pregunta1, pregunta2 }) => {\n        update({\n          user: usuario.trim(),\n          id_usuario: id_usuario.trim(),\n          pregunta1: pregunta1,\n          pregunta2: pregunta2,\n          activeStep: 1,\n          touched: false,\n          isLoading: false,\n        });\n      })\n      .catch((e) => {\n        update({\n          open: true,\n          message: e.message,\n          severity: 'error',\n          touched: false,\n          isLoading: false,\n        });\n      });\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    update({ open: false });\n  };\n\n  const handleQuestions = () => {\n    update({ isLoading: true });\n    const headers = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        respuesta1: state.respuesta1,\n        respuesta2: state.respuesta2,\n      }),\n    };\n\n    fetch(`/api/users/${state.id_usuario}/questions`, headers)\n      .then(handleFetch)\n      .then((data) => {\n        localStorage.setItem('token', 'bearer ' + data.token);\n        update({\n          activeStep: 2,\n          touched: false,\n          isLoading: false,\n        });\n      })\n      .catch((e) => {\n        update({\n          open: true,\n          message: e.message,\n          severity: 'error',\n          touched: false,\n          isLoading: false,\n        });\n      });\n  };\n\n  const changePassword = () => {\n    update({ isLoading: true });\n    const headers = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n      body: JSON.stringify({ password: md5(state.password) }),\n    };\n\n    fetch(`/api/users/${state.id_usuario}`, headers)\n      .then(handleFetch)\n      .then((data) => {\n        dispatch({\n          type: 'login',\n          payload: { user: data.user },\n        });\n        localStorage.setItem('token', 'bearer ' + data.token);\n        history.push('/busqueda');\n      })\n      .catch((err) => {\n        update({\n          open: true,\n          message: err.message,\n          severity: 'error',\n          touched: false,\n          isLoading: false\n        });\n      });\n  };\n\n  const handleNext = (event) => {\n    event.preventDefault();\n    if (invalid()) {\n      return;\n    }\n    switch (state.activeStep) {\n      case 2: {\n        changePassword();\n        break;\n      }\n      case 1: {\n        handleQuestions();\n        break;\n      }\n      default: {\n        handleUsername();\n        break;\n      }\n    }\n  };\n\n  const handleBack = () => update();\n\n  const handleChange = (e) =>\n    update({ [e.target.name]: e.target.value, touched: true });\n  const handleChangeTrim = (e) =>\n    update({ [e.target.name]: e.target.value.trim(), touched: true });\n\n  /** @param {number} step */\n  const getStepContent = (step) => {\n    switch (step) {\n      case 0:\n        return (\n          <TextField\n            name=\"user\"\n            value={state.user}\n            onChange={handleChangeTrim}\n            id=\"standard-name\"\n            label=\"Nombre de usuario\"\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            autoFocus\n          />\n        );\n      case 1:\n        return (\n          <Box>\n            <TextField\n              name=\"respuesta1\"\n              value={state.respuesta1}\n              onChange={handleChange}\n              id=\"respuesta1\"\n              label=\"Respuesta #1\"\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              autoFocus\n              helperText={state.pregunta1}\n            />\n            <TextField\n              name=\"respuesta2\"\n              value={state.respuesta2}\n              onChange={handleChange}\n              id=\"respuesta2\"\n              label=\"Respuesta #2\"\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              helperText={state.pregunta2}\n            />\n          </Box>\n        );\n      case 2:\n        return (\n          <Box>\n            <TextField\n              name=\"password\"\n              value={state.password}\n              onChange={handleChangeTrim}\n              id=\"password-input\"\n              label=\"Nueva contraseña\"\n              type=\"password\"\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              autoFocus\n            />\n            <TextField\n              name=\"password2\"\n              value={state.password2}\n              onChange={handleChangeTrim}\n              id=\"password-confirm-input\"\n              label=\"Confirmar contraseña\"\n              type=\"password\"\n              variant=\"outlined\"\n              margin=\"normal\"\n              fullWidth\n              required\n            />\n          </Box>\n        );\n      default:\n        return <p>Unknown step</p>;\n    }\n  };\n\n  return (\n    <Box component=\"main\" className={classes.main}>\n      <Card className={classes.box}>\n        <CardContent>\n          <Box\n            display=\"flex\"\n            flexDirection=\"column\"\n            alignItems=\"center\"\n          >\n            <Link to=\"/\" component={reactLink}>\n              <IconButton>\n                <CloudIcon color=\"primary\" style={{ fontSize: '4rem' }} />\n              </IconButton>\n            </Link>\n            <Typography color=\"secondary\" component=\"h2\" variant=\"h4\">\n              Cloudster\n            </Typography>\n            <Typography component=\"h6\" variant=\"h6\">\n              Recuperar contraseña\n            </Typography>\n          </Box>\n          <Stepper\n            activeStep={state.activeStep}\n            style={{ padding: '0px 0px 24px' }}\n            alternativeLabel\n          >\n            {steps.map((label) => (\n              <Step key={label}>\n                <StepLabel>{label}</StepLabel>\n              </Step>\n            ))}\n          </Stepper>\n          <Divider />\n          <form\n            autoComplete=\"off\"\n            className={classes.form}\n            onSubmit={handleNext}\n          >\n            <div className={classes.instructions}>\n              {getStepContent(state.activeStep)}\n            </div>\n\n            <Box width={1} className={classes.bottonContainer}>\n              <Button\n                disabled={!state.activeStep || state.isLoading}\n                onClick={handleBack}\n                className={classes.backButton}\n                type=\"button\"\n                variant=\"outlined\"\n              >\n                Volver\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                disabled={invalid()}\n                type=\"submit\"\n              >\n                {state.activeStep === steps.length - 1\n                  ? 'Aceptar'\n                  : 'Siguiente'}\n              </Button>\n            </Box>\n          </form>\n\n          <Divider style={{ margin: '0.5rem 0' }} />\n          <Grid container justify=\"space-between\">\n            <Grid item>\n              <Link component={reactLink} to=\"/login\">\n                Inicias sesión\n              </Link>\n            </Grid>\n            <Grid item>\n              <Link component={reactLink} to=\"/register\" color=\"secondary\">\n                Registrarse\n              </Link>\n            </Grid>\n          </Grid>\n\n        </CardContent>\n      </Card>\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        open={state.open}\n        onClose={handleClose}\n        autoHideDuration={6000}\n      >\n        <Alert onClose={handleClose} severity={state.severity}>\n          {state.message}\n        </Alert>\n      </Snackbar>\n    </Box>\n  );\n};\n\nexport default withRouter(Recover);\n","/**\n * @typedef {import('../SF/typedefs.jsx').context} context\n * @typedef {import('../SF/typedefs.jsx').file} file\n */\nimport Avatar from '@material-ui/core/Avatar';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport { green } from '@material-ui/core/colors';\nimport Divider from '@material-ui/core/Divider';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Grid from '@material-ui/core/Grid';\nimport Link from '@material-ui/core/Link';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SvgIcon from '@material-ui/core/SvgIcon/SvgIcon';\nimport Switch from '@material-ui/core/Switch';\nimport Typography from '@material-ui/core/Typography';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport DescriptionIcon from '@material-ui/icons/Description';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport React, { useContext } from 'react';\nimport { Cell, Label, Legend, Pie, PieChart } from 'recharts';\nimport { saduwux } from '../SF/Context';\nimport { handleFetch, reactLink } from '../SF/helpers';\n\nconst useStyles = makeStyles((theme) => ({\n  avatar: { backgroundColor: green[500] },\n  main: {\n    overflow: 'auto',\n    height: '100%',\n    '& .card-box': {\n      minWidth: 300,\n      maxWidth: 480,\n      width: '100%',\n      padding: '0 10px',\n      textAlign: 'center',\n      '& .MuiCardHeader-root': {\n        textAlign: 'center',\n      },\n      '& .MuiCard-root': {\n        minWidth: 300,\n        maxWidth: 480,\n        margin: '1rem',\n        width: '100%',\n        height: 'min-content',\n        [theme.breakpoints.down('sm')]: {\n          maxWidth: 'calc(100vw - 1rem)',\n        },\n        '& .MuiCardContent-root:last-child': {\n          paddingBottom: 16,\n        },\n      },\n      '& .center': {\n        display: 'flex',\n        justifyContent: 'center',\n      },\n      '& .MuiButton-containedPrimary': {\n        boxShadow: 'none',\n        marginRight: 10\n      }\n    },\n  },\n  card: {\n    minWidth: 300,\n    maxWidth: 500,\n    margin: 5,\n  },\n  list: {\n    overflow: 'auto',\n    maxHeight: 300,\n  },\n  dark: {\n    backgroundColor: '#393d46',\n    color: '#fff',\n    '& .files': {\n      color: '#4caf50',\n    },\n    '& .MuiButton-containedPrimary': {\n      border: '1px solid #fff',\n    }\n  },\n  dim: {\n    backgroundColor: '#fff9c4',\n    color: 'white',\n    '& .files': {\n      color: '#4caf50',\n    },\n    '& .MuiButton-containedPrimary': {\n      color: '#fff'\n    }\n  },\n}));\n\nconst initialState = {\n  files: [],\n  shouldUpdate: false,\n  totalSize: 0,\n  parsedSize: '',\n  chartData: [],\n};\nconst reducer = (state, action) => {\n  return { ...state, ...action };\n};\n\nconst Profile = () => {\n  const classes = useStyles();\n  const matches = useMediaQuery((theme) => theme.breakpoints.up('sm'));\n\n  /** @type {context}*/\n  const {\n    state: { user, theme },\n    dispatch,\n  } = useContext(saduwux);\n  const [state, update] = React.useReducer(reducer, initialState);\n\n  /** Algo así para buscar los archivos subidos por el usuario */\n  React.useEffect(() => {\n    fetch(`/api/users/${user.id}/files`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    })\n      .then(handleFetch)\n      .then((response) => update({ ...response, files: sort(response.files) }))\n      .catch(() => {});\n  }, [user.id, state.shouldUpdate]);\n\n  /* const toFolder = () => {  //// Método para llevar al folder en el que se encuentra el archivo en el Search\n\n  }*/\n\n  const handleCheck = ({ target }) => {\n    dispatch({\n      type: 'update',\n      payload: { theme: target.checked },\n    });\n  }\n\n  const files = () =>\n    state.files.map((file, index) => {\n      return (\n        <ListItem key={index}>\n          <ListItemIcon>\n            <SvgIcon component={!file.ext ? FolderIcon : DescriptionIcon} />\n          </ListItemIcon>\n          <ListItemText primary={file.name} secondary={null} />\n        </ListItem>\n      );\n    });\n\n  const getClasses = () =>{\n    let className = `${classes.main} `;\n    className += theme ? classes.dark : classes.dim;\n    return className;\n  }\n  return (\n    <Grid\n      className={getClasses()}\n      container\n      justify=\"center\"\n    >\n      <Grid\n        container\n        item\n        direction=\"column\"\n        justify=\"center\"\n        alignItems=\"center\"\n        wrap=\"nowrap\"\n        className=\"card-box\"\n      >\n        <Card raised={false}>\n          <CardHeader title=\"Perfil\" />\n          <Divider />\n\n          <CardContent>\n            <Typography variant=\"h3\">\n              {user.usuario}\n            </Typography>\n            <Box m={0.5}>\n              <Box display=\"flex\" justifyContent=\"center\">\n                <Avatar className={classes.avatar}>\n                  {user.nivel}\n                </Avatar>\n              </Box>\n              <Typography color=\"textSecondary\">\n                Nivel de jerarquía\n              </Typography>\n            </Box>\n            <Divider />\n            <Box m={0.5}>\n              <Typography>\n                {user.nombre} {user.apellido}\n              </Typography>\n              <Typography>Miembro desde: {user.desde}</Typography>\n            </Box>\n            <Divider />\n\n            <Box m={0.5}>\n              <Typography>\n                Espacio en el servidor: {state.parsedSize}\n              </Typography>\n              <Typography>\n                Total de archivos subidos: {state.files.length}\n              </Typography>\n            </Box>\n            <Divider />\n\n          </CardContent>\n          <CardActions>\n            <Box mx=\"auto\">\n              <Link\n                component={reactLink}\n                to=\"/configuracion\"\n                underline=\"none\"\n              >\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<SettingsIcon />}\n                >\n                  Configuración\n                </Button>\n              </Link>\n              <FormControlLabel\n                control={\n                  <Switch\n                    checked={theme}\n                    onChange={handleCheck}\n                    value=\"theme\"\n                    color={theme ? 'default' : 'primary'}\n                    inputProps={{ 'aria-label': 'primary checkbox' }}\n                  />\n                }\n                label=\"Cambiar tema\"\n              />\n            </Box>\n          </CardActions>\n        </Card>\n      </Grid>\n      {\n        !state.files.length ? \n        '' : (\n          <Grid item container xs className='card-box'>\n            <Grid item xs={12}>\n              <Card raised={false}>\n                <CardHeader title=\"Archivos Subidos\" />\n                <Divider />\n                <CardContent>\n                  <List className={classes.list} dense={true}>\n                    {files()}\n                  </List>\n                </CardContent>\n              </Card>\n            </Grid>\n            <Grid item xs={12}>\n              <Card raised={false}>\n                <CardHeader title=\"Tipos de Archivos\" />\n                <Divider />\n                <FileChartContent matches={matches} data={state.chartData} />\n              </Card>\n            </Grid>\n          </Grid>\n        )\n      }\n    </Grid>\n  );\n      //   <Box display={{ xs: 'flex', sm: 'none' }}>\n      //     <Toolbar variant=\"dense\" />\n      //   </Box>\n      // </Box>\n};\n\nconst FileChartContent = ({ data, matches }) => {\n  if (!data.length) {\n    return <div></div>;\n  }\n\n  const result = data.reduce((totalValue, ext) => totalValue + ext.value, 0); // Suma de todos los archivos\n  const COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042']; // Colores para el chart\n\n  return (\n    <CardContent>\n      <PieChart\n        width={matches ? 400 : 300}\n        height={300}\n        style={{ fontFamily: 'sans-serif' }}\n      >\n        <Pie\n          data={data}\n          cx={'50%'}\n          cy={'50%'}\n          label\n          innerRadius={'68.9656%'}\n          outerRadius={'80%'}\n          fill=\"#8884d8\"\n          paddingAngle={3}\n          dataKey=\"value\"\n          isAnimationActive={false}\n        >\n          <Label\n            value={result}\n            style={{ fontSize: '1.5rem' }}\n            offset={0}\n            position=\"center\"\n          />\n          {data.map((entry, index) => (\n            <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n          ))}\n        </Pie>\n        <Legend\n          layout={matches ? 'vertical' : 'horizontal'}\n          verticalAlign={matches ? 'middle' : 'bottom'}\n          align={matches ? 'left' : 'center'}\n        />\n      </PieChart>\n    </CardContent>\n  );\n};\n\n/** @param {file[]} arr */\nconst sort = (arr) => {\n  arr.sort(byName);\n  arr.sort(byIno);\n  return arr;\n}; //Sort\n/**\n * @param {file} a\n * @param {file} b\n */\nconst byName = (a, b) => a.name.localeCompare(b.name); //By name\n/**\n * @param {file} a\n * @param {file} b\n */\nconst byIno = (a, b) => a.ino - b.ino;\n\nexport default Profile;\n","import React from 'react';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Dialog from '@material-ui/core/Dialog';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport md5 from 'md5';\n\nconst useStyles = makeStyles((theme) => ({\n  paperMod: {\n    padding: '0px 1.5rem 1rem',\n    margin: 'auto',\n    minWidth: '340px',\n    [theme.breakpoints.down('xs')]: {\n      minWidth: '100%'\n    },\n    '& p': {\n      color: 'red',\n      '&:empty': {\n        height: '16px',\n      },\n    },\n    '& .MuiFormControl-root': {\n      height: '80px',\n    },\n  },\n}));\n\nconst initialState = {\n  touched: false,\n  touched2: false,\n  password: '',\n  password2: '',\n  error: '',\n  error2: '',\n};\n\nconst reducer = (state, action) => {\n  return { ...state, ...action };\n};\n\nconst ChangePasswordDialog = ({ user, handleClose }) => {\n  const classes = useStyles();\n  const [state, update] = React.useReducer(reducer, initialState);\n\n  if (!user) {\n    return '';\n  }\n\n  const handleChangeTrim = (e, number = '') => {\n    const error = invalidText(number, e.target.value.trim());\n    const valueToUpdate = {\n      [e.target.name]: e.target.value.trim(),\n      [`touched${number}`]: true,\n      [`error${number}`]: error,\n    };\n    if (!number) {\n      valueToUpdate.error2 = invalidText(\n        '2',\n        state.password2,\n        e.target.value.trim()\n      );\n    }\n    update(valueToUpdate);\n  };\n\n  const invalid = () => {\n    const { password, password2, error, error2 } = state;\n    return Boolean(error || error2) || !password.length || !password2.length;\n  };\n\n  const invalidText = (number, text, password1 = state.password) => {\n    const touched = state[`touched${number}`];\n    const password = text;\n    if (!touched) {\n      return '';\n    }\n\n    switch (true) {\n      case password.length < 6:\n        return 'La contraseña debe de al menos 6 caracteres';\n      case number && password1 !== password:\n        return 'La contraseñas deben coincidir';\n      default:\n        return '';\n    }\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    handleClose({\n      index: user.index,\n      password: md5(state.password),\n      userID: user.id,\n    });\n  };\n\n  return (\n    <Dialog open={true} onClose={() => handleClose()}>\n      <DialogTitle id=\"file-dialog-title\" style={{ textAlign: 'center' }}>\n        Cambiar contraseña a {user.usuario}\n      </DialogTitle>\n      <Box className={classes.paperMod}>\n        <form\n          autoComplete=\"off\"\n          className={classes.form}\n          onSubmit={handleSubmit}\n        >\n          <Grid\n            container\n            direction=\"column\"\n            justify=\"center\"\n            alignItems=\"center\"\n          >\n            <TextField\n              name=\"password\"\n              value={state.password}\n              onChange={handleChangeTrim}\n              id=\"password-input\"\n              label=\"Nueva contraseña\"\n              type=\"password\"\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              autoFocus\n              error={!!state.error}\n              helperText={state.error}\n            />\n            <TextField\n              name=\"password2\"\n              value={state.password2}\n              onChange={(e) => handleChangeTrim(e, '2')}\n              id=\"password-confirm-input\"\n              label=\"Confirmar contraseña\"\n              type=\"password\"\n              variant=\"outlined\"\n              margin=\"normal\"\n              fullWidth\n              required\n              error={!!state.error2}\n              helperText={state.error2}\n            />\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={invalid()}\n              type=\"submit\"\n            >\n              Cambiar contraseña\n            </Button>\n          </Grid>\n        </form>\n      </Box>\n    </Dialog>\n  );\n};\n\nexport default ChangePasswordDialog;\n","import Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Container from '@material-ui/core/Container';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Grid from '@material-ui/core/Grid';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Paper from '@material-ui/core/Paper';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Tab from '@material-ui/core/Tab';\nimport Tabs from '@material-ui/core/Tabs';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport EnhancedEncryptionIcon from '@material-ui/icons/EnhancedEncryption';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ChangePasswordDialog from '../Admin/Users/ChangePasswordDialog';\nimport { saduwux } from '../SF/Context';\nimport { handleFetch } from '../SF/helpers';\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    width: '100%',\n    display: 'flex',\n    alignItems:' center',\n    justifyContent: 'center',\n    '& form':{\n      padding: 20,\n      width: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-between',\n      '& .buttons-container': {\n        display: 'flex',\n        justifyContent: 'flex-end',\n        padding: 10\n      },\n    },\n    '& .MuiFormControl-root':{\n      margin: '0.5rem 0',\n    },\n    [theme.breakpoints.down('xs')]: {\n      alignItems: 'flex-start',\n      height: '100%',\n      overflow: 'auto',\n      '& .MuiContainer-root': {\n        display: 'none',\n      }\n    },\n  },\n  root: {\n    '& .MuiTab-wrapper': {\n      justifyContent: 'flex-start',\n      flexDirection: 'row',\n    },\n    flexGrow: 1,\n    height: 400,\n    display: 'flex',\n    \n  },\n  list: {\n    width: '100%',\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper,\n  },\n  tabs: {\n    borderRight: `1px solid ${theme.palette.divider}`,\n  },\n  sectionMobile: {\n    display: 'block',\n    marginTop: '1rem',\n    maxWidth: 'calc(100vw - 2rem)',\n    width: 'calc(100vw - 2rem)',\n    height: 400,\n    '& .MuiAccordionDetails-root': {\n      minHeight: 250,\n      '& #vertical-tabpanel-1': {\n        width: '100%',\n        '& > *': {\n          display: 'flex',\n          alignItems: 'center',\n          height: '100%'\n        }\n      },\n      '& #vertical-tabpanel-2': {\n        width: '100%',\n        maxWidth: '100%',\n      }\n    },\n    [theme.breakpoints.up('sm')]: {\n      display: 'none',\n    },\n  },\n}));\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst pattern = {\n  nombre: new RegExp(`^[A-Z'\\\\s]*$`, 'i'),\n  apellido: new RegExp(`^[A-Z'\\\\s]*$`, 'i'),\n  respuesta1: new RegExp(`^[A-Z'0-9\\\\s]*$`, 'i'),\n  respuesta2: new RegExp(`^[A-Z'0-9\\\\s]*$`, 'i')\n}\n\nconst ExpansionPanel = withStyles({\n  root: {\n    border: '1px solid rgba(0, 0, 0, .125)',\n    boxShadow: 'none',\n    '&:not(:last-child)': {\n      borderBottom: 0,\n    },\n    '&:before': {\n      display: 'none',\n    },\n    '&$expanded': {\n      margin: 'auto',\n    },\n  },\n  expanded: {},\n})(Accordion);\n\nconst ExpansionPanelSummary = withStyles({\n  root: {\n    backgroundColor: 'rgba(0, 0, 0, .03)',\n    borderBottom: '1px solid rgba(0, 0, 0, .125)',\n    marginBottom: -1,\n    minHeight: 56,\n    '&$expanded': {\n      minHeight: 56,\n    },\n  },\n  content: {\n    '&$expanded': {\n      margin: '12px 0',\n    },\n  },\n  expanded: {},\n})(AccordionSummary);\n\nconst ExpansionPanelDetails = withStyles((theme) => ({\n  root: {\n    padding: theme.spacing(2),\n  },\n}))(AccordionDetails);\n\nconst questions = [\n  { id: '1', pregunta: '¿Cuál es el nombre de tu mejor amigo?' },\n  { id: '2', pregunta: '¿Cuál es la ciudad donde naciste?' },\n  { id: '3', pregunta: '¿Cómo se llamaba tu primera mascota?' },\n  { id: '4', pregunta: '¿Cuál es tu color favorito?' },\n  { id: '5', pregunta: '¿Cuál es el segundo nombre de tu madre?' },\n];\n\nconst TabPanel = ({ children, value, index, ...other }) => {\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={!other & (value !== index)}\n      id={`vertical-tabpanel-${index}`}\n      aria-labelledby={`vertical-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box>{children}</Box>}\n    </Typography>\n  );\n};\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nconst initialState = {\n  open: false,\n  value: 0,\n  message: '',\n  nombre: '',\n  apellido: '',\n  changePassword: false,\n  pregunta1: 1,\n  pregunta2: 2,\n  respuesta1: '',\n  respuesta2: '',\n  isLoading: false\n};\n\nconst userReducer = (state, payload) => {\n  return { ...state, ...payload };\n};\n\nconst ProfileSettings = () => {\n  const classes = useStyles();\n  const { state: { user }, dispatch } = React.useContext(saduwux)\n\n  const [state, update] = React.useReducer(userReducer, {\n    ...initialState,\n    pregunta1: user.pregunta1,\n    pregunta2: user.pregunta2,\n  });\n\n  const tapProps = (index) => {\n    return {\n      id: `vertical-tab-${index}`,\n      'aria-controls': `vertical-tabpanel-${index}`,\n    };\n  };\n\n  const getPartialInfo = (tab) => {\n    switch (tab) {\n      case 0: {\n        return JSON.stringify({\n          nombre: state.nombre,\n          apellido: state.apellido,\n        });\n      }\n      case 2: {\n        return JSON.stringify({\n          pregunta1: state.pregunta1,\n          pregunta2: state.pregunta2,\n          respuesta1: state.respuesta1,\n          respuesta2: state.respuesta2,\n        });\n      }\n\n      default: {\n        return '';\n      }\n    }\n  };\n\n  const invalid = () => {\n    switch(state.value) {\n      case 2: {\n        const { pregunta1, pregunta2, respuesta1, respuesta2 } = state;\n        return respuesta1.trim().length < 3\n          || respuesta2.trim().length < 3\n          || pregunta1 === pregunta2;\n      }\n      case 0: {\n        return state.nombre.trim().length < 2 || state.apellido.trim().length < 2;\n      }\n      default: return true;\n    }\n  }\n\n  const handleUpdate = (e) => {\n    e.preventDefault();\n    if (invalid() || state.value === 1) {\n      // alert('Marico las contraseñas no coinciden');\n      return;\n    }\n    update({isLoading: true});\n    const headers = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n      body: getPartialInfo(state.value)\n    };\n    fetch(`/api/users/${user.id}`, headers)\n      .then(handleFetch)\n      .then((res) => {\n        localStorage.setItem('token', 'bearer ' + res.token);\n        dispatch({\n          type: 'update',\n          payload: {\n            user: res.user\n          }\n        });\n        update({\n          ...initialState,\n          value: state.value,\n          pregunta1: res.user.pregunta1,\n          pregunta2: res.user.pregunta2,\n          open: true,\n          isLoading: false,\n          severity: 'success',\n          message: 'Cambios guardados satisfactoriamente!',\n        });\n      })\n      .catch((mistake) => {\n        update({\n          open: true,\n          message: mistake.message,\n          severity: 'success',\n          isLoading: false\n        });\n      });\n  };\n\n  const handleChange = (event) => {\n    const {target} = event;\n    if(!pattern[target.name] || target.value.trim().match(pattern[target.name])) {\n      update({[target.name] : target.value})\n    }\n  }\n  const handleChangePassword = (data)  => {\n    if (!data) {\n      update({ changePassword: null });\n      return;\n    }\n    update({ isLoading: true, changePassword: null });\n    const headers = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n      body: JSON.stringify({ password: data.password }),\n    };\n\n    fetch(`/api/users/${data.userID}`, headers)\n      .then(handleFetch)\n      .then(() => {\n        update({\n          isLoading: false,\n          open: true,\n          message: 'Contraseña cambiada',\n          severity: 'success'\n        });\n      })\n      .catch((err) => {\n        update({\n          isLoading: false,\n          open: true,\n          message: err.message,\n          severity: 'error'\n        });\n      });\n  };\n  const setChangePassword = ()  => {\n    update({ changePassword:  user})\n  }\n\n  const mapPreguntas = questions.map((P, index) => {\n    return (\n      <MenuItem key={index} value={P.id}>\n        {' '}\n        {P.pregunta}{' '}\n      </MenuItem>\n    );\n  });\n\n  const handleTapChange = (event, value) => {\n    update({ value })\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    update({ open: false });\n  };\n\n  const getTap = (index) => {\n    switch(index) {\n      case 2: {\n        return (\n          <Grid container>\n            <Grid item xs={12}>\n              <TextField\n                select\n                onChange={handleChange}\n                value={state.pregunta1}\n                name=\"pregunta1\"\n                required\n                label=\"Primera pregunta\"\n                variant=\"outlined\"\n                fullWidth\n                margin=\"normal\"\n              >\n                { mapPreguntas }\n              </TextField>\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                onChange={handleChange}\n                value={state.respuesta1}\n                name=\"respuesta1\"\n                required\n                label=\"Respuesta \"\n                variant=\"outlined\"\n                fullWidth\n                margin=\"normal\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                select\n                onChange={handleChange}\n                value={state.pregunta2}\n                name=\"pregunta2\"\n                required\n                label=\"Segunda pregunta\"\n                variant=\"outlined\"\n                fullWidth\n                margin=\"normal\"\n              >\n                {mapPreguntas}\n              </TextField>\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                onChange={handleChange}\n                value={state.respuesta2}\n                name=\"respuesta2\"\n                required\n                label=\"Respuesta \"\n                variant=\"outlined\"\n                fullWidth\n                margin=\"normal\"\n              />\n            </Grid>\n          </Grid>\n        );\n      }\n      case 1: {\n        return (\n          <Grid\n            container\n            direction=\"row\"\n            align=\"center\"\n            justify=\"center\"\n          >\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              type=\"button\"\n              onClick={setChangePassword}\n              startIcon={<EnhancedEncryptionIcon />}\n            >\n              Cambiar contraseña\n            </Button>\n          </Grid>\n        );\n      }\n      default: {\n        return (\n          <Grid container>\n            <Grid item xs={12}>\n              <TextField\n                onChange={(e) => handleChange(e)}\n                value={state.nombre}\n                required\n                name=\"nombre\"\n                label={`Nombre (${user.nombre})`}\n                variant=\"outlined\"\n                fullWidth\n                helperText=\"El nombre debe contener al menos 2 catacteres\"\n                margin=\"normal\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                onChange={(e) => handleChange(e)}\n                value={state.apellido}\n                name=\"apellido\"\n                required\n                label={`Apellido (${user.apellido})`}\n                helperText=\"El apellido debe contener al menos 2 catacteres\"\n                variant=\"outlined\"\n                fullWidth\n                margin=\"normal\"\n              />\n            </Grid>\n          </Grid>\n        );\n      }\n    }\n  }\n\n  const content = (\n    <React.Fragment>\n      {[0,1,2].map(index => (\n        <TabPanel key={`panel-${index}`} value={state.value} index={index}>\n          {getTap(index)}\n        </TabPanel>\n      ))}\n    </React.Fragment>\n  );\n\n  const getClasses = () =>{\n    let className = classes.main;\n    return className;\n  }\n\n  return (\n    <Box\n      component=\"main\"\n      className={getClasses()}\n    >\n      <Container maxWidth=\"md\">\n        <Paper className={classes.root}>\n          <Tabs\n            orientation=\"vertical\"\n            variant=\"fullWidth\"\n            value={state.value}\n            indicatorColor=\"primary\"\n            onChange={handleTapChange}\n            aria-label=\"Configuracion de perfil\"\n            className={classes.tabs}\n          >\n            <Tab label=\"Perfil\" {...tapProps(0)} />\n            <Tab label=\"Contraseña\" {...tapProps(1)} />\n            <Tab label=\"Preguntas Secretas\" {...tapProps(2)} />\n          </Tabs>\n          <form\n            autoComplete=\"off\"\n            onSubmit={handleUpdate}\n          >\n            {content}\n            {\n              state.value !== 1 && (\n                <Box className=\"buttons-container\">\n                  <Button\n                    disabled={invalid()}\n                    variant=\"contained\"\n                    color=\"primary\"\n                    type=\"submit\"\n                    className={classes.button}\n                  >\n                    {' '}\n                    Guardar\n                  </Button>\n                </Box>\n              )\n            }\n          </form>\n        </Paper>\n      </Container>\n      \n      <Box className={classes.sectionMobile}>\n        <ExpansionPanel\n          square\n          id=\"panel2\"\n          expanded={!state.value}\n          onChange={() => handleTapChange('', 0)}\n        >\n          <ExpansionPanelSummary \n            expandIcon={<ExpandMoreIcon />}\n            id=\"p1d-header\"\n          >\n            <Typography className={classes.heading}>\n              Perfil\n            </Typography>\n          </ExpansionPanelSummary>\n          <ExpansionPanelDetails>\n            <form\n              onSubmit={handleUpdate}\n            >\n              { getTap(0) }\n              \n              <Button\n                disabled={state.nombre.length <= 1 && state.apellido.length <= 1}\n                variant=\"contained\"\n                color=\"primary\"\n                type=\"submit\"\n                className={classes.button}\n              >\n                {' '}\n                Guardar\n              </Button>\n            \n            </form>\n          </ExpansionPanelDetails>\n        </ExpansionPanel>\n\n        <ExpansionPanel\n          square\n          id=\"panel2\"\n          expanded={state.value === 1}\n          onChange={() => handleTapChange('', 1)}\n        >\n          <ExpansionPanelSummary\n            expandIcon={<ExpandMoreIcon />}\n            id=\"p2d-header\"\n          >\n            <Typography className={classes.heading}>\n              Contraseña\n            </Typography>\n          </ExpansionPanelSummary>\n          <ExpansionPanelDetails>\n            { getTap(1) }\n          </ExpansionPanelDetails>\n        </ExpansionPanel>\n\n        <ExpansionPanel\n          square\n          id=\"panel3\"\n          expanded={state.value === 2}\n          onChange={() => handleTapChange('', 2)}\n        >\n          <ExpansionPanelSummary\n            expandIcon={<ExpandMoreIcon />}\n            id=\"p1d-header\"\n          >\n            <Typography className={classes.heading}>\n              Preguntas secretas\n            </Typography>\n          </ExpansionPanelSummary>\n          <ExpansionPanelDetails>\n            <form\n              onSubmit={handleUpdate}\n            >\n              { getTap(2) }\n              <Button\n                disabled={state.respuesta1.length < 2 && state.respuesta2.length < 2}\n                variant=\"contained\"\n                color=\"primary\"\n                type=\"submit\"\n                className={classes.button}\n              >\n                {' '}\n                Guardar\n              </Button>\n            </form>\n          </ExpansionPanelDetails>\n        </ExpansionPanel>\n      </Box>\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'right',\n        }}\n        open={state.open}\n        autoHideDuration={2000}\n        onClose={handleClose}\n      >\n        <Alert onClose={handleClose} severity={state.severity || \"success\"}>\n          {state.message}\n        </Alert>\n      </Snackbar>\n      <ChangePasswordDialog\n        user={state.changePassword}\n        handleClose={handleChangePassword}\n      />\n    </Box>\n  );\n};\n\nexport default ProfileSettings;\n\n// <Box display={{ xs: 'block', sm: 'none' }}>\n//   <Toolbar variant=\"dense\" />\n// </Box>","import { Snackbar } from '@material-ui/core';\nimport Card from '@material-ui/core/Card';\nimport Box from '@material-ui/core/Box';\nimport md5 from 'md5';\nimport Grid from '@material-ui/core/Grid';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Link from '@material-ui/core/Link';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Step from '@material-ui/core/Step';\nimport Divider from '@material-ui/core/Divider';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Stepper from '@material-ui/core/Stepper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloudIcon from '@material-ui/icons/Cloud';\nimport React, { useReducer } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { handleFetch, structuteChecker, reactLink } from '../SF/helpers';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport backgroundimg1 from '../SF/Media/background_study_by_hibelton_dc28kuo-fullview.jpg';\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    gridColumnStart: '1',\n    gridColumnEnd: '3',\n    gridRowStart: '1',\n    gridRowEnd: '3',\n    display: 'flex',\n    placeContent: 'center',\n    alignItems: 'center',\n    backgroundImage: `url(${backgroundimg1})`,\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? '#cecece' : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n\n    '& .MuiIconButton-root': {\n      padding: 0,\n    },\n    '& .MuiFormControl-root':{\n      margin: '0.5rem',\n    },\n    '& .MuiGrid-container': {\n      width: '550px',\n    },\n    '& .MuiGrid-item': {\n      padding: '0.5rem',\n    },\n    '& .MuiFormHelperText-root': {\n      margin: '0',\n    },\n    '& .forgot': {\n      width: '100%',\n      textAlign: 'center',\n      color: 'rgba(0,0,0,0.7)',\n      marginTop: '0.5rem',\n      display: 'inline-block'\n    },\n    [theme.breakpoints.down('xs')]: {\n      gridColumnStart: '1',\n      gridColumnEnd: '2',\n      gridRowStart: '1',\n      gridRowEnd: '4',\n      '& .MuiCard-root': {\n        maxWidth: 'calc(100vw - 10px)',\n        padding: '1rem'\n      },\n      '& .MuiGrid-container': {\n        width: '275px',\n      },\n      '& .MuiFormControl-root':{\n        margin: '0.5rem 0px',\n      },\n      '& .MuiCardContent-root': {\n        padding: 0\n      }\n    },\n  },\n  instructions: {\n    width: '275px'\n  },\n  form: {\n    margin: '0',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  box: {\n    padding: '1rem 3rem',\n    backgroundColor: '#fff',\n    borderRadius: '1rem',\n    maxWidth: '100%',\n  },\n  bottonContainer: {\n    marginTop: '1rem',\n    display: 'flex',\n    placeContent: 'space-between',\n\n    '& button': {\n      padding: '0.5rem 1rem',\n      fontWeight: '600',\n\n      '&.MuiButton-containedPrimary': {\n        color: '#fff',\n      },\n      '&.Mui-disabled': {\n        color: 'rgba(0, 0, 0, 0.26)',\n      },\n    },\n  },\n}));\n\nconst pattern = {\n  user: new RegExp('^[A-Z0-9]*$', 'i'),\n  nombre: new RegExp(`^[A-Z'\\\\s]*$`, 'i'),\n  apellido: new RegExp(`^[A-Z'\\\\s]*$`, 'i'),\n  respuesta1: new RegExp(`^[A-Z'0-9\\\\s]*$`, 'i'),\n  respuesta2: new RegExp(`^[A-Z'0-9\\\\s]*$`, 'i')\n}\n\nconst Alert = (props) => {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n};\n\nconst initialState = {\n  open: false,\n  message: '',\n  activeStep: 0,\n  nombre: '',\n  apellido: '',\n  user: '',\n  userExist: false,\n  password: '',\n  password2: '',\n  pregunta1: 1,\n  pregunta2: 2,\n  respuesta1: '',\n  respuesta2: '',\n  questions: [],\n  touched: false,\n  isLoading: false,\n  severity: 'success'\n};\n\nconst reducer = (state, action) => {\n  if (action) {\n    return { ...state, ...action };\n  }\n\n  switch (state.activeStep) {\n    case 3: {\n      return {\n        ...state,\n        user: '',\n        userExist: false,\n        touched: true,\n        activeStep: 2,\n      };\n    }\n    case 2: {\n      return {\n        ...state,\n        pregunta1: 1,\n        pregunta2: 2,\n        respuesta1: '',\n        respuesta2: '',\n        touched: true,\n        activeStep: 1,\n      };\n    }\n    case 1: {\n      return {\n        ...state,\n        touched: true,\n        nombre: '',\n        apellido: '',\n        password: '',\n        password2: '',\n        activeStep: 0,\n      };\n    }\n    default:\n      return initialState;\n  }\n};\nconst Register = () => {\n  let history = useHistory();\n  const classes = useStyles();\n\n  const [state, update] = useReducer(reducer, initialState);\n\n  const invalid = () => {\n    if (!state.touched || state.isLoading) {\n      return true;\n    }\n    switch (state.activeStep) {\n      case 0: {\n        const { nombre, apellido, password, password2 } = state;\n        return nombre.trim().length < 2\n          || apellido.trim().length < 2\n          || password.length < 6\n          || password !== password2;\n      }\n      case 1: {\n        const { pregunta1, pregunta2, respuesta1, respuesta2 } = state;\n        return respuesta1.trim().length < 3\n          || respuesta2.trim().length < 3\n          || pregunta1 === pregunta2;\n      }\n      case 2: {\n        const { user } = state;\n        return (user.length < 6);\n      }\n      default:\n        break;\n    }\n  };\n\n  const questions = [\n    { id: '1', pregunta: 'Cuál es el nombre de tu mejor amigo?' },\n    { id: '2', pregunta: 'Cuál es la ciudad donde naciste?' },\n    { id: '3', pregunta: 'Cómo se llamaba tu primera mascota?' },\n    { id: '4', pregunta: 'Cuál es tu color favorito?' },\n    { id: '5', pregunta: 'Cuál es el segundo nombre de tu madre?' },\n  ];\n\n  const handleRegister = () => {\n    const keys = [\n      { name: 'nombre', required: true, type: 'string', length: 2 },\n      { name: 'apellido', required: true, type: 'string', length: 2 },\n      { name: 'password', required: true, type: 'string', length: 6 },\n      { name: 'user', required: true, type: 'string', length: 6 },\n      { name: 'pregunta1', required: true, type: 'number' },\n      { name: 'pregunta2', required: true, type: 'number' },\n      { name: 'respuesta1', required: true, type: 'string', length: 3 },\n      { name: 'respuesta2', required: true, type: 'string', length: 3 },\n    ];\n\n    if (!structuteChecker(state, keys)) {\n      return;\n    }\n\n    update({ isLoading: true });\n\n    fetch('/api/users', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        nombre: state.nombre.trim(),\n        apellido: state.apellido.trim(),\n        password: md5(state.password.replace(/\\s+/g, '')),\n        usuario: state.user.replace(/\\s+/g, ''),\n        pregunta1: state.pregunta1,\n        pregunta2: state.pregunta2,\n        respuesta1: state.respuesta1.trim(),\n        respuesta2: state.respuesta2.trim(),\n      }),\n    })\n      .then(handleFetch)\n      .then((data) => {\n        update({\n          open: true,\n          message: data.message,\n          severity: 'success'\n        });\n        setTimeout(() => {\n          history.push('/login');\n        }, 1500);\n      })\n      .catch((err) => {\n        update({\n          activeStep: 2,\n          open: true,\n          userExist: err.code === 6,\n          severity: 'error',\n          message: err.message,\n          isLoading: false,\n          touched: false\n        });\n      });\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    update({ open: false });\n  };\n\n  const steps = [\n    'Nombres y Contraseña',\n    'Preguntas Secretas',\n    'Nombre de usuario',\n  ];\n  const handleNext = (e) => {\n    e.preventDefault();\n    if (invalid()) {\n      return;\n    }\n    if (state.activeStep === 2) {\n      handleRegister()\n      return;\n    }\n    update({\n      activeStep: state.activeStep + 1\n    });\n  }\n  const handleBack = () => update();\n\n  const handleChange = (event) => {\n    const { target } = event; \n    if(!pattern[target.name] || target.value.trim().match(pattern[target.name])) {\n      update({\n        [target.name]: target.value,\n        touched: true\n      });\n    }\n  };\n  const handleChangeTrim = ({ target }) => {\n    if(!pattern[target.name] || target.value.trim().match(pattern[target.name])) {\n      update({\n        [target.name]: target.value.replace(/\\s+/g, ''),\n        userExist: target.name === 'user' ? false : state.userExist,\n        touched: true\n      });\n    }\n\n  }\n  const mapPreguntas = questions.map((item) => {\n    return (\n      <MenuItem key={item.id} value={item.id}>\n        {' '}\n        {item.pregunta}{' '}\n      </MenuItem>\n    );\n  });\n\n  const getStepContent = (step) => {\n    switch (step) {\n      case 0: {\n        return (\n          <Grid container >\n            <Grid item xs={12} sm={6}>\n              <TextField\n                required\n                onChange={handleChange}\n                name=\"nombre\"\n                value={state.nombre}\n                id=\"nombre\"\n                label=\"Nombre\"\n                variant=\"outlined\"\n                helperText=\"El nombre debe contener al menos 2 catacteres\"\n                fullWidth\n              />\n              <TextField\n                required\n                onChange={handleChange}\n                name=\"apellido\"\n                value={state.apellido}\n                id=\"apellido\"\n                label=\"Apellido\"\n                variant=\"outlined\"\n                helperText=\"El apellido debe contener al menos 2 catacteres\"\n                fullWidth\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                required\n                onChange={handleChangeTrim}\n                name=\"password\"\n                value={state.password}\n                type=\"password\"\n                id=\"password\"\n                label=\"Contraseña\"\n                variant=\"outlined\"\n                helperText=\"La contraseña debe contener al menos 6 catacteres\"\n                fullWidth\n              />\n              <TextField\n                required\n                onChange={handleChangeTrim}\n                name=\"password2\"\n                value={state.password2}\n                type=\"password\"\n                id=\"password2\"\n                label=\"Confirmar contraseña\"\n                variant=\"outlined\"\n                fullWidth\n                error={\n                  state.password2.length > 2 &&\n                  state.password !== state.password2}\n                helperText={\n                  state.password2.length > 2 &&\n                  state.password !== state.password2\n                    ? 'Las contraseñas no coinciden'\n                    : ' '\n                }\n              />\n            </Grid>\n          </Grid>\n        );\n      }\n      case 1:\n        return (\n          <Grid container>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                required\n                id=\"outlined-select-currency\"\n                select\n                onChange={handleChange}\n                name=\"pregunta1\"\n                helperText={\n                  state.pregunta1 === state.pregunta2\n                    ? 'Las preguntas no pueden ser iguales'\n                    : ''\n                }\n                error={state.pregunta1 === state.pregunta2}\n                value={state.pregunta1}\n                label=\"Primera pregunta\"\n                variant=\"outlined\"\n                fullWidth\n              >\n                {mapPreguntas}\n              </TextField>\n              <TextField\n                required\n                onChange={handleChange}\n                name=\"respuesta1\"\n                value={state.respuesta1}\n                id=\"outlined-basic\"\n                label=\"Respuesta\"\n                variant=\"outlined\"\n                fullWidth\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                required\n                id=\"outlined-select-currency\"\n                select\n                label=\"Segunda pregunta\"\n                onChange={handleChange}\n                name=\"pregunta2\"\n                helperText={\n                  state.pregunta1 === state.pregunta2\n                    ? 'Las preguntas no pueden ser iguales'\n                    : ''\n                }\n                error={state.pregunta1 === state.pregunta2}\n                value={state.pregunta2}\n                variant=\"outlined\"\n                fullWidth\n              >\n                {mapPreguntas}\n              </TextField>\n              <TextField\n                required\n                onChange={handleChange}\n                name=\"respuesta2\"\n                value={state.respuesta2}\n                id=\"outlined-basic\"\n                label=\"Respuesta\"\n                variant=\"outlined\"\n                fullWidth\n              />\n            </Grid>\n          </Grid>\n        );\n      case 2:\n        return (\n          <Box className={classes.instructions}>\n            <TextField\n              onChange={handleChangeTrim}\n              name=\"user\"\n              disabled={state.isLoading}\n              value={state.user}\n              helperText={\n                state.userExist ? \n                'El nombre de usuario ya existe' :\n                'Tu usuario debe contener al menos 6 catacteres'\n              }\n              error={state.userExist}\n              id=\"outlined-basic\"\n              label=\"Nombre de usuario\"\n              variant=\"outlined\"\n              fullWidth\n            />\n          </Box>\n        );\n      default:\n        return 'Paso no existente';\n    }\n  };\n  return (\n    <Box className={classes.main} component=\"main\">\n      <Card className={classes.box}>\n      <CardContent>\n          <Box\n            display=\"flex\"\n            flexDirection=\"column\"\n            alignItems=\"center\"\n          >\n            <Link to=\"/\" component={reactLink}>\n              <IconButton>\n                <CloudIcon color=\"primary\" style={{ fontSize: '4rem' }} />\n              </IconButton>\n            </Link>\n            <Typography color=\"secondary\" component=\"h2\" variant=\"h4\">\n              Cloudster\n            </Typography>\n            <Typography component=\"h6\" variant=\"h6\">\n              Recuperar contraseña\n            </Typography>\n          </Box>\n          <Stepper\n            activeStep={state.activeStep}\n            style={{ padding: '0px 0px 24px' }}\n            alternativeLabel\n          >\n            {steps.map((label) => (\n              <Step key={label}>\n                <StepLabel>{label}</StepLabel>\n              </Step>\n            ))}\n          </Stepper>\n          <Divider/>\n          <form\n            autoComplete=\"off\"\n            className={classes.form}\n            onSubmit={handleNext}\n          >\n\n            <Box>\n              {getStepContent(state.activeStep)}\n            </Box>\n\n            <Box width={1} className={classes.bottonContainer}>\n              <Button\n                disabled={!state.activeStep || state.isLoading}\n                onClick={handleBack}\n                className={classes.button}\n                type=\"button\"\n                variant=\"outlined\"\n              >\n                Volver\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                disabled={invalid()}\n                type=\"submit\"\n              >\n                {state.activeStep === steps.length - 1\n                  ? 'Aceptar'\n                  : 'Siguiente'}\n              </Button>\n            </Box>\n            <Link\n              component={reactLink}\n              to=\"/login\"\n              className=\"forgot\"\n            >\n              ¿Ya tienes cuenta? ¡Inicia Sesión!\n            </Link>\n          </form>\n        </CardContent>\n      </Card>\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        open={state.open}\n        autoHideDuration={6000}\n        onClose={handleClose}\n      >\n        <Alert onClose={handleClose} severity={state.severity}>\n          {state.message}\n        </Alert>\n      </Snackbar>\n    </Box>\n  );\n};\n\nexport default Register;\n","//import { makeStyles, Box, Paper, Typography } from '@material-ui/core';\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport React, { useContext } from 'react';\nimport Iframe from 'react-iframe';\nimport { saduwux } from '../SF/Context';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(3, 2),\n  },\n  hiden: {\n    display: 'none',\n  },\n  toolbar: theme.mixins.toolbar,\n}));\nconst route = window.location.origin;\n\nconst Reproductor = () => {\n  const classes = useStyles();\n  const {\n    state: { playing },\n  } = useContext(saduwux);\n\n  if (playing) {\n    const token = localStorage.getItem('token') && localStorage.getItem('token').replace(/[Bb]earer /, '');\n    return (\n      <Box width={1} className='min-h100'>\n        <div className=\"flex-column min-h100\">\n          <div style={{ flexGrow: '1', overflow: 'auto', width: '100%' }}>\n            <Iframe\n              url={`${route}/api/files/${playing}/watch?token=${token}`}\n              height=\"100%\"\n              width=\"100%\"\n              allow=\"fullscreen\"\n              frameBorder=\"0\"\n            />\n          </div>\n        </div>\n      </Box>\n    );\n  } \n  return (\n    <Box\n      textAlign=\"center\"\n      bgcolor=\"bg.main\"\n      display=\"flex\"\n      width={1}\n      className='min-h100'\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      <Paper className={classes.root}>\n        <Typography variant=\"h5\" component=\"h3\">\n          Aún no hay nada para visualizar!\n        </Typography>\n        <Typography component=\"p\">\n          Te invitamos a seleccionar un archivo en la sección de búsqueda.\n        </Typography>\n      </Paper>\n    </Box>\n  );\n};\n\nexport default Reproductor;\n","import Box from '@material-ui/core/Box';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SvgIcon from '@material-ui/core/SvgIcon/SvgIcon';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport PlayCircleFilledIcon from '@material-ui/icons/PlayCircleFilled';\nimport BuildIcon from '@material-ui/icons/Build';\nimport React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { saduwux } from '../SF/Context';\nimport { reactLink } from '../SF/helpers';\nimport green from '@material-ui/core/colors/green';\n\nconst routes = [`/busqueda`, `/reproductor`, `/perfil`, `/admin`];\nconst routesComponents = [\n  FolderIcon,\n  PlayCircleFilledIcon,\n  AccountCircleIcon,\n  BuildIcon,\n];\n\nconst useStyles = makeStyles((theme) => ({\n  aside: {\n    '& .MuiDrawer-root': {\n      flexShrink: 0,\n    },\n    '& .flex': {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-between',\n      width: '100%',\n    },\n    '& .Mui-selected': {\n      backgroundColor: 'rgba(0,0,0,0.1)',\n      borderLeft: '2px solid ' + green[500],\n    },\n    '& .MuiListItemIcon-root': { minWidth: '0' },\n    '& .MuiListItem-gutters': {\n      paddingLeft: 8,\n      paddingRight: 8,\n    },\n    '& .hide-on-big': {\n      display: 'none',\n    },\n    [theme.breakpoints.down('xs')]: {\n      gridRowStart: 3,\n      '& .flex': {\n        flexDirection: 'row',\n      },\n      '& .MuiListItem-gutters': {\n        padding: '0px',\n      },\n      '& .MuiList-root': {\n        display: 'flex',\n        padding: '0px',\n        width: '100%',\n      },\n      '& .Mui-selected': {\n        border: 'none',\n        borderBottom: '2px solid ' + green[500],\n      },\n      '& .MuiButtonBase-root': {\n        justifyContent: 'center',\n        alignItems: 'center',\n      },\n      '& .hide-on-small': {\n        display: 'none',\n      },\n      '& .hide-on-big': {\n        display: 'flex',\n      },\n    },\n  },\n  dark: {\n    '& .MuiListItemIcon-root': { color: 'white' },\n    '& .MuiDrawer-paper': { backgroundColor: '#252525' },\n  },\n}));\n\nconst Sidebar = () => {\n  const classes = useStyles();\n  const location = useLocation();\n\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\n  const { state: globalState, dispatch } = React.useContext(saduwux);\n\n  React.useEffect(() => {\n    const [, url] = location.pathname.split('/');\n    const x = routes.indexOf(`/${url}`);\n    setSelectedIndex(x);\n  }, [location.pathname]);\n\n  const signout = () => {\n    localStorage.clear();\n    dispatch({ type: 'reset' });\n  };\n\n  const listItems = () =>\n    routes.reduce((prev, route, index) => {\n      if (index === 3 && globalState.user.nivel < 5) return prev;\n      const fragment = (\n        <React.Fragment key={index}>\n          <ListItem\n            button\n            component={reactLink}\n            to={route}\n            selected={selectedIndex === index}\n          >\n            <ListItemIcon>\n              <SvgIcon fontSize=\"large\" component={routesComponents[index]} />\n            </ListItemIcon>\n          </ListItem>\n          <Divider className=\"hide-on-small\" />\n        </React.Fragment>\n      );\n      prev.push(fragment);\n      return prev;\n    }, []);\n\n  const getClass = () => {\n    let className = `${classes.aside} `;\n    className += globalState.theme ? classes.dark : '';\n    return className;\n  };\n  return (\n    <Box component=\"aside\" className={getClass()}>\n      <Drawer\n        className={`min-h100`}\n        color=\"primary.main\"\n        variant=\"permanent\"\n        classes={{\n          paper: `flex position-static`,\n        }}\n      >\n        <List>\n          {listItems()}\n          <ListItem\n            className=\"hide-on-big\"\n            button\n            component={reactLink}\n            to=\"/\"\n            onClick={signout}\n          >\n            <ListItemIcon>\n              <ExitToAppIcon fontSize=\"large\" />\n            </ListItemIcon>\n          </ListItem>\n        </List>\n\n        <List className=\"hide-on-small\">\n          <ListItem button component={reactLink} to=\"/\" onClick={signout}>\n            <ListItemIcon>\n              <ExitToAppIcon fontSize=\"large\" />\n            </ListItemIcon>\n          </ListItem>\n        </List>\n      </Drawer>\n    </Box>\n  );\n};\n\nexport default Sidebar;\n","import AppBar from '@material-ui/core/AppBar';\nimport Box from '@material-ui/core/Box';\nimport IconButton from '@material-ui/core/IconButton';\nimport InputBase from '@material-ui/core/InputBase';\nimport Link from '@material-ui/core/Link';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport FilterDramaIcon from '@material-ui/icons/FilterDrama';\nimport MenuOpenIcon from '@material-ui/icons/MenuOpen';\nimport SearchIcon from '@material-ui/icons/Search';\nimport React, { useContext } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { saduwux } from '../SF/Context';\nimport { reactLink } from '../SF/helpers';\n\nconst useStyles = makeStyles((theme) => ({\n  grow: { flexGrow: 1 },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    position: 'static',\n    gridColumnStart: 1,\n    gridColumnEnd: 3,\n    [theme.breakpoints.down('xs')]: {\n      gridColumnStart: 1,\n      gridColumnEnd: 2,\n    },\n  },\n  menuButton: { marginRight: theme.spacing(2) },\n  inputRoot: { color: 'inherit' },\n  icon: {\n    margin: 0,\n    [theme.breakpoints.down('xs')]: { marginRight: theme.spacing(2) },\n  },\n  title: {\n    display: 'none',\n    [theme.breakpoints.up('sm')]: { display: 'block' },\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': { backgroundColor: fade(theme.palette.common.white, 0.25) },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(3),\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    width: theme.spacing(7),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 7),\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('md')]: { width: 200 },\n  },\n  sectionDesktop: {\n    display: 'none',\n    [theme.breakpoints.up('md')]: { display: 'flex' },\n  },\n}));\n\nconst routes = [`busqueda`, `admin`];\n\nconst TopBar = () => {\n  const classes = useStyles();\n  const location = useLocation();\n  const matches = useMediaQuery((theme) => theme.breakpoints.down('xs'));\n\n  const {\n    state: {\n      search,\n      user: { usuario, nivel },\n    },\n    dispatch,\n  } = useContext(saduwux);\n\n  const searchBar = () => {\n    if (!routes.some((route) => location.pathname.includes(route))) {\n      return '';\n    }\n    return (\n      <div className={classes.search}>\n        <div className={classes.searchIcon}>\n          <SearchIcon />\n        </div>\n        <InputBase\n          placeholder=\"Buscar...\"\n          classes={{\n            root: classes.inputRoot,\n            input: classes.inputInput,\n          }}\n          inputProps={{ 'aria-label': 'search' }}\n          value={search}\n          onChange={(e) =>\n            dispatch({ type: 'update', payload: { search: e.target.value } })\n          }\n        />\n      </div>\n    );\n  };\n\n  const menuOpen = () => {\n    if (nivel !== 5 || !location.pathname.includes('admin') || !matches) {\n      return '';\n    }\n    return (\n      <IconButton\n        aria-label=\"delete\"\n        onClick={() =>\n          dispatch({\n            type: 'update',\n            payload: {\n              mobileOpen: true,\n            },\n          })\n        }\n      >\n        <MenuOpenIcon />\n      </IconButton>\n    );\n  };\n\n  return (\n    <AppBar className={classes.appBar}>\n      <Toolbar>\n        <FilterDramaIcon className={classes.icon} />\n        <Typography className={classes.title} variant=\"h5\">\n          Cloudster\n        </Typography>\n        {searchBar()}\n        <div className={classes.grow} />\n        <Link\n          component={reactLink}\n          to=\"/Perfil\"\n          color=\"inherit\"\n          underline=\"none\"\n        >\n          <Box display={{ xs: 'none', sm: 'flex' }}>\n            <AccountCircle />\n            <Typography>{usuario}</Typography>\n          </Box>\n        </Link>\n        {menuOpen()}\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default TopBar;\n","import React from 'react';\n//import { makeStyles, Box, Paper, Typography } from '@material-ui/core';\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport backgroundimg1 from '../SF/Media/background_study_by_hibelton_dc28kuo-fullview.jpg';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    gridColumnStart: '1',\n    gridColumnEnd: '3',\n    gridRowStart: '1',\n    gridRowEnd: '3',\n    backgroundImage: `url(${backgroundimg1})`,\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    [theme.breakpoints.down('xs')]: {\n      gridColumnStart: '1',\n      gridColumnEnd: '2',\n      gridRowStart: '1',\n      gridRowEnd: '4',\n      \n    },\n    '& .MuiPaper-root': {\n      padding: theme.spacing(3, 2)\n    }\n  },\n}));\n\nconst NotFound = () => {\n  const classes = useStyles();\n\n  return (\n    <Box\n      textAlign=\"center\"\n      display=\"flex\"\n      width={1}\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      className={classes.root}\n    >\n      <Paper>\n        <Typography variant=\"h5\" component=\"h3\">\n          Lo sentimos!\n        </Typography>\n        <Typography component=\"p\">\n          La página que estás buscando no existe.\n        </Typography>\n      </Paper>\n    </Box>\n  );\n};\n\nexport default NotFound;\n","import Card from '@material-ui/core/Card';\nimport Box from '@material-ui/core/Box';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Divider from '@material-ui/core/Divider';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport React from 'react';\nimport {\n  Label,\n  Cell,\n  Legend,\n  Pie,\n  PieChart,\n  ResponsiveContainer,\n} from 'recharts';\nimport { handleFetch } from '../SF/helpers';\nimport CloudQueueIcon from '@material-ui/icons/CloudQueue';\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    height: '100%',\n    '& .card-box': {\n      minWidth: 300,\n      maxWidth: 480,\n      width: '100%',\n      padding: '0 10px',\n      '& .MuiSvgIcon-root': {\n        fontSize: 200,\n        width: '100%',\n      },\n      '& .MuiCardHeader-root': {\n        textAlign: 'center',\n      },\n      '& .MuiCard-root': {\n        minWidth: 300,\n        maxWidth: 480,\n        margin: '1rem',\n        width: '100%',\n        height: 'min-content',\n        [theme.breakpoints.down('sm')]: {\n          maxWidth: 'calc(100vw - 1rem)',\n        },\n        '& .MuiCardContent-root:last-child': {\n          paddingBottom: 16,\n        },\n      },\n      '& .center': {\n        display: 'flex',\n        justifyContent: 'center',\n      },\n    },\n  },\n  list: {\n    overflow: 'auto',\n    maxHeight: 300,\n  },\n  dark: {\n    backgroundColor: '#393d46',\n    color: '#fff',\n    '& .files': {\n      color: '#4caf50',\n    },\n    '& .MuiSvgIcon-root': {\n      color: '#fff',\n    },\n  },\n  dim: {\n    color: 'white',\n    '& .files': {\n      color: '#4caf50',\n    },\n    '& .MuiSvgIcon-root': {\n      color: '#ffa726',\n    },\n  },\n}));\n\nconst initialState = {\n  totalSize: 0,\n  total: 0,\n  chartData: null,\n  actions: 0,\n  parsedSize: '',\n};\n\nconst Details = ({ type = 'files', onResponse, loadingComponent, dark }) => {\n  const isFile = Boolean(type === 'files');\n  const classes = useStyles();\n\n  const [state, setState] = React.useState({ ...initialState });\n\n  React.useEffect(() => {\n    setState(initialState);\n    const headers = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    };\n\n    setState(initialState);\n    fetch(`/api/admin/${type}/details`, headers)\n      .then(handleFetch)\n      .then((data) => {\n        setTimeout(() => setState(data), 500);\n      })\n      .catch((mistake) => {\n        onResponse({\n          key: new Date().getTime(),\n          type: 'error',\n          message: mistake.message,\n        });\n      });\n  }, [type, onResponse]);\n\n  if (!state.chartData) {\n    return loadingComponent;\n  }\n  const noun = isFile ? 'Archivos' : 'Usuarios';\n\n  const parsedSize = !state.parsedSize ? (\n    ''\n  ) : (\n    <Grid xs={6} item>\n      <Typography align=\"center\" variant=\"subtitle1\" component=\"p\">\n        <strong>{state.parsedSize} </strong>\n        Almacenados\n      </Typography>\n    </Grid>\n  );\n\n  return (\n    <Grid\n      container\n      className={`${classes.main} ${dark ? classes.dark : classes.dim}`}\n      justify=\"center\"\n    >\n      <Grid\n        container\n        item\n        direction=\"column\"\n        justify=\"center\"\n        alignItems=\"center\"\n        wrap=\"nowrap\"\n        className=\"card-box\"\n      >\n        <Card raised={false}>\n          <CardHeader title={noun} />\n          <Divider />\n          <CardContent>\n            <Grid\n              container\n              direction=\"row\"\n              justify=\"center\"\n              alignItems=\"center\"\n            >\n              <Grid\n                xs={12}\n                item\n                container\n                direction=\"row\"\n                justify=\"center\"\n                alignItems=\"center\"\n              >\n                <Typography className=\"files\" variant=\"h2\" component=\"h2\">\n                  {state.total}\n                </Typography>\n                <Typography\n                  style={{ paddingLeft: 5 }}\n                  variant=\"h6\"\n                  component=\"h2\"\n                >\n                  {noun} en el servidor\n                </Typography>\n              </Grid>\n              <Grid xs={6} item>\n                <Typography align=\"center\" variant=\"subtitle1\" component=\"p\">\n                  <strong>{state.available} </strong>\n                  {noun === 'Archivos' ? 'Disponibles' : 'Activos'}\n                </Typography>\n              </Grid>\n              <Grid xs={6} item>\n                <Typography align=\"center\" variant=\"subtitle1\" component=\"p\">\n                  <strong>{state.disabled} </strong>\n                  Suspendidos\n                </Typography>\n              </Grid>\n              <Grid xs={6} item>\n                <Typography align=\"center\" variant=\"subtitle1\" component=\"p\">\n                  <strong>{state.actions} </strong>\n                  {noun === 'Archivos'\n                    ? 'Archivos descargados'\n                    : 'Acciones de los usuarios'}\n                </Typography>\n              </Grid>\n              {parsedSize}\n            </Grid>\n          </CardContent>\n        </Card>\n        <Box style={{ width: '100%' }}>\n          <CloudQueueIcon />\n        </Box>\n      </Grid>\n      <Grid\n        container\n        item\n        direction=\"column\"\n        justify=\"center\"\n        alignItems=\"center\"\n        wrap=\"nowrap\"\n        className=\"card-box\"\n      >\n        <Card raised={false}>\n          <CardHeader title={'Resumen de ' + noun} />\n          <Divider />\n          <CardContent className=\"center\">\n            <DetailsPieChart data={state.chartData} />\n          </CardContent>\n        </Card>\n      </Grid>\n    </Grid>\n  );\n};\n\nconst dummy = [\n  { name: 'asd', value: 5121 },\n  { name: 'fgh', value: 1231 },\n  { name: 'jkl', value: 1238 },\n];\n\nconst DetailsPieChart = ({ data = dummy }) => {\n  const matches = useMediaQuery((theme) => theme.breakpoints.up('sm'));\n  const Cells = data.map((entry, index) => (\n    <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n  ));\n  return (\n    <ResponsiveContainer width=\"85%\" aspect={1}>\n      <PieChart width={730} height={250}>\n        <Pie\n          data={data}\n          dataKey=\"value\"\n          nameKey=\"name\"\n          cx=\"50%\"\n          cy=\"50%\"\n          fill=\"#8884d8\"\n          paddingAngle={2}\n          innerRadius=\"40%\"\n          legendType=\"square\"\n          label\n        >\n          <Label />\n          {Cells}\n        </Pie>\n        <Legend\n          layout={matches ? 'vertical' : 'horizontal'}\n          verticalAlign={matches ? 'middle' : 'bottom'}\n          align={matches ? 'left' : 'center'}\n          iconType=\"square\"\n        />\n      </PieChart>\n    </ResponsiveContainer>\n  );\n};\nexport default Details;\n\nconst COLORS = [\n  '#0088FE',\n  '#00C49F',\n  '#FFBB28',\n  '#FF8042',\n  '#FF6633',\n  '#E6B333',\n  '#3366E6',\n  '#999966',\n  '#99FF99',\n  '#B34D4D',\n  '#80B300',\n  '#809900',\n  '#E6B3B3',\n  '#6680B3',\n  '#66991A',\n  '#FF99E6',\n  '#CCFF1A',\n  '#FF1A66',\n  '#E6331A',\n  '#33FFCC',\n  '#66994D',\n  '#B366CC',\n  '#4D8000',\n  '#B33300',\n  '#CC80CC',\n  '#66664D',\n  '#991AFF',\n  '#E666FF',\n  '#4DB3FF',\n  '#1AB399',\n  '#E666B3',\n  '#33991A',\n  '#CC9999',\n  '#B3B31A',\n  '#00E680',\n  '#4D8066',\n  '#809980',\n  '#E6FF80',\n  '#1AFF33',\n  '#999933',\n  '#FF3380',\n  '#CCCC00',\n  '#66E64D',\n  '#4D80CC',\n  '#9900B3',\n  '#E64D66',\n  '#4DB380',\n  '#FF4D4D',\n  '#99E6E6',\n  '#6666FF',\n];\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport TableHead from '@material-ui/core/TableHead';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\n\nexport const useStyles = makeStyles({\n  a: { color: '#228dff' },\n  p0: { padding: '0px' },\n  text: { color: '#fff' },\n  elevation0: {\n    boxShadow: 'none',\n    borderRadius: 0,\n    maxHeight: '100%',\n    minHeight: '100%',\n  },\n  imageContainer: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    '& img': {\n      width: '50%',\n      maxWidth: '35px',\n    },\n  },\n  table: {\n    minWidth: 650,\n    '& .MuiFormControl-root': {\n      width: '100%',\n    },\n    '& .MuiTableCell-body ': {\n      padding: '8px',\n    },\n    '& .MuiTableRow-root': {\n      '&.disabled': {\n        backgroundColor: 'rgba(0, 0, 0, 0.1)',\n      },\n      '&.suspended': {\n        backgroundColor: 'rgba(255, 0, 0, 0.2)',\n      },\n    },\n    '& .MuiButtonBase-root': {\n      color: 'rgba(0, 0, 0, 0.9)',\n      '&.Mui-disabled': {\n        color: 'rgba(0, 0, 0, 0.3)',\n      },\n    },\n  },\n  dark: {\n    minWidth: 650,\n    '& .MuiFormControl-root': {\n      width: '100%',\n    },\n    '& .MuiTableBody-root': {\n      backgroundColor: '#393d46',\n    },\n    '& .MuiTableRow-root': {\n      '&.disabled': {\n        backgroundColor: 'rgba(255, 255, 255, 0.1)',\n      },\n      '&.suspended': {\n        backgroundColor: 'rgba(255, 0, 0, 0.2)',\n      },\n    },\n    '& .MuiTableCell-body ': {\n      padding: '8px',\n    },\n    '& .MuiTableCell-head': {\n      borderBottom: '2px solid #7d7d7d',\n      backgroundColor: '#424242',\n    },\n    '& .MuiTableCell-body': {\n      borderBottom: '2px solid #7d7d7d',\n    },\n    '& .MuiSelect-select:focus': {\n      backgroundColor: 'rgba(255, 255, 255, 0.75)',\n    },\n  },\n});\n\nexport const SelectCell = ({\n  nivel,\n  identifier,\n  className,\n  onChange,\n  disabled,\n}) => {\n  return (\n    <FormControl className={className}>\n      <InputLabel id={`select-label-${identifier}`}>Nivel</InputLabel>\n      <Select\n        labelId={`select-label-${identifier}`}\n        id={`select-${identifier}`}\n        value={nivel}\n        name={identifier}\n        disabled={disabled}\n        onChange={(event) => onChange(event.target)}\n      >\n        <MenuItem value={1}>1</MenuItem>\n        <MenuItem value={2}>2</MenuItem>\n        <MenuItem value={3}>3</MenuItem>\n        <MenuItem value={4}>4</MenuItem>\n        <MenuItem value={5}>5</MenuItem>\n      </Select>\n    </FormControl>\n  );\n};\n\nexport const TableHeader = ({ columns }) => {\n  if (!columns) {\n    return '';\n  }\n  const columnsMap = columns.map(({ label, align }, i) => (\n    <TableCell align={align} key={'col-' + i}>\n      {label}\n    </TableCell>\n  ));\n\n  return (\n    <TableHead>\n      <TableRow style={{ zIndex: '20' }}>{columnsMap}</TableRow>\n    </TableHead>\n  );\n};\n\nexport const ConfirmDialog = ({\n  open,\n  text,\n  handleClose,\n  theme,\n  confirmText = 'Si, seguro',\n  cancelText = 'Cancelar',\n}) => {\n  if (!open) {\n    return '';\n  }\n\n  const classes = makeStyles((theme) => ({\n    dim: {\n      '& .MuiDialogTitle-root': {\n        backgroundColor: '#4caf50',\n        textAlign: 'center',\n        color: '#fff',\n        padding: '12px 0 8px',\n      },\n    },\n    dark: {\n      '& .MuiPaper-root': {\n        backgroundColor: '#666',\n      },\n      '& .MuiDialogTitle-root': {\n        backgroundColor: '#424242',\n        textAlign: 'center',\n        color: '#fff',\n        padding: '12px 0 8px',\n      },\n      '& .MuiButton-containedPrimary': {\n        backgroundColor: '#424242',\n      },\n    },\n    dialogContent: {\n      margin: 'auto',\n      paddingTop: '8px',\n      minWidth: '340px',\n      [theme.breakpoints.down('xs')]: {\n        minWidth: '100%'\n      },\n      '& h2': {\n        textAlign: 'center',\n        padding: '0.5rem 3rem 1rem',\n        fontSize: '1rem',\n      },\n      '& .MuiButton-root': {\n        width: '50%',\n        borderRadius: '0',\n        fontWeight: '500',\n      },\n      '& .MuiButton-containedPrimary': {\n        fontWeight: '600',\n      },\n    },\n  }))();\n\n  return (\n    <Dialog\n      open={true}\n      className={theme ? classes.dark : classes.dim}\n      onClose={() => handleClose()}\n    >\n      <DialogTitle>Dialogo de confirmación</DialogTitle>\n      <Box className={classes.dialogContent}>\n        <Typography variant=\"subtitle2\" component=\"h2\">\n          {text}\n        </Typography>\n        <Box>\n          <Button\n            variant=\"contained\"\n            className=\"cancel\"\n            disableElevation\n            type=\"submit\"\n            onClick={() => handleClose(false)}\n            size=\"large\"\n          >\n            {cancelText}\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            disableElevation\n            type=\"submit\"\n            onClick={() => handleClose(true)}\n            size=\"large\"\n          >\n            {confirmText}\n          </Button>\n        </Box>\n      </Box>\n    </Dialog>\n  );\n};\n","import IconButton from '@material-ui/core/IconButton';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\nimport React from 'react';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { getIcon, handleFetch } from '../../SF/helpers';\nimport {\n  SelectCell,\n  TableHeader,\n  useStyles,\n  ConfirmDialog,\n} from '../tableStyles';\nimport CloudQueueIcon from '@material-ui/icons/CloudQueue';\nimport CloudOffIcon from '@material-ui/icons/CloudOff';\n\nconst tableColumns = [\n  { key: 'image', label: 'Icono', align: 'left' },\n  { key: 'ino', label: 'ID', align: 'left' },\n  { key: 'name', label: 'Nombre del archivo', align: 'left' },\n  { key: 'nivel', label: 'Nivel', align: 'right' },\n  { key: 'lastModified', label: 'Última modificación', align: 'right' },\n  { key: 'size', label: 'Tamaño', align: 'right' },\n  { key: 'dependency', label: 'En carpeta', align: 'right' },\n  { key: '', label: '', align: 'right' },\n];\n\nconst initialState = {\n  fileList: null,\n  shouldUpdate: false,\n  fileToSuspend: null,\n};\n\n/** Reset type */\nconst reducer = (state, action) => {\n  return {\n    ...initialState,\n    fileList: state.fileList,\n    ...action,\n  };\n};\n\nconst FilesTableContainer = ({\n  useTheme,\n  onResponse,\n  loadingComponent,\n  criteria,\n}) => {\n  const classes = useStyles();\n\n  const [state, setState] = React.useReducer(reducer, {\n    ...initialState,\n    shouldUpdate: true,\n  });\n  const { fileList, shouldUpdate } = state;\n\n  React.useEffect(() => {\n    if (!shouldUpdate) {\n      return;\n    }\n    const headers = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    };\n    setState({ shouldUpdate: false });\n    fetch(`/api/admin/files`, headers)\n      .then(handleFetch)\n      .then((files) => {\n        files = files.map((file, index) => ({\n          ...file,\n          updating: !file.isFile,\n          index,\n        }));\n        setState({ fileList: files });\n      })\n      .catch((mistake) => {\n        onResponse({\n          key: new Date().getTime(),\n          type: 'error',\n          message: mistake.message,\n        });\n      });\n  }, [shouldUpdate, onResponse]);\n\n  if (!fileList) {\n    return loadingComponent;\n  }\n\n  const setUpdate = (index, value = true) => {\n    const files = [...fileList];\n    files[index].updating = value;\n    setState({ fileList: files });\n  };\n\n  const toggleSuspend = (index) => {\n    const files = [...fileList];\n    files[index].available = +!files[index].available;\n    files[index].updating = false;\n    setState({ fileList: files });\n  };\n\n  const handleLevelChage = ({ name, value }, index) => {\n    setUpdate(index);\n    const headers = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n      body: JSON.stringify({ nivel: value }),\n    };\n\n    fetch(`/api/files/${name}`, headers)\n      .then(handleFetch)\n      .then((res) => {\n        setState({ shouldUpdate: true });\n        onResponse({\n          key: new Date().getTime(),\n          type: 'success',\n          message: res.message,\n        });\n      })\n      .catch((err) => {\n        setState({ shouldUpdate: true });\n        onResponse({\n          key: new Date().getTime(),\n          type: 'error',\n          message: err.response,\n        });\n      });\n  };\n\n  const handleSuspend = (closeEvent) => {\n    if (!closeEvent) {\n      setState({ fileToSuspend: null });\n      return;\n    }\n    const file = { ...state.fileToSuspend };\n    setUpdate(state.fileToSuspend.index);\n\n    const headers = {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    };\n\n    fetch(`/api/files/${file.ino}`, headers)\n      .then(handleFetch)\n      .then((res) => {\n        toggleSuspend(file.index);\n        onResponse({\n          key: new Date().getTime(),\n          type: 'success',\n          message: res.message,\n        });\n      })\n      .catch((err) => {\n        setUpdate(state.fileToSuspend.index, false);\n        onResponse({\n          key: new Date().getTime(),\n          type: 'error',\n          message: err.response,\n        });\n      });\n  };\n\n  const setSuspend = (file) => {\n    if (!file.isFile) {\n      return;\n    }\n    setState({ fileToSuspend: { ...file } });\n  };\n\n  const confirmText = () => {\n    if (!state.fileToSuspend) {\n      return '';\n    }\n    if (state.fileToSuspend.available) {\n      return `¿Seguro deseas dar de baja ${state.fileToSuspend.name}?`;\n    }\n    return `¿Seguro deseas restaurar ${state.fileToSuspend.name}?`;\n  };\n\n  return (\n    <React.Fragment>\n      <TableContainer\n        className={classes.elevation0}\n        component={Paper}\n        color=\"primary\"\n      >\n        <Table stickyHeader className={useTheme ? classes.dark : classes.table}>\n          <TableHeader columns={tableColumns} />\n          <TableContent\n            classes={classes}\n            data={fileList}\n            onChangeSelect={handleLevelChage}\n            onClickTrash={setSuspend}\n            criteria={criteria}\n            key=\"12gey12\"\n          />\n        </Table>\n      </TableContainer>\n      <ConfirmDialog\n        open={state.fileToSuspend}\n        handleClose={handleSuspend}\n        theme={useTheme}\n        text={confirmText()}\n      />\n    </React.Fragment>\n  );\n};\n\nexport default FilesTableContainer;\n\nconst TableContent = ({\n  classes,\n  data,\n  onChangeSelect,\n  onClickTrash,\n  criteria = '',\n}) => {\n  const regex = new RegExp(criteria, 'ig');\n  const rows = data.reduce((collection, value) => {\n    if (criteria && !value.name.match(regex)) {\n      return collection;\n    }\n    const cells = tableColumns.map((col, i) => {\n      let constent = value[col.key];\n      switch (col.key) {\n        case 'image':\n          constent = (\n            <ImageCell value={value} className={classes.imageContainer} />\n          );\n          break;\n        case 'nivel':\n          constent = (\n            <SelectCell\n              nivel={value.nivel}\n              identifier={value.ino.toString()}\n              disabled={value.updating}\n              onChange={(target) => onChangeSelect(target, value.index)}\n            />\n          );\n          break;\n        case 'lastModified':\n          constent = new Date(value[col.key] || value.birthtime).toLocaleString(\n            'es-VE'\n          );\n          break;\n        case '': {\n          const title = value.available ? 'Dar de baja' : 'Restaurar';\n          constent = (\n            <Tooltip title={title}>\n              <span>\n                <IconButton\n                  disabled={value.updating}\n                  aria-label=\"delete\"\n                  onClick={() => onClickTrash(value, value.index)}\n                >\n                  {value.available ? <CloudQueueIcon /> : <CloudOffIcon />}\n                </IconButton>\n              </span>\n            </Tooltip>\n          );\n          break;\n        }\n        default:\n          break;\n      }\n      const component = col.key === 'name' ? 'th' : 'td';\n      return (\n        <TableCell\n          component={component}\n          scope=\"row\"\n          className={!i || col.key === 'nivel' ? classes.p0 : ''}\n          align={col.align}\n          key={`col-${i}`}\n        >\n          {constent}\n        </TableCell>\n      );\n    });\n\n    const rowClass = () => {\n      switch (true) {\n        case value.updating:\n          return 'disabled';\n        case !value.available:\n          return 'suspended';\n        default:\n          return '';\n      }\n    };\n\n    const row = (\n      <TableRow className={rowClass()} key={value.ino}>\n        {cells}\n      </TableRow>\n    );\n    return [...collection, row];\n  }, []);\n  return <TableBody>{rows}</TableBody>;\n};\n\nconst ImageCell = ({ value, className }) => {\n  return (\n    <div className={className}>\n      <img\n        src={getIcon(value.isFile, value.ext)}\n        alt={value.ext}\n        width=\"24px\"\n      />\n    </div>\n  );\n};\n","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\nimport { handleFetch } from '../../SF/helpers';\nimport EnhancedEncryptionIcon from '@material-ui/icons/EnhancedEncryption';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport ChangePasswordDialog from './ChangePasswordDialog';\nimport {\n  useStyles,\n  SelectCell,\n  TableHeader,\n  ConfirmDialog,\n} from '../tableStyles';\nimport CloudQueueIcon from '@material-ui/icons/CloudQueue';\nimport CloudOffIcon from '@material-ui/icons/CloudOff';\n\nconst tableColumns = [\n  { key: 'id', label: 'ID', align: 'left' },\n  { key: 'usuario', label: 'Usuario', align: 'left' },\n  { key: 'nombre', label: 'Nombre', align: 'left' },\n  { key: 'nivel', label: 'Nivel', align: 'right' },\n  { key: 'desde', label: 'Miembro desde', align: 'right' },\n  { key: 'active', label: 'Estado', align: 'right' },\n  { key: '', label: '', align: 'right' },\n];\n\nconst initialState = {\n  userList: null,\n  changePassword: null,\n  userToSuspend: null,\n  shouldUpdate: false,\n};\n\n/** Reset type */\nconst reducer = (state, action) => {\n  return {\n    ...initialState,\n    userList: state.userList,\n    ...action,\n  };\n};\n\nconst UserTableContainer = ({\n  useTheme,\n  adminID,\n  onResponse,\n  loadingComponent,\n  criteria,\n}) => {\n  const classes = useStyles();\n\n  const [state, setState] = React.useReducer(reducer, {\n    ...initialState,\n    shouldUpdate: true,\n  });\n  const { userList, shouldUpdate } = state;\n\n  React.useEffect(() => {\n    if (!shouldUpdate) {\n      return;\n    }\n    const headers = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    };\n    setState({ shouldUpdate: false });\n    fetch(`/api/admin/users`, headers)\n      .then(handleFetch)\n      .then((users) => {\n        users = users.map((user, index) => ({\n          ...user,\n          short: user.id.slice(-5),\n          updating: adminID === user.id,\n          index,\n        }));\n        setState({ userList: users });\n      })\n      .catch((mistake) => {\n        onResponse({\n          key: new Date().getTime(),\n          type: 'error',\n          message: mistake.message,\n        });\n      });\n  }, [shouldUpdate, adminID, onResponse]);\n\n  if (!userList) {\n    return loadingComponent;\n  }\n\n  const setUpdate = (index, value = true) => {\n    const users = [...userList];\n    users[index].updating = value;\n    setState({ userList: users });\n  };\n\n  const toggleSuspend = (index) => {\n    const users = [...userList];\n    users[index].active = +!users[index].active;\n    users[index].updating = false;\n    setState({ userList: users });\n  };\n\n  const handleLevelChage = ({ name, value }, index) => {\n    setUpdate(index);\n    const headers = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n      body: JSON.stringify({ nivel: value }),\n    };\n\n    fetch(`/api/users/${name}`, headers)\n      .then(handleFetch)\n      .then((res) => {\n        setState({ shouldUpdate: true });\n        onResponse({\n          key: new Date().getTime(),\n          type: 'success',\n          message: res.response,\n        });\n      })\n      .catch((err) => {\n        setState({ shouldUpdate: true });\n        onResponse({\n          key: new Date().getTime(),\n          type: 'error',\n          message: err.message,\n        });\n      });\n  };\n\n  const handleChangePassword = (data) => {\n    if (!data) {\n      setState({ changePassword: null });\n      return;\n    }\n    setUpdate(data.index);\n\n    const headers = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n      body: JSON.stringify({ password: data.password }),\n    };\n\n    fetch(`/api/users/${data.userID}`, headers)\n      .then(handleFetch)\n      .then((res) => {\n        setUpdate(data.index, false);\n        onResponse({\n          key: new Date().getTime(),\n          type: 'success',\n          message: res.response,\n        });\n      })\n      .catch((err) => {\n        setUpdate(data.index, false);\n        onResponse({\n          key: new Date().getTime(),\n          type: 'error',\n          message: err.message,\n        });\n      });\n  };\n\n  const setHandlePassword = (user, index) => {\n    setState({ ...state, changePassword: { ...user, index } });\n  };\n\n  const handleSuspend = (closeEvent) => {\n    if (!closeEvent) {\n      setState({ userToSuspend: null });\n      return;\n    }\n    const user = { ...state.userToSuspend };\n    setUpdate(state.userToSuspend.index);\n\n    const headers = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n      body: JSON.stringify({ active: +!user.active }),\n    };\n\n    fetch(`/api/users/${user.id}`, headers)\n      .then(handleFetch)\n      .then((res) => {\n        toggleSuspend(user.index);\n        onResponse({\n          key: new Date().getTime(),\n          type: 'success',\n          message: res.response,\n        });\n      })\n      .catch((err) => {\n        setUpdate(state.userToSuspend.index, false);\n        onResponse({\n          key: new Date().getTime(),\n          type: 'error',\n          message: err.message,\n        });\n      });\n  };\n\n  const setSuspend = (user, index) => {\n    if (adminID === user.id) {\n      return;\n    }\n    setState({ ...state, userToSuspend: { ...user, index } });\n  };\n\n  const confirmText = () => {\n    if (!state.userToSuspend) {\n      return '';\n    }\n    if (state.userToSuspend.active) {\n      return `¿Seguro deseas suspender a ${state.userToSuspend.usuario}?`;\n    }\n    return `¿Seguro deseas reactivar la cuenta de ${state.userToSuspend.usuario}?`;\n  };\n\n  return (\n    <React.Fragment>\n      <TableContainer\n        className={classes.elevation0}\n        component={Paper}\n        color=\"primary\"\n      >\n        <Table stickyHeader className={useTheme ? classes.dark : classes.table}>\n          <TableHeader columns={tableColumns} />\n          <TableContent\n            classes={classes}\n            data={userList}\n            onChangeSelect={handleLevelChage}\n            onClickLock={setHandlePassword}\n            onClickTrash={setSuspend}\n            criteria={criteria}\n            key=\"12gey12\"\n          />\n        </Table>\n      </TableContainer>\n      <ChangePasswordDialog\n        user={state.changePassword}\n        handleClose={handleChangePassword}\n      />\n      <ConfirmDialog\n        open={state.userToSuspend}\n        handleClose={handleSuspend}\n        theme={useTheme}\n        text={confirmText()}\n      />\n    </React.Fragment>\n  );\n};\n\nexport default UserTableContainer;\n\nconst TableContent = ({\n  classes,\n  data,\n  onChangeSelect,\n  onClickLock,\n  onClickTrash,\n  criteria = '',\n}) => {\n  const regex = new RegExp(criteria, 'ig');\n  const content = data.reduce((collection, value) => {\n    const match =\n      value.usuario.match(regex) ||\n      value.nombre.match(regex) ||\n      value.apellido.match(regex);\n    if (criteria && !match) {\n      return collection;\n    }\n    const cells = tableColumns.map((col, i) => {\n      let constent = value[col.key];\n      switch (col.key) {\n        case 'id':\n          constent = value.short;\n          break;\n        case 'nivel':\n          constent = (\n            <SelectCell\n              nivel={value.nivel}\n              identifier={value.id}\n              disabled={value.updating}\n              onChange={(target) => onChangeSelect(target, value.index)}\n            />\n          );\n          break;\n        case 'active':\n          constent = value.active ? 'Activo' : 'Suspendido';\n          break;\n        case 'nombre':\n          constent = `${value.nombre} ${value.apellido}`;\n          break;\n        case '': {\n          const title = value.active\n            ? 'Suspender usuario'\n            : 'Reactivar usuario';\n          constent = (\n            <React.Fragment>\n              <Tooltip title=\"Cambiar contraseña\">\n                <span>\n                  <IconButton\n                    disabled={value.updating}\n                    aria-label=\"edit-password\"\n                    onClick={() => onClickLock(value, value.index)}\n                  >\n                    <EnhancedEncryptionIcon />\n                  </IconButton>\n                </span>\n              </Tooltip>\n              <Tooltip title={title}>\n                <span>\n                  <IconButton\n                    disabled={value.updating}\n                    aria-label=\"delete\"\n                    onClick={() => onClickTrash(value, value.index)}\n                  >\n                    {value.active ? <CloudQueueIcon /> : <CloudOffIcon />}\n                  </IconButton>\n                </span>\n              </Tooltip>\n            </React.Fragment>\n          );\n          break;\n        }\n        default:\n          break;\n      }\n      const component =\n        col.key === 'nombre' || col.key === 'usuario' ? 'th' : 'td';\n      return (\n        <TableCell\n          component={component}\n          scope=\"row\"\n          className={col.key === 'nivel' ? classes.p0 : ''}\n          align={col.align}\n          key={`col-${i}-${value.ino}`}\n        >\n          {constent}\n        </TableCell>\n      );\n    });\n\n    const rowClass = () => {\n      switch (true) {\n        case value.updating:\n          return 'disabled';\n        case !value.active:\n          return 'suspended';\n        default:\n          return '';\n      }\n    };\n\n    const row = (\n      <TableRow className={rowClass()} key={`row-${value.id}`}>\n        {cells}\n      </TableRow>\n    );\n    return [...collection, row];\n  }, []);\n  return <TableBody>{content}</TableBody>;\n};\n","import Box from '@material-ui/core/Box';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Card from '@material-ui/core/Card';\nimport Grid from '@material-ui/core/Grid';\nimport CardContent from '@material-ui/core/CardContent';\nimport Divider from '@material-ui/core/Divider';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport { makeStyles } from '@material-ui/core';\nimport React from 'react';\n\nconst useStyles = makeStyles(() => ({\n  report: {\n    width: '100%',\n    '& .MuiCard-root': {\n      margin: '1rem',\n    },\n    '& .MuiCardContent-root': {\n      padding: 0,\n    },\n    '& .MuiList-root': {\n      backgroundColor: 'transparent !important',\n      boxShadow: 'none',\n    },\n    '& .MuiGrid-root': {\n      padding: 10,\n    },\n  },\n}));\n\nconst options = [\n  {\n    url: 'files/report',\n    filename: 'reporte_archivos',\n    index: 1,\n  },\n  {\n    url: 'files/downloaded',\n    filename: 'reporte_descargas',\n    index: 2,\n  },\n  {\n    url: 'files/read',\n    filename: 'reporte_solicitudes',\n    index: 3,\n  },\n  {\n    url: 'users/activity',\n    filename: 'reporte_logs',\n    index: 4,\n  },\n];\n\nconst Reports = () => {\n  const classes = useStyles();\n  const [selected, select] = React.useState(0);\n\n  const generateFile = ({ url, filename, index }) => {\n    if (selected) {\n      return;\n    }\n    select(index);\n    const headers = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    };\n\n    fetch(`/api/admin/${url}`, headers)\n      .then((response) => response.blob())\n      .then((blob) => {\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = `${filename}.pdf`;\n        document.body.appendChild(a);\n        // we need to append the element to the dom -> otherwise it will not work in firefox\n        a.click();\n        a.remove();\n        select(0);\n        //afterwards we remove the element again\n      });\n  };\n\n  const spinner = () => {\n    if (!selected) {\n      return '';\n    }\n    return (\n      <Grid container justify=\"center\" alignItems=\"center\">\n        <CircularProgress size={40} thickness={5} />\n      </Grid>\n    );\n  };\n\n  return (\n    <Box\n      textAlign=\"center\"\n      display=\"flex\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      className={`${classes.report} min-h100`}\n    >\n      <Card>\n        <CardContent>\n          <List\n            subheader={\n              <ListSubheader component=\"div\" id=\"subheader\">\n                Reportes\n              </ListSubheader>\n            }\n          >\n            <ListItem\n              button\n              selected={selected === 1}\n              onClick={() => generateFile(options[0])}\n            >\n              <ListItemText\n                primary=\"Reporte de archivos\"\n                secondary={\n                  'Resumen de todos los archivos en el servidor, quien los subió y cuando'\n                }\n              />\n            </ListItem>\n            <Divider />\n            <ListItem\n              button\n              selected={selected === 2}\n              onClick={() => generateFile(options[1])}\n            >\n              <ListItemText\n                primary=\"Historial de descargas\"\n                secondary={\n                  'Registro de todas las descargas solicitadas por usuarios'\n                }\n              />\n            </ListItem>\n            <Divider />\n            <ListItem\n              button\n              selected={selected === 3}\n              onClick={() => generateFile(options[2])}\n            >\n              <ListItemText\n                primary=\"Historial de solicitudes\"\n                secondary={\n                  'Registro de las solicitudes de archivos por parte de los usuarios'\n                }\n              />\n            </ListItem>\n            <Divider />\n            <ListItem\n              button\n              selected={selected === 4}\n              onClick={() => generateFile(options[3])}\n            >\n              <ListItemText\n                primary=\"Logs\"\n                secondary={'Detalles de los ingresos al sistema'}\n              />\n            </ListItem>\n            <Divider />\n          </List>\n          {spinner()}\n        </CardContent>\n      </Card>\n    </Box>\n  );\n};\n\nexport default Reports;\n","import { makeStyles, useTheme } from '@material-ui/core';\nimport Avatar from '@material-ui/core/Avatar';\nimport Box from '@material-ui/core/Box';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Typography from '@material-ui/core/Typography';\nimport AssignmentIcon from '@material-ui/icons/Assignment';\n/**Icons */\nimport AssignmentIndIcon from '@material-ui/icons/AssignmentInd';\nimport FolderSpecialIcon from '@material-ui/icons/FolderSpecial';\nimport HowToRegIcon from '@material-ui/icons/HowToReg';\nimport ListAltIcon from '@material-ui/icons/ListAlt';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport React, { useContext } from 'react';\nimport { Route, Switch, useLocation } from 'react-router-dom';\nimport { saduwux } from '../SF/Context';\nimport { reactLink } from '../SF/helpers';\nimport Details from './Details';\nimport FilesTableContainer from './Files/FilesTable';\nimport UsersTableContainer from './Users/UsersTable';\nimport Reports from './Reports/Reports';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    display: 'grid',\n    [theme.breakpoints.down('xs')]: {\n      display: 'flex',\n      width: '100%',\n      '& .MuiBox-root': {\n        width: '100%',\n      },\n    },\n    gridTemplateColumns: '250px 1fr',\n    height: '100%',\n    overflow: 'auto',\n    '& .spinner-container': {\n      minHeight: '100%',\n      minWidth: '100%',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n    },\n    '& .right-column': {\n      height: '100%',\n      overflow: 'auto',\n    },\n    '& .MuiList-root': {\n      boxShadow: '5px 0 5px -5px #333',\n      width: '100%',\n      height: '100%',\n      oveflow: 'auto',\n      zIndex: '10',\n      '& .MuiAvatar-root': {\n        backgroundColor: 'transparent',\n      },\n      '& .MuiSvgIcon-root': {\n        fontSize: '40px',\n      },\n      '& .MuiListItem-root:hover': {\n        backgroundColor: 'rgba(0,0,0,0.3)',\n      },\n      '& .MuiListSubheader-root': {\n        position: 'static',\n        fontWeight: '500',\n        fontSize: '18px',\n        color: '#000',\n        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n      },\n    },\n  },\n  dim: {\n    backgroundColor: '#fff9c4',\n    '& .MuiList-root': {\n      backgroundColor: '#ffa726',\n      '& .MuiSvgIcon-root': {\n        color: '#000',\n      },\n    },\n    '& .MuiCircularProgress-colorPrimary': {\n      color: '#4caf50',\n    },\n  },\n  dark: {\n    backgroundColor: '#393d46',\n    '& .MuiList-root': {\n      backgroundColor: '#666',\n      color: '#fff',\n      '& .MuiSvgIcon-root': {\n        color: '#fff',\n      },\n      '& .MuiListSubheader-root': {\n        color: '#fff',\n        borderBottomColor: '#cecece',\n      },\n    },\n    '& .MuiCircularProgress-colorPrimary': {\n      color: '#fff',\n    },\n  },\n  card: {\n    height: '100%',\n    borderRadius: 0,\n    '&>*': {\n      overflow: 'hidden auto',\n      height: '100%',\n    },\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n}));\n\nconst routes = [\n  {\n    link: `/archivos/detalles`,\n    component: AssignmentIcon,\n    primaryText: 'Detalles de archivos',\n    helperText: 'Ver resumen de los archivos',\n  },\n  {\n    link: `/archivos/lista`,\n    component: FolderSpecialIcon,\n    primaryText: 'Administrar Archivos',\n    helperText: 'Modificar estatus de los archivos',\n  },\n  {\n    link: `/usuarios/detalles`,\n    component: AssignmentIndIcon,\n    primaryText: 'Detalles de usuarios',\n    helperText: 'Ver resumen de los usuarios',\n  },\n  {\n    link: `/usuarios/lista`,\n    component: HowToRegIcon,\n    primaryText: 'Administrar usuarios',\n    helperText: 'Modificar estatus de los usuarios',\n  },\n  {\n    link: `/reportes`,\n    component: ListAltIcon,\n    primaryText: 'Reportes',\n    helperText: 'Descargar reportes en formato PDF',\n  },\n];\n\nconst reducer = (state, action) => ({ ...state, ...action });\n\nconst Admin = (props) => {\n  const { window } = props;\n  const classes = useStyles();\n  const location = useLocation();\n  const theme = useTheme();\n  const { state: globalState, dispatch } = useContext(saduwux);\n\n  const [state, setState] = React.useReducer(reducer, {\n    selectedIndex: 0,\n    snackPack: [],\n    open: false,\n    messageInfo: undefined,\n  });\n\n  React.useEffect(() => {\n    const x = routes.findIndex((route) => {\n      const link = props.match.path + route.link;\n      return location.pathname === link;\n    });\n    setState({ selectedIndex: x });\n  }, [location.pathname, props.match.path]);\n\n  React.useEffect(() => {\n    if (state.snackPack.length && !state.messageInfo) {\n      // Set a new snack when we don't have an active one\n      setState({\n        messageInfo: { ...state.snackPack[0] },\n        snackPack: state.snackPack.slice(1),\n        open: true,\n      });\n    } else if (state.snackPack.length && state.open) {\n      // Close an active snack when a new one is added\n      setState({ open: false, messageInfo: undefined });\n    }\n  }, [state]);\n\n  const addBar = (data) => {\n    setState({\n      snackPack: [\n        ...state.snackPack,\n        {\n          key: new Date().getTime(),\n          type: data.type,\n          message: data.message,\n        },\n      ],\n    });\n  };\n\n  const closeBar = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setState({ open: false, messageInfo: undefined });\n  };\n\n  const exitBar = () => {\n    setState({ messageInfo: undefined });\n  };\n\n  const mainClass = () => {\n    let className = classes.main;\n    className += !globalState.theme ? ` ${classes.dim}` : ` ${classes.dark}`;\n    return className;\n  };\n\n  const listItems = () => {\n    return (\n      <List\n        subheader={\n          <ListSubheader component=\"div\" id=\"subheader\">\n            Configuraciones\n          </ListSubheader>\n        }\n      >\n        {routes.map((route, index) => (\n          <React.Fragment key={index}>\n            <ListItem\n              button\n              component={reactLink}\n              to={props.match.path + route.link}\n              selected={state.selectedIndex === index}\n              onClick={() => handleDrawerToggle()}\n            >\n              <ListItemAvatar>\n                <Avatar>\n                  <route.component />\n                </Avatar>\n              </ListItemAvatar>\n              <ListItemText\n                primary={route.primaryText}\n                secondary={route.helperText}\n              />\n            </ListItem>\n            <Divider />\n          </React.Fragment>\n        ))}\n      </List>\n    );\n  };\n\n  const container =\n    window !== undefined ? () => window().document.body : undefined;\n\n  const handleDrawerToggle = () => {\n    dispatch({ type: 'update', payload: { mobileOpen: false } });\n  };\n\n  const spinner = <Spinner useDark={globalState.theme} />;\n\n  return (\n    <Box component=\"main\" display=\"flex\" className={mainClass()}>\n      <Hidden smUp implementation=\"css\">\n        <Drawer\n          container={container}\n          variant=\"temporary\"\n          anchor={(theme.direction = 'right')}\n          open={globalState.mobileOpen}\n          onClose={handleDrawerToggle}\n          ModalProps={{\n            keepMounted: true, // Better open performance on mobile.\n          }}\n          classes={{\n            paper: classes.drawerPaper,\n          }}\n        >\n          {listItems()}\n        </Drawer>\n      </Hidden>\n      <Hidden xsDown implementation=\"css\">\n        <Drawer\n          className={`min-h100`}\n          classes={{\n            paper: `position-static`,\n          }}\n          variant=\"permanent\"\n          open\n        >\n          {listItems()}\n        </Drawer>\n      </Hidden>\n      <Box component=\"div\" className=\"right-column\">\n        <Switch>\n          <Route exact path={props.match.path} component={WelcomeAdmin} />\n          <Route\n            path={`${props.match.path}/archivos/lista`}\n            render={() => (\n              <FilesTableContainer\n                useTheme={globalState.theme}\n                criteria={globalState.search}\n                onResponse={addBar}\n                loadingComponent={spinner}\n              />\n            )}\n          />\n          <Route\n            path={`${props.match.path}/archivos/detalles`}\n            render={() => (\n              <Details\n                key=\"files\"\n                dark={globalState.theme}\n                onResponse={addBar}\n                loadingComponent={spinner}\n              />\n            )}\n          />\n          <Route\n            path={`${props.match.path}/usuarios/lista`}\n            render={() => (\n              <UsersTableContainer\n                useTheme={globalState.theme}\n                adminID={globalState.user.id}\n                criteria={globalState.search}\n                onResponse={addBar}\n                loadingComponent={spinner}\n              />\n            )}\n          />\n          <Route\n            path={`${props.match.path}/usuarios/detalles`}\n            render={() => (\n              <Details\n                key=\"users\"\n                dark={globalState.theme}\n                type=\"users\"\n                onResponse={addBar}\n                loadingComponent={spinner}\n              />\n            )}\n          />\n          <Route path={`${props.match.path}/reportes`} component={Reports} />\n        </Switch>\n      </Box>\n      <RequestSnack\n        onClose={closeBar}\n        onExit={exitBar}\n        data={state.messageInfo}\n        open={state.open}\n      />\n    </Box>\n  );\n};\n\nexport default Admin;\n\nconst WelcomeAdmin = () => {\n  return (\n    <Box\n      textAlign=\"center\"\n      display=\"flex\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      className=\"min-h100\"\n      style={{ width: '100%' }}\n    >\n      <Card>\n        <CardContent style={{ paddingBottom: '0px' }}>\n          <Typography variant=\"h5\" component=\"h2\">\n            ¡Bienvenido!\n          </Typography>\n          <Typography variant=\"body2\" component=\"p\">\n            Desde esta página puedes gestionar el contenido de Cloudster.\n          </Typography>\n          <Typography variant=\"body2\" component=\"p\">\n            Procede con precaución.\n          </Typography>\n\n          <WarningIcon style={{ marginTop: '1rem', fontSize: '100px' }} />\n        </CardContent>\n      </Card>\n    </Box>\n  );\n};\n\nconst Spinner = () => {\n  return (\n    <div className=\"spinner-container\">\n      <CircularProgress size={100} thickness={5} />\n    </div>\n  );\n};\n\nconst RequestSnack = ({ onClose, onExit, open, data }) => {\n  if (!open) {\n    return '';\n  }\n  const { message, type, key } = data;\n  return (\n    <Snackbar\n      key={key || 'asdgaryisthebest'}\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'right',\n      }}\n      open={open}\n      onClose={onClose}\n      onExited={onExit}\n      autoHideDuration={2000}\n    >\n      <MuiAlert\n        severity={type || 'success'}\n        elevation={6}\n        variant=\"filled\"\n        onClose={onClose}\n      >\n        {message}\n      </MuiAlert>\n    </Snackbar>\n  );\n};\n","import React, { useContext } from 'react';\nimport { saduwux } from '../SF/Context';\nimport { Redirect, Route } from 'react-router-dom';\n\nconst ProtectedRoute = ({\n  requireAdmin = false,\n  requireLogin = true,\n  redirectTo = '/notlogged',\n  ...props\n}) => {\n  const { state } = useContext(saduwux);\n  const getComponent = () => {\n    if (requireLogin && !state.logStatus) {\n      return (\n        <Route>\n          <Redirect to={redirectTo} />\n        </Route>\n      );\n    }\n    if (requireAdmin && state.user.nivel < 5) {\n      return (\n        <Route>\n          <Redirect to='/busqueda' />\n        </Route>\n      );\n    }\n    return <Route {...props} />;\n  };\n\n  return getComponent();\n};\n\nexport default ProtectedRoute;\n","import './App.css';\nimport React, { useContext } from 'react';\n\n/** Material */\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport green from '@material-ui/core/colors/green';\nimport orange from '@material-ui/core/colors/orange';\nimport {\n  createMuiTheme,\n  makeStyles,\n  ThemeProvider,\n} from '@material-ui/core/styles';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\n\n/** Componentes */\nimport RequireLogin from './components/Err/RequireLogin';\nimport Search from './components/Files/Search';\nimport Login from './components/Login/Login';\nimport Recover from './components/Login/Recover';\nimport Profile from './components/Profile/Profile';\nimport ProfileSettings from './components/Profile/ProfileSettings';\nimport Register from './components/Register/Register';\nimport Reproductor from './components/Reproductor/Reproductor';\nimport Sidebar from './components/Sidebar/Sidebar';\nimport TopBar from './components/TopBar/TopBar';\nimport NotFound from './components/Err/NotFound';\nimport Admin from './components/Admin/Admin';\n\n/** Auxiliares */\nimport { saduwux } from './components/SF/Context';\nimport { handleFetch } from './components/SF/helpers';\nimport ProtectedRoute from './components/SF/ProtectedRoute';\nimport backgroundimg4 from './components/SF/Media/background_study_by_hibelton_dc28kuo-fullview.jpg';\n\nconst useStyles = makeStyles((theme) => ({\n  toolbar: theme.mixins.toolbar,\n  // main: { display: 'flex', minWidth: '100%', flexGrow: 1, position: 'relaive' },\n  theme: {\n    backgroundColor: theme.palette.background.default,\n    color: theme.palette.text.primary,\n  },\n  fullBackg: {\n    backgroundImage: `url(${backgroundimg4})`,\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? '#cecece' : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n  },\n  dark: {\n    backgroundColor: '#393d46',\n  },\n  dim: {\n    backgroundColor: '#fff9c4',\n  }\n}));\n\nconst prins = createMuiTheme({\n  typography: {\n    h2: {\n      fontSize: '3.75rem',\n      fontWeight: 300,\n      lineHeight: 1.2,\n      letterSpacing: '-0.00833em',\n      fontFamily: ['Roboto', 'Helvetica', 'Arial', 'sans-serif'],\n      '@media (min-width:600px)': {\n        fontSize: '3.75rem',\n      },\n      '@media (min-width:0px)': {\n        fontSize: '3.25rem',\n      },\n    },\n    h4: {\n      fontSize: '2.15rem',\n      fontWeight: 400,\n      lineHeight: 1.235,\n      letterSpacing: '0.00735em',\n      fontFamily: ['Roboto', 'Helvetica', 'Arial', 'sans-serif'],\n      '@media (min-width:600px)': {\n        fontSize: '2.15rem',\n      },\n      '@media (min-width:0px)': {\n        fontSize: '1.75rem',\n      },\n    },\n  },\n  palette: {\n    primary: { main: green[500] },\n    secondary: { main: orange[400] },\n    textPrimary: { main: '#FFF' },\n  },\n});\n\nconst dark = createMuiTheme({\n  typography: {\n    h2: {\n      fontSize: '3.75rem',\n      fontWeight: 300,\n      lineHeight: 1.2,\n      letterSpacing: '-0.00833em',\n      fontFamily: ['Roboto', 'Helvetica', 'Arial', 'sans-serif'],\n      '@media (min-width:600px)': {\n        fontSize: '3.75rem',\n      },\n      '@media (min-width:0px)': {\n        fontSize: '3.25rem',\n      },\n    },\n    h4: {\n      fontSize: '2.15rem',\n      fontWeight: 400,\n      lineHeight: 1.235,\n      letterSpacing: '0.00735em',\n      fontFamily: ['Roboto', 'Helvetica', 'Arial', 'sans-serif'],\n      '@media (min-width:600px)': {\n        fontSize: '2.15rem',\n      },\n      '@media (min-width:0px)': {\n        fontSize: '1.75rem',\n      },\n    },\n  },\n  palette: {\n    type: 'dark',\n    primary: { main: '#424242' },\n    secondary: { main: '#252525' },\n    primaryText: { main: '#FFF' },\n  },\n});\n\n/**\n * Checks if the token inside the local storage is valid\n * and if it is retrieves the user\n * @param {function} cb callback function\n */\nconst useFetchUser = (cb) => {\n  const didMount = React.useRef(false);\n  React.useEffect(() => {\n    if (!didMount.current) {\n      cb();\n      didMount.current = true;\n    }\n  });\n};\n\nconst App = () => {\n  const classes = useStyles();\n  const { state, dispatch } = useContext(saduwux);\n\n  /** Verificacion de token on init */\n  useFetchUser(() => {\n    const token = localStorage.getItem('token');\n    const usingDark = localStorage.getItem('theme');\n    if (!token) {\n      dispatch({ type: 'update', payload: { logStatus: 0 } });\n      localStorage.clear();\n      return;\n    }\n\n    dispatch({\n      type: 'update',\n      payload: { logStatus: 1, theme: Boolean(usingDark) },\n    });\n    fetch(`/api/users/token`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    })\n      .then(handleFetch)\n      .then((res) => dispatch({ type: 'login', payload: { user: res } }))\n      .catch(() => {\n        localStorage.clear();\n        dispatch({ type: 'update', payload: { logStatus: 0 } });\n      });\n  });\n\n  const switchView = () => {\n    return (\n      <div\n        className={`container ${state.theme ? classes.dark : classes.dim}\n        ${!state.logStatus ? 'initial-height' : ''}`}\n      >\n        <Route\n          component={TopBar}\n          path={[\n            '/perfil',\n            '/configuracion',\n            '/busqueda',\n            '/transfers',\n            '/reproductor',\n            '/admin',\n          ]}\n        />\n        <Route\n          component={Sidebar}\n          path={[\n            '/perfil',\n            '/configuracion',\n            '/busqueda',\n            '/transfers',\n            '/reproductor',\n            '/admin',\n          ]}\n        />\n\n        <Switch>\n          <Route exact path=\"/\" render={() => <Redirect to='/login'/>} />\n          <Route\n            className={classes.fullBackg}\n            exact\n            path=\"/login\"\n            component={Login}\n          />\n          <Route\n            className={classes.fullBackg}\n            exact\n            path=\"/recover\"\n            component={Recover}\n          />\n          <Route\n            className={classes.fullBackg}\n            exact\n            path=\"/register\"\n            component={Register}\n          />\n          <Route exact path=\"/notlogged\" component={RequireLogin} />\n          <ProtectedRoute\n            exact\n            path=\"/reproductor\"\n            component={Reproductor}\n          />\n          <ProtectedRoute exact path=\"/busqueda\" component={Search} />\n          <ProtectedRoute exact path=\"/perfil\" component={Profile} />\n          <ProtectedRoute\n            exact\n            path=\"/configuracion\"\n            component={ProfileSettings}\n          />\n          <ProtectedRoute requireAdmin path=\"/admin\" component={Admin} />\n          <Route path='/404' component={NotFound} />\n          <Redirect from='*' to='/404' />\n        </Switch>\n      </div>\n    );\n  };\n\n  if (state.logStatus === 1) {\n    const tempStyle = () => ({\n      minHeight: '100%',\n      minWidth: '100%',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n    });\n    return (\n      <div style={tempStyle()}>\n        <CircularProgress size={100} thickness={5} />\n      </div>\n    );\n  }\n\n  return (\n    <ThemeProvider theme={!state.theme ? prins : dark}>\n      <BrowserRouter basename=\"/\">{switchView()}</BrowserRouter>\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { StoreProvider } from './components/SF/Context';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <StoreProvider>\n    <App />\n  </StoreProvider>,\n  document.getElementById('root')\n);\n\nserviceWorker.register();\n"],"sourceRoot":""}
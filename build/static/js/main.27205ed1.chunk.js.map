{"version":3,"sources":["components/SF/svg/folder.svg","components/SF/svg/Papirus-Team-Papirus-audio.svg","components/SF/svg/Papirus-Team-Papirus-Mimetypes-App-x-msdos-program.svg","components/SF/svg/Papirus-Team-Papirus-compress.svg","components/SF/svg/Papirus-Team-Papirus-html.svg","components/SF/svg/Papirus-Team-Papirus-ImageGeneric.svg","components/SF/svg/Papirus-Team-Papirus-iso.svg","components/SF/svg/Papirus-Team-Papirus-json.svg","components/SF/svg/Papirus-Team-Papirus-Mimetypes-App-x-javascript.svg","components/SF/svg/Papirus-Team-Papirus-Mimetypes-X-office-document.svg","components/SF/svg/Papirus-Team-Papirus-Mimetypes-X-office-presentation.svg","components/SF/svg/Papirus-Team-Papirus-Mimetypes-X-office-spreadsheet.svg","components/SF/svg/Papirus-Team-Papirus-pdf.svg","components/SF/svg/Paomedia-Small-N-Flat-Book.svg","components/SF/svg/Paomedia-Small-N-Flat-File-text.svg","components/SF/svg/Papirus-Team-Papirus-Mimetypes-Text-x-java.svg","components/SF/svg/Papirus-Team-Papirus-video.svg","components/SF/svg/Papirus-Team-Papirus-zerosize.svg","components/SF/Media/background_study_by_hibelton_dc28kuo-fullview.jpg","components/SF/helpers.jsx","components/Err/RequireLogin.jsx","components/SF/Context.jsx","components/Files/Files.jsx","components/Files/Modals/FileInfoModal.jsx","components/Files/Modals/UploadFileModal.jsx","components/Files/Search.jsx","components/Login/Login.jsx","components/Login/Recover.jsx","components/Profile/Profile.jsx","components/Admin/Users/ChangePasswordDialog.jsx","components/Profile/ProfileSettings.jsx","components/Register/Register.jsx","components/Reproductor/Reproductor.jsx","components/Sidebar/Sidebar.jsx","components/TopBar/TopBar.jsx","components/Err/NotFound.jsx","components/Admin/Details.jsx","components/Admin/tableStyles.jsx","components/Admin/Files/FilesTable.jsx","components/Admin/Users/UsersTable.jsx","components/Admin/Reports/Reports.jsx","components/Admin/Admin.jsx","components/SF/ProtectedRoute.jsx","App.jsx","serviceWorker.js","index.js"],"names":["module","exports","reactLink","React","forwardRef","props","ref","innerRef","displayName","handleFetch","response","json","then","ok","Promise","reject","getIcon","isFile","ext","folder","pic","program","audio","video","compress","js","jar","iso","pdf","text","book","doc","pp","excel","html","zerosize","useStyles","makeStyles","theme","box","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","backgroundImage","backgroundimg1","backgroundRepeat","backgroundSize","backgroundPosition","breakpoints","down","card","minWidth","title","fontSize","pos","marginBottom","grow","flexGrow","bullet","display","margin","transform","RequireLogin","classes","Box","textAlign","width","justifyContent","alignItems","className","Card","CardContent","Typography","variant","component","CardActions","Link","to","underline","fontWeight","initialValue","user","id","usuario","nombre","apellido","pregunta1","pregunta2","desde","nivel","playing","history","search","logStatus","mobileOpen","saduwux","createContext","Provider","reducer","state","action","payload","type","localStorage","setItem","newState","pop","clear","StoreProvider","children","useReducer","dispatch","value","popper","zIndex","color","image","height","paper","spacing","backgroundColor","paperMod","padding","maxWidth","modal","file","cursor","initialState","open","openModal","progress","total","received","Files","move","setMovingFile","movingFile","useHistory","ino","name","update","updateFolder","updatePlayer","anchorRef","useRef","prevOpen","nameToShow","length","substring","trim","useEffect","current","focus","handleClickAway","event","contains","target","download","filename","a","fetch","method","headers","Authorization","getItem","reader","body","getReader","chunks","get","read","done","push","blob","Blob","url","window","URL","createObjectURL","document","createElement","href","appendChild","click","remove","handleListKeyDown","index","preventDefault","content","Paper","elevation","src","alt","useTheme","style","overflowWrap","Grid","opacity","item","xs","sm","md","lg","aria-controls","undefined","aria-haspopup","onClick","onContextMenu","e","Popper","anchorEl","role","transition","disablePortal","TransitionProps","placement","Grow","transformOrigin","ClickAwayListener","onClickAway","MenuList","autoFocusItem","onKeyDown","MenuItem","paddingTop","FileInfoModal","handleClose","date","Date","lastModified","birthtime","toLocaleString","Dialog","onClose","DialogTitle","container","direction","gutterBottom","wordWrap","upBy","size","root","input","toolbar","maxHeight","position","flexWrap","menuButton","marginRight","darkFocused","borderColor","fileField","fileFieldName","originalName","reg","RegExp","pattern","ModalContent","changeName","onChange","cleanState","justify","align","TextField","fullWidth","error","inputProps","maxLength","Button","disabled","accept","htmlFor","IconButton","aria-label","UploadFileModal","useContext","console","log","match","fileName","files","normalize","replace","_ext","path","extname","basename","main","overflow","gridTemplateRows","anotherRow","peachColor","bar","sectionDesktop","sectionMobile","movingBar","borderTop","inline","hideOnBig","Alert","message","severity","fileForModal","uploadModal","shouldUpdate","isMoving","folderModal","folderName","MovingBar","cancel","spanClass","button","marginTop","typo","disableElevation","startIcon","endIcon","Search","globalState","sort","catch","mistake","handleFileModal","handleUploadModal","data","closing","uploadFile","reason","onSuccess","mensaje","onError","fileToPost","isNaN","formData","FormData","append","enctype","postFile","Fragment","mainClass","AppBar","Toolbar","edge","location","origin","LinearProgress","regex","reduce","filtered","temp","key","items","res","JSON","stringify","newFolder","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","arr","byName","byFileType","b","localeCompare","placeContent","palette","grey","borderRadius","form","flexDirection","username","password","isLoading","Login","global","invalid","handleInput","Divider","autoComplete","onSubmit","md5","token","setTimeout","label","required","autoFocus","backButton","bottonContainer","instructions","mRight","activeStep","touched","respuesta1","respuesta2","password2","withRouter","steps","handleChange","handleChangeTrim","Stepper","alternativeLabel","map","Step","StepLabel","id_usuario","err","changePassword","handleQuestions","step","helperText","getStepContent","avatar","green","paddingBottom","boxShadow","list","dark","border","dim","totalSize","parsedSize","chartData","FileChartContent","matches","result","totalValue","COLORS","fontFamily","cx","cy","innerRadius","outerRadius","fill","paddingAngle","dataKey","isAnimationActive","offset","entry","layout","verticalAlign","byIno","Profile","useMediaQuery","up","getClasses","wrap","raised","CardHeader","m","Avatar","mx","FormControlLabel","control","Switch","checked","List","dense","ListItem","ListItemIcon","DescriptionIcon","FolderIcon","ListItemText","primary","secondary","ListItemSecondaryAction","dependency","touched2","error2","ChangePasswordDialog","number","invalidText","valueToUpdate","password1","userID","Boolean","background","tabs","borderRight","divider","minHeight","ExpansionPanel","withStyles","borderBottom","expanded","Accordion","ExpansionPanelSummary","AccordionSummary","ExpansionPanelDetails","AccordionDetails","questions","pregunta","TabPanel","other","hidden","aria-labelledby","userReducer","ProfileSettings","tapProps","getPartialInfo","tab","handleUpdate","setChangePassword","mapPreguntas","P","handleTapChange","getTap","select","Container","Tabs","orientation","indicatorColor","Tab","square","expandIcon","heading","userExist","Register","every","code","hiden","mixins","route","Reproductor","allow","frameBorder","bgcolor","routes","routesComponents","PlayCircleFilledIcon","AccountCircleIcon","BuildIcon","aside","flexShrink","borderLeft","paddingLeft","paddingRight","Sidebar","useLocation","useState","selectedIndex","setSelectedIndex","pathname","split","x","indexOf","signout","getClass","Drawer","prev","fragment","selected","appBar","drawer","inputRoot","icon","shape","fade","common","white","marginLeft","searchIcon","pointerEvents","inputInput","transitions","create","TopBar","some","includes","InputBase","placeholder","NotFound","actions","dummy","DetailsPieChart","Cells","aspect","nameKey","legendType","iconType","Details","onResponse","loadingComponent","setState","getTime","noun","available","p0","elevation0","imageContainer","table","SelectCell","identifier","FormControl","InputLabel","Select","labelId","TableHeader","columns","columnsMap","i","TableCell","TableHead","TableRow","ConfirmDialog","confirmText","cancelText","dialogContent","tableColumns","fileList","fileToSuspend","FilesTableContainer","criteria","updating","setUpdate","TableContainer","Table","stickyHeader","onChangeSelect","onClickTrash","closeEvent","toggleSuspend","TableContent","rows","collection","cells","col","constent","toString","Tooltip","scope","row","rowClass","TableBody","ImageCell","userList","userToSuspend","UserTableContainer","adminID","users","short","slice","onClickLock","active","report","options","Reports","generateFile","subheader","ListSubheader","CircularProgress","thickness","oveflow","borderBottomColor","drawerPaper","link","AssignmentIcon","primaryText","FolderSpecialIcon","AssignmentIndIcon","HowToRegIcon","ListAltIcon","Admin","snackPack","messageInfo","findIndex","addBar","listItems","handleDrawerToggle","ListItemAvatar","spinner","useDark","Hidden","smUp","implementation","anchor","ModalProps","keepMounted","xsDown","exact","WelcomeAdmin","render","FilesTable","UsersTable","onExit","Spinner","RequestSnack","onExited","ProtectedRoute","requireAdmin","requireLogin","redirectTo","default","fullBackg","backgroundimg4","prins","createMuiTheme","typography","h2","lineHeight","letterSpacing","h4","orange","textPrimary","App","cb","didMount","useFetchUser","usingDark","ThemeProvider","Recover","from","isLocalhost","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","ReactDOM","getElementById","process","addEventListener","contentType","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.27205ed1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/folder.78445f96.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-audio.4dbf7341.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-Mimetypes-App-x-msdos-program.71a3d0c1.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-compress.48168696.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-html.8b8629d0.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-ImageGeneric.1d8fe391.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-iso.6032e341.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-json.4dde5351.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-Mimetypes-App-x-javascript.f316c01e.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-Mimetypes-X-office-document.d52fc926.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-Mimetypes-X-office-presentation.d209dc93.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-Mimetypes-X-office-spreadsheet.fc0d7531.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-pdf.5fd1241c.svg\";","module.exports = __webpack_public_path__ + \"static/media/Paomedia-Small-N-Flat-Book.276dfa45.svg\";","module.exports = __webpack_public_path__ + \"static/media/Paomedia-Small-N-Flat-File-text.ca4a83c0.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-Mimetypes-Text-x-java.15c53d6e.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-video.41a44ff7.svg\";","module.exports = __webpack_public_path__ + \"static/media/Papirus-Team-Papirus-zerosize.a1a2034f.svg\";","module.exports = __webpack_public_path__ + \"static/media/background_study_by_hibelton_dc28kuo-fullview.ad58eeea.jpg\";","/**\n * @typedef {import('../SF/typedefs.jsx').inputFile} inputFile\n */\n//SVG\nimport React from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport folder from './svg/folder.svg';\nimport audio from './svg/Papirus-Team-Papirus-audio.svg';\nimport program from './svg/Papirus-Team-Papirus-Mimetypes-App-x-msdos-program.svg';\nimport compress from './svg/Papirus-Team-Papirus-compress.svg';\nimport html from './svg/Papirus-Team-Papirus-html.svg';\nimport pic from './svg/Papirus-Team-Papirus-ImageGeneric.svg';\nimport iso from './svg/Papirus-Team-Papirus-iso.svg';\nimport json from './svg/Papirus-Team-Papirus-json.svg';\nimport js from './svg/Papirus-Team-Papirus-Mimetypes-App-x-javascript.svg';\nimport doc from './svg/Papirus-Team-Papirus-Mimetypes-X-office-document.svg';\nimport pp from './svg/Papirus-Team-Papirus-Mimetypes-X-office-presentation.svg';\nimport excel from './svg/Papirus-Team-Papirus-Mimetypes-X-office-spreadsheet.svg';\nimport pdf from './svg/Papirus-Team-Papirus-pdf.svg';\nimport book from './svg/Paomedia-Small-N-Flat-Book.svg';\nimport text from './svg/Paomedia-Small-N-Flat-File-text.svg';\nimport jar from './svg/Papirus-Team-Papirus-Mimetypes-Text-x-java.svg';\nimport video from './svg/Papirus-Team-Papirus-video.svg';\nimport zerosize from './svg/Papirus-Team-Papirus-zerosize.svg';\n//SVG\n\nexport const reactLink = React.forwardRef((props, ref) => (\n  <RouterLink innerRef={ref} {...props} />\n));\nreactLink.displayName = 'reactLink';\n\nexport const handleFetch = (response) => {\n  return response.json().then((json) => {\n    if (response.ok) return json;\n    else return Promise.reject(json);\n  });\n};\n\n/**\n * Converts the bytes into its correspoding unit in terms of space\n * @param {number} size full size\n * @returns {string} the size\n */\nexport const parseSize = (size) => {\n  if (size < 1024) return `${size.toFixed(2)} Bytes`;\n\n  size = size / 1024;\n  if (size < 1024) return `${size.toFixed(2)} KB`;\n\n  size = size / 1024;\n  if (size < 1024) return `${size.toFixed(2)} MB`;\n\n  size = size / 1024;\n  return `${size.toFixed(2)} GB`;\n};\n\nexport const getIcon = (isFile, ext) => {\n  if (!isFile) return folder;\n  switch (ext) {\n    case 'jpg':\n    case 'png':\n      return pic;\n    case 'exe':\n    case 'msi':\n      return program;\n    case 'mp3':\n    case 'wav':\n    case 'm4a':\n      return audio;\n    case 'mp4':\n    case 'mkv':\n      return video;\n    case 'rar':\n    case 'zip':\n      return compress;\n    case 'json':\n      return json;\n    case 'js':\n    case 'jsx':\n      return js;\n    case 'jar':\n      return jar;\n    case 'iso':\n      return iso;\n    case 'pdf':\n      return pdf;\n    case 'txt':\n      return text;\n    case 'epub':\n      return book;\n    case 'doc':\n    case 'docx':\n      return doc;\n    case 'pptx':\n      return pp;\n    case 'xlsx':\n      return excel;\n    case 'html':\n      return html;\n    default:\n      return zerosize;\n  }\n}; //GetIcon\n\n/**\n *\n * @param {any} item\n * @param {Object[]} keys description\n * @param {string} keys.name\n * @param {boolean} keys.required\n * @param {number} [keys.length]\n * @param {string} keys.type\n */\nexport const structuteChecker = (item, keys) => {\n  return keys.every((key) => {\n    const { name, required, type, length } = key;\n\n    if (required && !item[name]) {\n      return false;\n    }\n\n    if (type && typeof item[name] !== type) {\n      return false;\n    }\n\n    if (length && item[name].length < length) {\n      return false;\n    }\n\n    return true;\n  });\n};\n\n/**\n * @param {inputFile} data The data to be posted\n * @param {Function} onSuccess funtion to be called when the fecth has concluded successfully\n * @param {Function} onError throw and error\n */\nexport const postFile = (data, onSuccess, onError) => {\n  if (!data.fileField || isNaN(data.folder)) return;\n\n  let formData = new FormData();\n  formData.append('file', data.fileField);\n  formData.append('name', `${data.fileFieldName}.${data.ext}`);\n\n  fetch(`/api/files/${data.folder}`, {\n    method: 'POST',\n    headers: {\n      Authorization: localStorage.getItem('token'),\n    },\n    enctype: 'multipart/form-data',\n    body: formData,\n  })\n    .then(handleFetch)\n    .then(onSuccess('Archivo subido satisfactoriamente!'))\n    .catch(onError);\n};\n\nexport const newFolder = (folderName, folder, onSuccess, onError) => {\n  if (!folderName) return;\n  fetch(`/api/files/${folder}/folder`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: localStorage.getItem('token'),\n    },\n    enctype: 'application/json',\n    body: JSON.stringify({\n      name: folderName,\n    }),\n  })\n    .then(handleFetch)\n    .then(onSuccess('Carpeta creada con exito!'))\n    .catch(onError);\n};\n\n/**\n *\n * Usuario:\n * Añadir chart con los tipos de archivos subidos por el usuario\n * Añadir archivos subidos por el usuario\n * Uso total del servidor\n *\n * Backend\n * Comprobacion de los datos\n * Generar reporters\n * Estadisticas generales y especificas\n */\n\n/**\n * Admin:\n * Añadir chart con los tipos de archivos subidos al sistema\n * Añadir memiria total del servidor\n * Usuarios por nivel\n * Total de usuarios\n */\n\n/**\n * Milcelaneos\n * Hacer que el reproductor funcione en segundo plano\n */\n","import React from 'react';\nimport Link from '@material-ui/core/Link';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport CardActions from '@material-ui/core/CardActions';\nimport Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { reactLink } from '../SF/helpers';\nimport backgroundimg1 from '../SF/Media/background_study_by_hibelton_dc28kuo-fullview.jpg';\n\nconst useStyles = makeStyles((theme) => ({\n  box: {\n    gridColumnStart: '1',\n    gridColumnEnd: '3',\n    gridRowStart: '1',\n    gridRowEnd: '3',\n    backgroundImage: `url(${backgroundimg1})`,\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    [theme.breakpoints.down('xs')]: {\n      gridColumnStart: '1',\n      gridColumnEnd: '2',\n      gridRowStart: '1',\n      gridRowEnd: '4',\n      \n    },\n  },\n  card: { minWidth: 275 },\n  title: { fontSize: 14 },\n  pos: { marginBottom: 12 },\n  grow: { flexGrow: 1 },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)',\n  },\n}));\n\nconst RequireLogin = () => {\n  const classes = useStyles();\n  return (\n    <Box\n      textAlign=\"center\"\n      display=\"flex\"\n      width={1}\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      className={classes.box}\n    >\n      <Card className={classes.card}>\n        <CardContent>\n          <Typography variant=\"h5\" component=\"h2\">\n            Lo sentimos!\n          </Typography>\n          <Typography variant=\"body2\" component=\"p\">\n            Debes iniciar sesión para visitar esta página.\n          </Typography>\n        </CardContent>\n        <CardActions>\n          <Link component={reactLink} to=\"/login\" underline=\"none\">\n            <Box fontWeight=\"fontWeightBold\">Inicia Sesión</Box>\n          </Link>\n          <div className={classes.grow} />\n          <Link component={reactLink} to=\"/register\" underline=\"none\">\n            <Box fontWeight=\"fontWeightBold\">Registrarte</Box>\n          </Link>\n        </CardActions>\n      </Card>\n    </Box>\n  );\n};\n\nexport default RequireLogin;\n","/**\n * @typedef {import('./typedefs.jsx').store} store\n * @typedef {import('./typedefs.jsx').key} key\n */\nimport React, { createContext, useReducer } from 'react';\n\n// archivo a reproducir, carpeta actual, tema, busqueda\n\n/** @type {store} */\nconst initialValue = {\n  user: {\n    id: '',\n    usuario: '',\n    nombre: '',\n    apellido: '',\n    pregunta1: 0,\n    pregunta2: 0,\n    desde: '',\n    nivel: 0,\n  },\n  playing: 0,\n  folder: 0,\n  history: [],\n  theme: false,\n  search: '',\n  logStatus: 1,\n  mobileOpen: false,\n};\n\n/** @params {logStatus}\n * 0 logof\n * 1 loging in\n * 2 loged in\n * */\n\n/** Store */\nconst saduwux = createContext(initialValue);\nconst Provider = saduwux.Provider;\n\n/** @type {function} */\nconst reducer = (state, action) => {\n  const { payload, type } = action;\n  if (payload && typeof payload.theme !== 'undefined') {\n    localStorage.setItem('theme', payload.theme || '');\n  }\n  switch (type) {\n    case 'update': {\n      const newState = { ...state, ...payload };\n      return newState;\n    }\n    case 'login': {\n      const newState = { ...state, ...payload, logStatus: 2 };\n      return newState;\n    }\n    case 'moveForward': {\n      const newState = {\n        ...state,\n        history: [...state.history, state.folder],\n        folder: payload,\n      };\n      return newState;\n    }\n    case 'moveBack': {\n      const newState = { ...state };\n      newState.folder = state.history.pop();\n      return newState;\n    }\n    case 'moveHome': {\n      const newState = { ...state, history: [], folder: 0 };\n      return newState;\n    }\n    case 'clean': {\n      const newState = { ...state, search: '' };\n      return newState;\n    }\n    case 'reset':\n    default:\n      localStorage.clear();\n      return { ...initialValue, logStatus: 0 };\n  }\n};\n\n/** Store provider */\nconst StoreProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialValue);\n\n  return <Provider value={{ state, dispatch }}>{children}</Provider>;\n};\n\nexport { StoreProvider, saduwux };\n","import Box from '@material-ui/core/Box';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport { useHistory } from 'react-router-dom';\nimport { getIcon } from '../SF/helpers';\n\nconst useStyles = makeStyles((theme) => ({\n  popper: { zIndex: 10000 },\n  text: { color: 'white' },\n  image: { width: 164, height: 164 },\n  paper: {\n    margin: theme.spacing(1),\n    backgroundColor: 'inherit',\n  },\n  paperMod: {\n    padding: theme.spacing(2),\n    margin: 'auto',\n    maxWidth: 700,\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  file: { margin: '0px 5px 10px', cursor: 'pointer' },\n}));\n\nconst initialState = {\n  open: false,\n  openModal: false,\n  progress: null,\n  total: null,\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'start': {\n      return {\n        ...state,\n        progress: 0,\n        total: action.total,\n      };\n    }\n    case 'add': {\n      const received = state.progress + action.progress;\n      return {\n        ...state,\n        progress: received,\n      };\n    }\n    case 'end': {\n      return {\n        ...state,\n        progress: 0,\n        total: 0,\n      };\n    }\n\n    default: {\n      return { ...state, ...action };\n    }\n  }\n};\n\nconst Files = ({ file, move: { setMovingFile, movingFile }, ...props }) => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const { ino, name, ext, isFile } = file;\n\n  const [state, update] = React.useReducer(reducer, initialState);\n  // const { state: globalState, dispatch } = useContext(saduwux);\n\n  const { updateFolder, updatePlayer } = props;\n  const anchorRef = React.useRef(null);\n  const prevOpen = React.useRef(state.open);\n  const nameToShow =\n    (name.length > 20 ? name.substring(0, 22).trim() + '...': name);\n\n  React.useEffect(() => {\n    if (prevOpen.current && !state.open) {\n      anchorRef.current.focus();\n    }\n    prevOpen.current = state.open;\n  }, [state.open]);\n\n  const handleToggle = () => {\n    if (movingFile) {\n      return;\n    }\n    update({ open: !state.open });\n  };\n\n  const handleClickAway = (event) => {\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return;\n    }\n    update({ open: false });\n  };\n\n  const handleOpenModal = () => {\n    update({ open: false });\n    props.openModal(file);\n  };\n\n  const setFileAsMoving = () => {\n    update({ open: false });\n    setMovingFile(file);\n  };\n\n  const modRep = (id) => {\n    updatePlayer(id);\n    history.push('/reproductor');\n  }; //changeRep\n\n  const download = async (ino, filename) => {\n    const response = await fetch(`/api/files/${ino}/download`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    });\n    const reader = response.body.getReader();\n    const chunks = [];\n\n    update({ type: 'start', total: +response.headers.get('Content-Length') });\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      const { done, value } = await reader.read();\n\n      if (done) {\n        break;\n      }\n      chunks.push(value);\n      update({ type: 'add', progress: value.length });\n    }\n\n    const blob = new Blob(chunks);\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a); // we need to append the element to the dom -> otherwise it will not work in firefox\n    a.click();\n    a.remove(); //afterwards we remove the element again\n  };\n\n  const handleListKeyDown = (event) => {\n    if (event.index === 'Tab') {\n      event.preventDefault();\n      update({ open: true });\n    }\n  };\n\n  const content = (\n    <Paper color=\"primary\" elevation={0} className={classes.paper}>\n      <img src={getIcon(isFile, ext)} alt={ext} width=\"64\" height=\"64\" />\n      <Typography\n        variant=\"body2\"\n        className={props.useTheme ? classes.text : ''}\n        style={{ overflowWrap: 'anywhere' }}\n        //noWrap=\"true\"\n      >\n        {nameToShow}{!ext && ext!=='~' ? `.${ext}` : ''}\n      </Typography>\n    </Paper>\n  );\n\n  const opacity = () => (movingFile && ino === movingFile.ino ? '0.6' : '1');\n\n  if (!isFile) {\n    return (\n      <Grid item xs={4} sm={3} md={2} lg={1} className={classes.modal}>\n        <Box\n          onClick={() => updateFolder(ino)}\n          onContextMenu={(e) => e.preventDefault()}\n          textAlign=\"center\"\n          className={classes.file}\n        >\n          {content}\n        </Box>\n      </Grid>\n    );\n  }\n  return (\n    <Grid\n      style={{ height: '120px', opacity: opacity() }}\n      item\n      xs={4}\n      sm={3}\n      md={2}\n      lg={1}\n    >\n      <Box textAlign=\"center\" className={classes.file}>\n        <Box\n          ref={anchorRef}\n          aria-controls={state.open ? 'menu-list-grow' : undefined}\n          aria-haspopup=\"true\"\n          onClick={handleToggle}\n          onContextMenu={(e) => e.preventDefault()}\n        >\n          {content}\n        </Box>\n        <Popper\n          className={classes.popper}\n          open={state.open}\n          anchorEl={anchorRef.current}\n          role={undefined}\n          transition\n          disablePortal\n        >\n          {({ TransitionProps, placement }) => (\n            <Grow\n              {...TransitionProps}\n              style={{\n                transformOrigin:\n                  placement === 'bottom' ? 'center top' : 'center bottom',\n              }}\n            >\n              <Paper>\n                <ClickAwayListener onClickAway={handleClickAway}>\n                  <MenuList\n                    autoFocusItem={state.open}\n                    id=\"menu-list-grow\"\n                    onKeyDown={handleListKeyDown}\n                  >\n                    <MenuItem onClick={() => download(ino, name)}>\n                      Descargar\n                    </MenuItem>\n                    <MenuItem onClick={() => modRep(ino)}>Reproducir</MenuItem>\n                    <MenuItem onClick={() => setFileAsMoving()}>Mover</MenuItem>\n                    <MenuItem onClick={() => handleOpenModal()}>\n                      Información\n                    </MenuItem>\n                  </MenuList>\n                </ClickAwayListener>\n              </Paper>\n            </Grow>\n          )}\n        </Popper>\n      </Box>\n    </Grid>\n  );\n};\n\nexport default Files;\n","import Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport React from 'react';\nimport { getIcon } from '../../SF/helpers';\nimport { makeStyles } from '@material-ui/core';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Dialog from '@material-ui/core/Dialog';\n\nconst useStyles = makeStyles((theme) => ({\n  image: { width: 164, height: 164, margin: 'auto' },\n  paperMod: {\n    padding: theme.spacing(2),\n    paddingTop: 0,\n    margin: 'auto',\n    maxWidth: 700,\n    [theme.breakpoints.down('xs')]: {\n      maxWidth: 300,\n    },\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n}));\n\nconst FileInfoModal = ({ file, handleClose, open }) => {\n  const classes = useStyles();\n  const date = new Date(file.lastModified || file.birthtime).toLocaleString(\n    'es-VE'\n  );\n  if (!file) return '';\n  else\n    return (\n      <Dialog\n        open={open}\n        className={classes.modal}\n        onClose={() => handleClose()}\n      >\n        <DialogTitle id=\"file-dialog-title\" style={{ textAlign: 'center' }}>\n          Información del archivo\n        </DialogTitle>\n        {/*-------------------------GRID----------------------------*/}\n        <Paper className={classes.paperMod}>\n          <Grid container spacing={1}>\n            <Grid item xs={12} sm={4}>\n              <div className={classes.image}>\n                <img\n                  src={getIcon(file.isFile, file.ext)}\n                  alt={file.ext}\n                  width=\"164\"\n                  height=\"164\"\n                />\n              </div>\n            </Grid>\n            <Grid item xs={12} sm={8} container>\n              <Grid item xs={12} container direction=\"row\" spacing={2}>\n                <Grid item xs={12}>\n                  <Typography variant=\"body2\" color=\"textSecondary\">\n                    Nombre:\n                  </Typography>\n                  <Typography\n                    gutterBottom\n                    variant=\"subtitle1\"\n                    style={{ wordWrap: 'break-word', maxWidth: '380px'}}\n                  >\n                    {file.name}\n                  </Typography>\n                </Grid>\n                <Grid item xs={8}>\n                  <Typography variant=\"body2\" color=\"textSecondary\">\n                    Subido por:\n                  </Typography>\n                  <Typography gutterBottom variant=\"subtitle1\">\n                    {file.upBy}\n                  </Typography>\n                  <Typography variant=\"body2\" color=\"textSecondary\">\n                    Última modificación:\n                  </Typography>\n                  <Typography gutterBottom variant=\"subtitle1\">\n                    {date}\n                  </Typography>\n                </Grid>\n                <Grid item xs={4}>\n                  <Typography variant=\"body2\" color=\"textSecondary\">\n                    Tamaño:\n                  </Typography>\n                  <Typography gutterBottom variant=\"subtitle1\">\n                    {file.size}\n                  </Typography>\n                  <Typography variant=\"body2\" color=\"textSecondary\">\n                    Nivel\n                  </Typography>\n                  <Typography gutterBottom variant=\"subtitle1\">\n                    {file.nivel}\n                  </Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Paper>\n      </Dialog>\n    );\n};\n\nexport default FileInfoModal;\n","import { Paper, Dialog, DialogTitle, makeStyles } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport BackupIcon from '@material-ui/icons/Backup';\nimport React from 'react';\nimport { getIcon } from '../../SF/helpers';\nimport { useReducer, useContext } from 'react';\nimport { saduwux } from '../../SF/Context';\nimport path from 'path';\n\nconst useStyles = makeStyles((theme) => ({\n  root: { flexGrow: 1 },\n  title: { flexGrow: 1, textAlign: 'center' },\n  input: { \n    display: 'none' ,\n  },\n  toolbar: { maxHeight: '64px', position: 'static' },\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  darkFocused: {\n    '& .Mui-focused':{\n      color: 'rgb(255, 255, 255)'\n    },\n    '& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline':{\n      borderColor: 'rgba(255, 255, 255, 0.7)',\n    },\n  },\n  paperMod: {\n    padding: theme.spacing(2),\n    maxWidth: 700,\n    textAlign: 'center',\n  },\n}));\n\nconst initialState = {\n  fileField: '',\n  fileFieldName: '',\n  originalName: '',\n  ext: '',\n};\n\nconst reducer = (state, action) => {\n  return { ...state, ...action };\n};\n\nconst reg = new RegExp('[!\"#$%&\\'()*+,./:;<=>?@[\\\\]^`{|}~]+', 'g');\nconst pattern = new RegExp('^[\\\\w\\\\s\\\\-]*$', 'i');\n\nconst UploadFileModal = ({ open, handleClose }) => {\n  const classes = useStyles();\n  const [state, update] = useReducer(reducer, initialState);\n  const { state: { theme } } = useContext(saduwux);\n\n  React.useEffect(() => {\n    update(initialState);\n  }, [open])\n\n  const cleanState = () => {\n    update({\n      fileFieldName: state.originalName,\n    });\n  }\n\n  const accept = () => {\n    if (!state.fileFieldName.length){\n      return;\n    }\n    handleClose(state, true)\n  }\n\n  const onChange = (e) => {\n    const fileName = e.target.files[0].name.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\n    let _ext = path.extname(fileName);\n    const nombre = path.basename(fileName, _ext);\n    _ext = _ext.substring(1);\n    \n    update({\n      fileField: e.target.files[0],\n      ext: _ext,\n      fileFieldName: nombre.replace(reg,''),\n      originalName: nombre.replace(reg, ''),\n    });\n  };\n\n  const changeName = (e) => {\n    if (e.target.value.match(pattern)) {\n      update({ fileFieldName: e.target.value });\n    }\n  }\n\n  const handleLocalClose = () => {\n    update({fileField: null});\n    handleClose('', true)\n  }\n\n  if (!open) return '';\n  else\n    return (\n      <Dialog\n        open={open}\n        className={classes.modal}\n        onClose={e => {console.log(e); handleLocalClose()}}\n      >\n        <DialogTitle id=\"file-dialog-title\" className={classes.title}>\n          {!state.fileField\n            ? 'Selecciona un archivo...'\n            : 'Información del archivo'}\n        </DialogTitle>\n        <Paper className={classes.paperMod}>\n          <Grid>\n            <ModalContent\n              className={classes}\n              state={state}\n              theme={theme}\n              changeName={changeName}\n              onChange={onChange}\n              cleanState={cleanState}\n              handleClose={accept}\n            />\n          </Grid>\n        </Paper>\n      </Dialog>\n    );\n};\n\nconst ModalContent = (props) => {\n  const {\n    className: classes,\n    state,\n    theme,\n    changeName,\n    onChange,\n    cleanState,\n    handleClose,\n  } = props;\n\n  if (!state.fileField) {\n    return (\n      <Grid item container xs={12} justify=\"center\">\n        <Grid item xs={12}>\n          <input\n            accept=\"/*\"\n            onChange={(e) => onChange(e)}\n            className={classes.input}\n            id=\"icon-button-file\"\n            type=\"file\"\n          />\n          <label htmlFor=\"icon-button-file\">\n            <IconButton\n              color={theme ? '' : 'primary'}\n              aria-label=\"upload picture\"\n              component=\"span\"\n            >\n              <BackupIcon style={{ fontSize: 164 }} />\n            </IconButton>\n          </label>\n        </Grid>\n      </Grid>\n    );\n  }\n  return (\n    <Grid item container xs={12} justify=\"center\">\n      <Grid item>\n        <img\n          src={getIcon(true, state.ext)}\n          width=\"164\"\n          height=\"164\"\n          alt=\"file\"\n        />\n      </Grid>\n      <Grid item xs={12}>\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n          Nombre:\n        </Typography>\n        <TextField\n          fullWidth\n          value={state.fileFieldName}\n          error={!state.fileFieldName.length}\n          variant=\"outlined\"\n          className={theme ? classes.darkFocused : ''}\n          onChange={changeName}\n          inputProps={{\n            maxLength: 64\n          }}\n        />\n      </Grid>\n      <Grid item xs={6} style={{ paddingTop: '15px' }}>\n        <Button variant=\"contained\" color=\"secondary\" onClick={cleanState}>\n          Nombre original\n        </Button>\n      </Grid>\n      <Grid item xs={6} style={{ paddingTop: '15px' }}>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={handleClose}\n          disabled={!state.fileFieldName.length}\n        >\n          Aceptar\n        </Button>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default UploadFileModal;\n","/**\n * @typedef {import('../SF/typedefs.jsx').file} file\n * @typedef {import('../SF/typedefs.jsx').searchState} initialState\n * @typedef {import('../SF/typedefs.jsx').inputFile} inputFile\n * @typedef {import('../SF/typedefs.jsx').context} context\n */\nimport AppBar from '@material-ui/core/AppBar';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport CachedIcon from '@material-ui/icons/Cached';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport HomeIcon from '@material-ui/icons/Home';\nimport CreateNewFolderIcon from '@material-ui/icons/CreateNewFolder';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport React, { useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { saduwux } from '../SF/Context';\nimport { handleFetch, postFile, newFolder } from '../SF/helpers';\nimport Files from './Files';\nimport FileInfoModal from './Modals/FileInfoModal';\nimport UploadFileModal from './Modals/UploadFileModal';\nimport SendIcon from '@material-ui/icons/Send';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport Paper from '@material-ui/core/Paper';\nimport Dialog from '@material-ui/core/Dialog';\nimport TextField from '@material-ui/core/TextField';\nimport { getIcon } from '../SF/helpers';\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    overflow: 'auto',\n    display: 'grid',\n    gridTemplateRows: '48px 1fr',\n    width: '100%',\n  },\n  anotherRow: {\n    gridTemplateRows: '48px 1fr 48px',\n  },\n  peachColor: { backgroundColor: '#fff9c4' },\n  bar: {\n    position: 'sticky',\n  },\n  title: { flexGrow: 1, textAlign: 'center' },\n  input: { display: 'none' },\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    flexGrow: 1,\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paperMod: {\n    padding: theme.spacing(2),\n    margin: 'auto',\n    maxWidth: 700,\n    textAlign: 'center',\n  },\n  darkFocused: {\n    '& .Mui-focused':{\n      color: 'rgb(255, 255, 255)'\n    },\n    '& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline':{\n      borderColor: 'rgba(255, 255, 255, 0.7)',\n    },\n  },\n  sectionDesktop: {\n    [theme.breakpoints.down('xs')]: {\n      display: 'none',\n    },\n  },\n  sectionMobile: {\n    [theme.breakpoints.down('xs')]: {\n      textAlign: 'center',\n      '& .MuiIconButton-edgeStart': {\n        margin: 0,\n      },\n    },\n  },\n  movingBar: {\n    width: '100%',\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between',\n    padding: '0.25rem 1rem',\n    borderTop: '1px solid grey',\n  },\n  inline: { display: 'inline' },\n  hideOnBig: {\n    display: 'none',\n    [theme.breakpoints.down('xs')]: {\n      display: 'inline-block',\n    },\n  },\n}));\n\nconst Alert = (props) => {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n};\n\n/** @type {initialState} */\nconst initialState = {\n  open: false,\n  message: '',\n  severity: '',\n  fileForModal: '',\n  uploadModal: false,\n  files: null,\n  shouldUpdate: false,\n  movingFile: '',\n  isMoving: false,\n  folderModal: false,\n  folderName: 'Nueva Carpeta',\n};\n\nconst reducer = (state, action) => {\n  return {\n    ...state,\n    ...action,\n  };\n};\n\nconst Search = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const [state, update] = React.useReducer(reducer, initialState);\n  /**@type {context} */\n  const { state: globalState, dispatch } = useContext(saduwux);\n\n  React.useEffect(() => {\n    if (state.shouldUpdate) {\n      update({shouldUpdate: false, files: null})\n      return;\n    }\n    const headers = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    };\n\n    fetch(`/api/files/${globalState.folder}/files`, headers)\n      .then(handleFetch)\n      .then((response) => {\n        update({\n          files: sort(response)\n        });\n      })\n      .catch((mistake) => {\n        update({\n          open: true,\n          message: mistake.message,\n          severity: 'error',\n        });\n      });\n  }, [globalState.folder, state.shouldUpdate]);\n\n  /**--------------------- Navigators ----------------------*/\n  /** Goes one folder up if possible */\n  const goBack = () =>\n    globalState.history.length && dispatch({ type: 'moveBack' });\n  /** Goes one folder in */\n  const updateFolder = (ino) => {\n    dispatch({ type: 'moveForward', payload: ino });\n  }\n  /** Redirects to the player */\n  const updatePlayer = (ino) => {\n    dispatch({ type: 'update', payload: { playing: ino } });\n    history.push('/reproductor');\n  };\n  /** Goes to the root directory */\n  const goHome = () => dispatch({ type: 'moveHome' });\n\n  /**--------------------- Navigators ----------------------*/\n\n  const handleFileModal = (file = '') => {\n    update({ fileForModal: file });\n  };\n\n  /**\n   * Toggle the upload modal,\n   * if closing and data was retrieved it's sent to the server\n   * @param {inputFile} data la informacion provemiente del dialog\n   * @param {boolean} closing si se está cerrando desde el dialog\n   */\n  const handleUploadModal = (data, closing = false) => {\n    if (!data && !closing) {\n      update({ uploadModal: true });\n \n    } else if (data) {\n      uploadFile({\n        ...data,\n        folder: globalState.folder\n      });\n    }\n    if (closing) {\n      update({ uploadModal: false});\n    }\n  };\n\n  /** Closes the snackbar\n   * @param {object} event\n   * @param {string} reason\n   */\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') return;\n    update({ open: false, folderModal: false, folderName: 'Nueva carpeta'});\n  };\n\n  /**\n   * @param {inputFile} fileToPost The data to be posted\n   */\n  const onSuccess = (mensaje) => {\n    update({\n      shouldUpdate: true,\n      open: true,\n      folderModal: false,\n      folderName: 'Nueva carpeta',\n      message: mensaje,\n      severity: 'success',\n    });\n  };\n\n  const folderNameChange = (e) => {\n    const pattern = new RegExp('^[\\\\w\\\\s\\\\-]*$', 'i');\n    if (e.target.value.match(pattern)) {\n      update({ folderName: e.target.value });\n    }\n  }\n\n  const onError = (mistake) => update({ open: true, message: mistake.message });\n\n  const uploadFile = (fileToPost) => {\n    postFile(fileToPost, onSuccess, onError);\n  };\n\n  /** Mover archivos */\n  const setMovingFile = (ino) => {\n    update({ movingFile: ino });\n  };\n  const cancelMoving = () => {\n    update({ movingFile: null });\n  };\n  const moveFile = () => {\n    const headers = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    };\n    update({ isMoving: true });\n    fetch(`/api/files/${globalState.folder}/${state.movingFile.ino}`, headers)\n      .then(handleFetch)\n      .then((res) => {\n        update({\n          shouldUpdate: true,\n          movingFile: '',\n          open: true,\n          message: res.message,\n          severity: 'success',\n          isMoving: false,\n        });\n      })\n      .catch((error) => {\n        update({\n          open: true,\n          movingFile: '',\n          message: error.message,\n          severity: 'error',\n          isMoving: false,\n        });\n      });\n    // fetch state.moving file => globalState.folder\n  };\n  /** */\n\n  const items = () => {\n    const regex = new RegExp(globalState.search, 'gi');\n    return state.files.reduce((filtered, file, index) => {\n      if (!file.name.match(regex)) {\n        return filtered;\n      }\n      const temp = (\n        <Files\n          openModal={handleFileModal}\n          useTheme={globalState.theme}\n          updatePlayer={updatePlayer}\n          updateFolder={updateFolder}\n          move={{ setMovingFile, movingFile: state.movingFile }}\n          key={index}\n          file={file}\n        />\n      );\n      return [...filtered, temp];\n    }, []);\n  };\n\n  const mainClass = () => {\n    let className = classes.main;\n    if (state.movingFile) className += ` ${classes.anotherRow}`;\n    if (!globalState.theme) className += ` ${classes.peachColor}`;\n    return className;\n  };\n\n  return (\n    <React.Fragment>\n      <Box className={mainClass()} component=\"main\">\n        <AppBar component=\"div\" color=\"secondary\" className={classes.bar}>\n          <Toolbar variant=\"dense\">\n            <Grid container alignItems=\"center\">\n              <Grid\n                className={classes.sectionMobile}\n                container\n                item\n                xs={12}\n                sm={3}\n                md={2}\n                lg={2}\n              >\n                <Grid item xs sm={3}>\n                  <IconButton\n                    edge=\"start\"\n                    disabled={!globalState.history.length}\n                    onClick={goBack}\n                    color=\"inherit\"\n                    aria-label=\"menu\"\n                  >\n                    <ArrowBackIcon />\n                  </IconButton>\n                </Grid>\n                <Grid item xs sm={3}>\n                  <IconButton\n                    edge=\"start\"\n                    color=\"inherit\"\n                    aria-label=\"menu\"\n                    onClick={() => update({ shouldUpdate: true })}\n                  >\n                    <CachedIcon />\n                  </IconButton>\n                </Grid>\n                <Grid item xs sm={3}>\n                  <IconButton\n                    edge=\"start\"\n                    onClick={goHome}\n                    color=\"inherit\"\n                    aria-label=\"menu\"\n                  >\n                    <HomeIcon />\n                  </IconButton>\n                </Grid>\n                <Grid item xs sm={3}>\n                  <IconButton\n                    edge=\"start\"\n                    onClick={() => update({ folderModal: true })}\n                    color=\"inherit\"\n                    aria-label=\"menu\"\n                  >\n                    <CreateNewFolderIcon />\n                  </IconButton>\n                </Grid>\n                <Grid item xs className={classes.hideOnBig}>\n                  <IconButton\n                    edge=\"start\"\n                    onClick={() => handleUploadModal()}\n                    color=\"inherit\"\n                    aria-label=\"upload\"\n                  >\n                    <CloudUploadIcon />\n                  </IconButton>\n                </Grid>\n              </Grid>\n              <Grid\n                item\n                className={classes.sectionDesktop}\n                sm={7}\n                md={7}\n                lg={9}\n              >\n                <Box display=\"flex\">\n                  <Typography variant=\"h6\" className={classes.title}>\n                    Puedes acceder desde {window.location.origin}\n                  </Typography>\n                </Box>\n              </Grid>\n              <Grid\n                item\n                className={classes.sectionDesktop}\n                sm={2}\n                md={2}\n                lg={1}\n                style={{ textAlign: 'end' }}\n              >\n                <Button\n                  color=\"inherit\"\n                  startIcon={<CloudUploadIcon />}\n                  component=\"span\"\n                  onClick={() => handleUploadModal()}\n                >\n                  Subir\n                </Button>\n              </Grid>\n            </Grid>\n          </Toolbar>\n        </AppBar>\n        <Grid container className={classes.inline}>\n          {!state.files || state.shouldUpdate ? <LinearProgress /> : ''}\n          <div className={classes.container}>{state.files ? items() : ''}</div>\n        </Grid>\n        <MovingBar\n          movingFile={state.movingFile}\n          className={classes.movingBar}\n          move={moveFile}\n          cancel={cancelMoving}\n          theme={globalState.theme}\n          isMoving={state.isMoving}\n        />\n      </Box>\n        <Dialog\n          open={state.folderModal}\n          className={classes.modal}\n          onClose={() => handleClose(state, true)}\n        >\n          <Paper className={classes.paperMod}>\n            <Grid item container xs={12} justify=\"center\">\n              <Grid item>\n                <img src={getIcon(false)} width=\"164\" height=\"164\" alt=\"file\" />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  fullWidth\n                  value={state.folderName}\n                  variant=\"outlined\"\n                  style={{ textAlign: 'center' }}\n                  onChange={folderNameChange}\n                  className={globalState.theme ? classes.darkFocused : ''}\n                />\n              </Grid>\n              <Grid item xs={12} style={{ paddingTop: '15px' }}>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={() =>\n                    newFolder(\n                      state.folderName,\n                      globalState.folder,\n                      onSuccess,\n                      onError\n                    )\n                  }\n                >\n                  Aceptar\n                </Button>\n              </Grid>\n            </Grid>\n          </Paper>\n        </Dialog>\n      <FileInfoModal\n        open={!!state.fileForModal}\n        file={state.fileForModal}\n        handleClose={handleFileModal}\n      />\n      <UploadFileModal\n        open={state.uploadModal}\n        handleClose={handleUploadModal}\n      />\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'right',\n        }}\n        open={state.open}\n        onClose={handleClose}\n        autoHideDuration={3000}\n      >\n        <Alert onClose={handleClose} severity={state.severity}>\n          {state.message}\n        </Alert>\n      </Snackbar>\n    </React.Fragment>\n  );\n};\n\nconst MovingBar = ({\n  movingFile: file,\n  className,\n  move,\n  cancel,\n  theme,\n  isMoving,\n}) => {\n  if (!file) {\n    return '';\n  }\n  const spanClass = makeStyles(() => ({\n    button: {\n      '& .MuiButton-endIcon, & .MuiButton-startIcon': {\n        marginTop: '-5px',\n      },\n    },\n    typo: {\n      color: theme ? '#fff' : 'rgba(0, 0, 0, 0.87)',\n    },\n  }))();\n\n  const { name, ext } = file;\n  const nameToShow =\n    name.length > 30 ? name.substring(0, 27).trim() + '...' + ext : name;\n\n  return (\n    <div className={className}>\n      <Typography variant=\"h6\" className={spanClass.typo}>\n        Moviendo: {nameToShow}\n      </Typography>\n      <div>\n        <Button\n          disableElevation\n          disabled={isMoving}\n          onClick={() => cancel()}\n          size=\"large\"\n          startIcon={<CancelIcon />}\n          className={spanClass.button}\n        >\n          Cancelar\n        </Button>\n        <Button\n          disableElevation\n          disabled={isMoving}\n          onClick={() => move()}\n          size=\"large\"\n          endIcon={<SendIcon />}\n          className={spanClass.button}\n        >\n          Mover aquí\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default Search;\n\n/**\n * @param {file[]} arr\n */\nconst sort = (arr) => {\n  arr.sort(byName);\n  arr.sort(byFileType);\n  return arr;\n}; //Sort\n/**\n * Sort by name\n * @param {file} a\n * @param {file} b\n */\nconst byName = (a, b) => a.name.localeCompare(b.name); //By name\n/**\n * Sort by extension\n * @param {file} a\n * @param {file} b\n */\nconst byFileType = (a, b) => a.ext.localeCompare(b.ext);\n","import Card from '@material-ui/core/Card';\nimport Box from '@material-ui/core/Box';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport md5 from 'md5';\nimport Link from '@material-ui/core/Link';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport CloudIcon from '@material-ui/icons/Cloud';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport React, { useContext, useReducer } from 'react';\nimport { useHistory, Redirect } from 'react-router-dom';\nimport { saduwux } from '../SF/Context';\nimport { handleFetch, reactLink } from '../SF/helpers';\nimport backgroundimg1 from '../SF/Media/background_study_by_hibelton_dc28kuo-fullview.jpg';\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    gridColumnStart: '1',\n    gridColumnEnd: '3',\n    gridRowStart: '1',\n    gridRowEnd: '3',\n    display: 'flex',\n    placeContent: 'center',\n    alignItems: 'center',\n    backgroundImage: `url(${backgroundimg1})`,\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? '#cecece' : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n\n    [theme.breakpoints.down('xs')]: {\n      gridColumnStart: '1',\n      gridColumnEnd: '2',\n      gridRowStart: '1',\n      gridRowEnd: '4',\n      '& .MuiCard-root': {\n        maxWidth: 'calc(100vw - 30px)',\n        padding: '1rem'\n      }\n    },\n\n    '& button': {\n      padding: '0.5rem 1rem',\n      fontWeight: '600',\n      margin: '0.25rem 0px',\n      '&.Mui-disabled': {\n        color: 'rgba(0, 0, 0, 0.26)',\n      },\n    },\n    '& .MuiIconButton-root': {\n      padding: 0,\n    },\n    '& .forgot': {\n      width: '100%',\n      textAlign: 'center',\n      color: 'rgba(0,0,0,0.7)',\n      marginTop: '0.5rem',\n      display: 'inline-block'\n    }\n  },\n  box: {\n    padding: '1rem 3rem',\n    backgroundColor: '#fff',\n    borderRadius: '1rem',\n    maxWidth: '400px',\n  },\n  form: {\n    marginTop: '0.5rem',\n    display:\"flex\",\n    flexDirection:\"column\",\n    alignItems:\"center\",\n  },\n}));\n\nconst pattern = {\n  username: new RegExp('^[A-Z0-9]*$', 'i'),\n}\n\nconst Alert = (props) => {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n};\n\n/**\n * updates the state\n * @param {initialState} value The new value to assign to the state\n */\nconst initialState = {\n  open: false,\n  message: '',\n  username: '',\n  password: '',\n  isLoading: false,\n  severity: 'success',\n};\n\nconst reducer = (state, action) => {\n  return { ...state, ...action };\n};\n\nconst Login = () => {\n  const history = useHistory();\n  const classes = useStyles();\n  const [state, update] = useReducer(reducer, initialState);\n  const { state: global, dispatch } = useContext(saduwux);\n\n  React.useEffect(() => {\n    if(global.logStatus !== 2){\n      localStorage.clear();\n      dispatch({\n        type: 'update',\n        payload: {\n          logStatus: 0,\n          theme: false\n        }\n      });\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (global.logStatus === 2 && !state.isLoading) {\n    return (\n      <Redirect to=\"/busqueda\"/>\n    );\n  }\n\n  const invalid = () => {\n    const { username, password } = state;\n    return username.length < 3|| password.length < 6;\n  };\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n    if (invalid()) {\n      return;\n    }\n\n    const { username, password } = state;\n    update({ isLoading: true });\n    fetch('/api/users/login', {\n      method: 'post',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        usuario: username,\n        password: md5(password),\n      }),\n    })\n      .then(handleFetch)\n      .then((data) => {\n        localStorage.setItem('token', 'bearer ' + data.token);\n        dispatch({\n          type: 'login',\n          payload: {\n            user: data.user,\n          },\n        });\n        update({\n          open: true,\n          message: 'Inicio de sesión exitoso!',\n          severity: 'success',\n        });\n        setTimeout(() => history.push('/busqueda'), 500);\n      })\n      .catch((error) => {\n        update({\n          open: true,\n          message: error.message,\n          isLoading: false,\n          severity: 'error',\n        });\n      });\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    update({ open: false });\n  };\n\n  const handleInput = ({ target }) => {\n    if(!pattern[target.id] || target.value.trim().match(pattern[target.id])){\n      update({ [target.id]: target.value.trim() });\n    }\n  };\n\n  return (\n    <Box component=\"main\" className={classes.main}>\n      <Card className={classes.box}>\n        <CardContent className=\"center\">\n          <Box\n            display=\"flex\"\n            flexDirection=\"column\"\n            alignItems=\"center\"\n          >\n            <IconButton>\n              <CloudIcon color=\"primary\" style={{ fontSize: '4rem' }} />\n            </IconButton>\n            <Typography color=\"secondary\" component=\"h2\" variant=\"h4\">\n              Cloudster\n            </Typography>\n            <Typography component=\"h6\" variant=\"h6\">\n              Inicia Sesión\n            </Typography>\n          </Box>\n          <Divider />\n          <form\n            className={classes.form}\n            autoComplete=\"off\"\n            onSubmit={handleLogin}\n          >\n            <Box>\n              <TextField\n                value={state.username}\n                onChange={handleInput}\n                id=\"username\"\n                label=\"Nombre de usuario\"\n                variant=\"outlined\"\n                margin=\"normal\"\n                required\n                fullWidth\n                autoFocus\n                disabled={state.isLoading}\n                inputProps={{\n                  maxLength: 16\n                }}\n              />\n              <TextField\n                value={state.password}\n                onChange={handleInput}\n                id=\"password\"\n                label=\"Contraseña\"\n                variant=\"outlined\"\n                margin=\"normal\"\n                required\n                fullWidth\n                type=\"password\"\n                disabled={state.isLoading}\n                inputProps={{\n                  maxLength: 16\n                }}\n              />\n            </Box>\n            <Button\n              disabled={state.isLoading || invalid()}\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              size=\"large\"\n              type=\"submit\"\n            >\n              Iniciar Sesión\n            </Button>\n            <Link to=\"/register\" style={{ width: '100%' }} component={reactLink}>\n              <Button\n                fullWidth\n                variant=\"outlined\"\n                size=\"large\"\n                color=\"secondary\"\n                type=\"button\"\n              >\n                Registrarse\n              </Button>\n            </Link>\n            <Link\n              component={reactLink}\n              to=\"/recover\"\n              className=\"forgot\"\n            >\n              Olvidé mi contraseña\n            </Link>\n          </form>\n        </CardContent>\n      </Card>\n\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        open={state.open}\n        onClose={handleClose}\n        autoHideDuration={6000}\n      >\n        <Alert onClose={handleClose} severity={state.severity}>\n          {state.message}\n        </Alert>\n      </Snackbar>\n    </Box>\n  );\n};\n\nexport default Login;\n","import Card from '@material-ui/core/Card';\nimport Box from '@material-ui/core/Box';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Divider from '@material-ui/core/Divider';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport Link from '@material-ui/core/Link';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Stepper from '@material-ui/core/Stepper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport CloudIcon from '@material-ui/icons/Cloud';\nimport React, { useContext, useReducer } from 'react';\nimport md5 from 'md5';\nimport { useHistory, withRouter, Redirect } from 'react-router-dom';\nimport { saduwux } from '../SF/Context';\nimport { handleFetch, reactLink } from '../SF/helpers';\nimport backgroundimg1 from '../SF/Media/background_study_by_hibelton_dc28kuo-fullview.jpg';\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    gridColumnStart: '1',\n    gridColumnEnd: '3',\n    gridRowStart: '1',\n    gridRowEnd: '3',\n    display: 'flex',\n    placeContent: 'center',\n    alignItems: 'center',\n    flexDirection: 'column',\n    maxWidth: 'auto',\n    backgroundImage: `url(${backgroundimg1})`,\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? '#cecece' : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n\n    [theme.breakpoints.down('xs')]: {\n      gridColumnStart: '1',\n      gridColumnEnd: '2',\n      gridRowStart: '1',\n      gridRowEnd: '4',\n      '& .MuiCard-root': {\n        maxWidth: 'calc(100vw - 30px)',\n        padding: '1rem'\n      }\n    },\n    '& .MuiIconButton-root': {\n      padding: 0,\n    },\n  },\n  box: {\n    padding: '1rem 3rem',\n    backgroundColor: '#fff',\n    borderRadius: '1rem',\n    maxWidth: '100%',\n  },\n  form: {\n    margin: '0',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  backButton: {\n    color: 'rgba(0, 0, 0, 0.8)',\n    borderColor: 'rgba(0, 0, 0, 0.8)'\n  },\n  bottonContainer: {\n    marginTop: '1rem',\n    display: 'flex',\n    placeContent: 'space-between',\n\n    '& button': {\n      padding: '0.5rem 1rem',\n      fontWeight: '600',\n\n      '&.MuiButton-containedPrimary': {\n        color: '#fff',\n      },\n      '&.Mui-disabled': {\n        color: 'rgba(0, 0, 0, 0.26)',\n      },\n    },\n  },\n  instructions: {\n    width: '275px',\n  },\n  mRight: {\n    flexGrow: 1,\n  },\n}));\n\nconst Alert = (props) => {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n};\n\nconst initialState = {\n  activeStep: 0,\n  touched: false,\n  isLoading: false,\n  user: '',\n  id: '',\n  pregunta1: '',\n  pregunta2: '',\n  respuesta1: '',\n  respuesta2: '',\n  password: '',\n  password2: '',\n  open: false,\n  message: '',\n  severity: 'success',\n};\n\nconst reducer = (state, action) => {\n  if (action) {\n    return { ...state, ...action };\n  }\n\n  switch (state.activeStep) {\n    case 2: {\n      return {\n        ...state,\n        password: '',\n        password2: '',\n        touched: true,\n        activeStep: 1,\n      };\n    }\n    case 1: {\n      return {\n        ...state,\n        pregunta1: '',\n        pregunta2: '',\n        respuesta1: '',\n        respuesta2: '',\n        touched: true,\n        activeStep: 0,\n      };\n    }\n    default:\n      return initialState;\n  }\n};\n\nconst Recover = () => {\n  const classes = useStyles();\n  const steps = ['Usuario', 'Preguntas', 'Contraseña'];\n  const history = useHistory();\n\n  const [state, update] = useReducer(reducer, initialState);\n  const { state: global, dispatch } = useContext(saduwux);\n  \n  React.useEffect(() => {\n    if(global.logStatus !== 2){\n      localStorage.clear();\n      dispatch({\n        type: 'update',\n        payload: {\n          logStatus: 0,\n          theme: false\n        }\n      });\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (global.logStatus === 2 && !state.isLoading) {\n    return (\n      <Redirect to=\"/busqueda\"/>\n    );\n  }\n\n  const invalid = () => {\n    if (!state.touched || state.isLoading) {\n      return true;\n    }\n    switch (state.activeStep) {\n      case 0: {\n        const { user } = state;\n        return !user.length;\n      }\n      case 1: {\n        const { respuesta1, respuesta2 } = state;\n        return !respuesta1.trim().length || !respuesta2.trim().length;\n      }\n      case 2: {\n        const { password, password2 } = state;\n        return (\n          password.length < 6 || password2.length < 6 || password !== password2\n        );\n      }\n      default:\n        break;\n    }\n  };\n\n  const handleUsername = () => {\n    update({ isLoading: true });\n    fetch(`/api/users/${state.user}/questions`)\n      .then(handleFetch)\n      .then(({ usuario, id_usuario, pregunta1, pregunta2 }) => {\n        update({\n          user: usuario.trim(),\n          id_usuario: id_usuario.trim(),\n          pregunta1: pregunta1,\n          pregunta2: pregunta2,\n          activeStep: 1,\n          touched: false,\n          isLoading: false,\n        });\n      })\n      .catch((e) => {\n        update({\n          open: true,\n          message: e.message,\n          severity: 'error',\n          touched: false,\n          isLoading: false,\n        });\n      });\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    update({ open: false });\n  };\n\n  const handleQuestions = () => {\n    update({ isLoading: true });\n    const headers = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        respuesta1: state.respuesta1,\n        respuesta2: state.respuesta2,\n      }),\n    };\n\n    fetch(`/api/users/${state.id_usuario}/questions`, headers)\n      .then(handleFetch)\n      .then((data) => {\n        localStorage.setItem('token', 'bearer ' + data.token);\n        update({\n          activeStep: 2,\n          touched: false,\n          isLoading: false,\n        });\n      })\n      .catch((e) => {\n        update({\n          open: true,\n          message: e.message,\n          severity: 'error',\n          touched: false,\n          isLoading: false,\n        });\n      });\n  };\n\n  const changePassword = () => {\n    update({ isLoading: true });\n    const headers = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n      body: JSON.stringify({ password: md5(state.password) }),\n    };\n\n    fetch(`/api/users/${state.id_usuario}`, headers)\n      .then(handleFetch)\n      .then((data) => {\n        dispatch({\n          type: 'login',\n          payload: { user: data.user },\n        });\n        localStorage.setItem('token', 'bearer ' + data.token);\n        history.push('/busqueda');\n      })\n      .catch((err) => {\n        update({\n          open: true,\n          message: err.message,\n          severity: 'error',\n          touched: false,\n          isLoading: false\n        });\n      });\n  };\n\n  const handleNext = (event) => {\n    event.preventDefault();\n    if (invalid()) {\n      return;\n    }\n    switch (state.activeStep) {\n      case 2: {\n        changePassword();\n        break;\n      }\n      case 1: {\n        handleQuestions();\n        break;\n      }\n      default: {\n        handleUsername();\n        break;\n      }\n    }\n  };\n\n  const handleBack = () => update();\n\n  const handleChange = (e) =>\n    update({ [e.target.name]: e.target.value, touched: true });\n  const handleChangeTrim = (e) =>\n    update({ [e.target.name]: e.target.value.trim(), touched: true });\n\n  /** @param {number} step */\n  const getStepContent = (step) => {\n    switch (step) {\n      case 0:\n        return (\n          <TextField\n            name=\"user\"\n            value={state.user}\n            onChange={handleChangeTrim}\n            id=\"standard-name\"\n            label=\"Nombre de usuario\"\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            autoFocus\n            inputProps={{\n              maxLength: 16\n            }}\n          />\n        );\n      case 1:\n        return (\n          <Box>\n            <TextField\n              name=\"respuesta1\"\n              value={state.respuesta1}\n              onChange={handleChange}\n              id=\"respuesta1\"\n              label=\"Respuesta #1\"\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              autoFocus\n              helperText={state.pregunta1}\n              inputProps={{\n                maxLength: 32\n              }}\n            />\n            <TextField\n              name=\"respuesta2\"\n              value={state.respuesta2}\n              onChange={handleChange}\n              id=\"respuesta2\"\n              label=\"Respuesta #2\"\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              helperText={state.pregunta2}\n              inputProps={{\n                maxLength: 32\n              }}\n            />\n          </Box>\n        );\n      case 2:\n        return (\n          <Box>\n            <TextField\n              name=\"password\"\n              value={state.password}\n              onChange={handleChangeTrim}\n              id=\"password-input\"\n              label=\"Nueva contraseña\"\n              type=\"password\"\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              autoFocus\n              inputProps={{\n                maxLength: 16\n              }}\n            />\n            <TextField\n              name=\"password2\"\n              value={state.password2}\n              onChange={handleChangeTrim}\n              id=\"password-confirm-input\"\n              label=\"Confirmar contraseña\"\n              type=\"password\"\n              variant=\"outlined\"\n              margin=\"normal\"\n              fullWidth\n              required\n              inputProps={{\n                maxLength: 16\n              }}\n            />\n          </Box>\n        );\n      default:\n        return <p>Unknown step</p>;\n    }\n  };\n\n  return (\n    <Box component=\"main\" className={classes.main}>\n      <Card className={classes.box}>\n        <CardContent>\n          <Box\n            display=\"flex\"\n            flexDirection=\"column\"\n            alignItems=\"center\"\n          >\n            <Link to=\"/\" component={reactLink}>\n              <IconButton>\n                <CloudIcon color=\"primary\" style={{ fontSize: '4rem' }} />\n              </IconButton>\n            </Link>\n            <Typography color=\"secondary\" component=\"h2\" variant=\"h4\">\n              Cloudster\n            </Typography>\n            <Typography component=\"h6\" variant=\"h6\">\n              Recuperar contraseña\n            </Typography>\n          </Box>\n          <Stepper\n            activeStep={state.activeStep}\n            style={{ padding: '0px 0px 24px' }}\n            alternativeLabel\n          >\n            {steps.map((label) => (\n              <Step key={label}>\n                <StepLabel>{label}</StepLabel>\n              </Step>\n            ))}\n          </Stepper>\n          <Divider />\n          <form\n            autoComplete=\"off\"\n            className={classes.form}\n            onSubmit={handleNext}\n          >\n            <div className={classes.instructions}>\n              {getStepContent(state.activeStep)}\n            </div>\n\n            <Box width={1} className={classes.bottonContainer}>\n              <Button\n                disabled={!state.activeStep || state.isLoading}\n                onClick={handleBack}\n                className={classes.backButton}\n                type=\"button\"\n                variant=\"outlined\"\n              >\n                Volver\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                disabled={invalid()}\n                type=\"submit\"\n              >\n                {state.activeStep === steps.length - 1\n                  ? 'Aceptar'\n                  : 'Siguiente'}\n              </Button>\n            </Box>\n          </form>\n\n          <Divider style={{ margin: '0.5rem 0' }} />\n          <Grid container justify=\"space-between\">\n            <Grid item>\n              <Link component={reactLink} to=\"/login\">\n                Inicias sesión\n              </Link>\n            </Grid>\n            <Grid item>\n              <Link component={reactLink} to=\"/register\" color=\"secondary\">\n                Registrarse\n              </Link>\n            </Grid>\n          </Grid>\n\n        </CardContent>\n      </Card>\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        open={state.open}\n        onClose={handleClose}\n        autoHideDuration={6000}\n      >\n        <Alert onClose={handleClose} severity={state.severity}>\n          {state.message}\n        </Alert>\n      </Snackbar>\n    </Box>\n  );\n};\n\nexport default withRouter(Recover);\n","/**\n * @typedef {import('../SF/typedefs.jsx').context} context\n * @typedef {import('../SF/typedefs.jsx').file} file\n */\nimport Avatar from '@material-ui/core/Avatar';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport { green } from '@material-ui/core/colors';\nimport Divider from '@material-ui/core/Divider';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Grid from '@material-ui/core/Grid';\nimport Link from '@material-ui/core/Link';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport IconButton from '@material-ui/core/IconButton';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SvgIcon from '@material-ui/core/SvgIcon/SvgIcon';\nimport Switch from '@material-ui/core/Switch';\nimport Typography from '@material-ui/core/Typography';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport DescriptionIcon from '@material-ui/icons/Description';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport { useHistory } from 'react-router-dom';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport React, { useContext } from 'react';\nimport { Cell, Label, Legend, Pie, PieChart } from 'recharts';\nimport { saduwux } from '../SF/Context';\nimport { handleFetch, reactLink } from '../SF/helpers';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\n\nconst useStyles = makeStyles((theme) => ({\n  avatar: { backgroundColor: green[500] },\n  main: {\n    overflow: 'auto',\n    height: '100%',\n    '& .card-box': {\n      minWidth: 300,\n      maxWidth: 480,\n      width: '100%',\n      padding: '0 10px',\n      textAlign: 'center',\n      '& .MuiCardHeader-root': {\n        textAlign: 'center',\n      },\n      '& .MuiCard-root': {\n        minWidth: 300,\n        maxWidth: 480,\n        margin: '1rem',\n        width: '100%',\n        height: 'min-content',\n        [theme.breakpoints.down('sm')]: {\n          maxWidth: 'calc(100vw - 1rem)',\n          margin: '1rem 0'\n        },\n        '& .MuiCardContent-root':{\n          '&.files-container': {\n            padding: '0',\n          },\n          '&:last-child': {\n            paddingBottom: 16,\n          },\n        }\n      },\n      '& .center': {\n        display: 'flex',\n        justifyContent: 'center',\n      },\n      '& .MuiButton-containedPrimary': {\n        boxShadow: 'none',\n        marginRight: 10\n      }\n    },\n  },\n  card: {\n    minWidth: 300,\n    maxWidth: 500,\n    margin: 5,\n  },\n  list: {\n    overflow: 'auto',\n    maxHeight: 300,\n  },\n  dark: {\n    backgroundColor: '#393d46',\n    color: '#fff',\n    '& .files': {\n      color: '#4caf50',\n    },\n    '& .MuiButton-containedPrimary': {\n      border: '1px solid #fff',\n    }\n  },\n  dim: {\n    backgroundColor: '#fff9c4',\n    color: 'white',\n    '& .files': {\n      color: '#4caf50',\n    },\n    '& .MuiButton-containedPrimary': {\n      color: '#fff'\n    }\n  },\n}));\n\nconst initialState = {\n  files: [],\n  shouldUpdate: false,\n  totalSize: 0,\n  parsedSize: '',\n  chartData: [],\n};\nconst reducer = (state, action) => {\n  return { ...state, ...action };\n};\n\nconst Profile = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const matches = useMediaQuery((theme) => theme.breakpoints.up('sm'));\n\n  /** @type {context}*/\n  const {\n    state: { user, theme },\n    dispatch,\n  } = useContext(saduwux);\n  const [state, update] = React.useReducer(reducer, initialState);\n\n  /** Algo así para buscar los archivos subidos por el usuario */\n  React.useEffect(() => {\n    fetch(`/api/users/${user.id}/files`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    })\n      .then(handleFetch)\n      .then((response) => update({ ...response, files: sort(response.files) }))\n      .catch(() => {});\n  }, [user.id, state.shouldUpdate]);\n\n  const goToFolder = (dependency) => {\n    dispatch({\n      type: 'update',\n      payload: {\n        folder: dependency,\n        history: []\n      }\n    });\n    history.push('/busqueda');\n  }\n\n  const handleCheck = ({ target }) => {\n    dispatch({\n      type: 'update',\n      payload: { theme: target.checked },\n    });\n  }\n\n  const files = () =>\n    state.files.map((file, index) => {\n      const nameToShow = file.name + (!file.ext && file.ext!=='~' ? `.${file.ext}` : '');\n      return (\n        <React.Fragment key={index}>\n          <ListItem style={{height: 50}}>\n            <ListItemIcon>\n              <SvgIcon component={!file.ext ? FolderIcon : DescriptionIcon} />\n            </ListItemIcon>\n            <ListItemText primary={nameToShow} secondary={null} />\n            <ListItemSecondaryAction>\n              <IconButton\n                style={{padding: 0}}\n                aria-label=\"got-to-containingFolder\"\n                onClick={() => goToFolder(file.dependency)}\n              >\n                <ArrowRightIcon />\n              </IconButton>\n            </ListItemSecondaryAction>\n          </ListItem>\n          <Divider/>\n        </React.Fragment>\n      );\n    });\n\n  const getClasses = () =>{\n    let className = `${classes.main} `;\n    className += theme ? classes.dark : classes.dim;\n    return className;\n  }\n  return (\n    <Grid\n      className={getClasses()}\n      container\n      justify=\"center\"\n    >\n      <Grid\n        container\n        item\n        direction=\"column\"\n        justify=\"center\"\n        alignItems=\"center\"\n        wrap=\"nowrap\"\n        className=\"card-box\"\n      >\n        <Card raised={false}>\n          <CardHeader title=\"Perfil\" />\n          <Divider />\n\n          <CardContent>\n            <Typography variant=\"h3\">\n              {user.usuario}\n            </Typography>\n            <Box m={0.5}>\n              <Box display=\"flex\" justifyContent=\"center\">\n                <Avatar className={classes.avatar}>\n                  {user.nivel}\n                </Avatar>\n              </Box>\n              <Typography color=\"textSecondary\">\n                Nivel de jerarquía\n              </Typography>\n            </Box>\n            <Divider />\n            <Box m={0.5}>\n              <Typography>\n                {user.nombre} {user.apellido}\n              </Typography>\n              <Typography>Miembro desde: {user.desde}</Typography>\n            </Box>\n            <Divider />\n\n            <Box m={0.5}>\n              <Typography>\n                Espacio en el servidor: {state.parsedSize}\n              </Typography>\n              <Typography>\n                Total de archivos subidos: {state.files.length}\n              </Typography>\n            </Box>\n            <Divider />\n\n          </CardContent>\n          <CardActions>\n            <Box mx=\"auto\">\n              <Link\n                component={reactLink}\n                to=\"/configuracion\"\n                underline=\"none\"\n              >\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<SettingsIcon />}\n                >\n                  Configuración\n                </Button>\n              </Link>\n              <FormControlLabel\n                control={\n                  <Switch\n                    checked={theme}\n                    onChange={handleCheck}\n                    value=\"theme\"\n                    color={theme ? 'default' : 'primary'}\n                    inputProps={{ 'aria-label': 'primary checkbox' }}\n                  />\n                }\n                label=\"Cambiar tema\"\n              />\n            </Box>\n          </CardActions>\n        </Card>\n      </Grid>\n      {\n        !state.files.length ? \n        '' : (\n          <Grid \n            container\n            item\n            direction=\"column\"\n            justify=\"center\"\n            alignItems=\"center\"\n            wrap=\"nowrap\"\n            className=\"card-box\"\n          >\n            <Grid item xs={12} style={{width: '100%'}}>\n              <Card raised={false} style={{width: '100%'}}>\n                <CardHeader title=\"Archivos Subidos\" />\n                <Divider />\n                <CardContent className=\"files-container\">\n                  <List className={classes.list} dense={true}>\n                    {files()}\n                  </List>\n                </CardContent>\n              </Card>\n            </Grid>\n            <Grid item xs={12}>\n              <Card raised={false}>\n                <CardHeader title=\"Tipos de Archivos\" />\n                <Divider />\n                <FileChartContent matches={matches} data={state.chartData} />\n              </Card>\n            </Grid>\n          </Grid>\n        )\n      }\n    </Grid>\n  );\n      //   <Box display={{ xs: 'flex', sm: 'none' }}>\n      //     <Toolbar variant=\"dense\" />\n      //   </Box>\n      // </Box>\n};\n\nconst FileChartContent = ({ data, matches }) => {\n  if (!data.length) {\n    return <div></div>;\n  }\n\n  const result = data.reduce((totalValue, ext) => totalValue + ext.value, 0); // Suma de todos los archivos\n  const COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042']; // Colores para el chart\n\n  return (\n    <CardContent>\n      <PieChart\n        width={matches ? 400 : 300}\n        height={300}\n        style={{ fontFamily: 'sans-serif' }}\n      >\n        <Pie\n          data={data}\n          cx={'50%'}\n          cy={'50%'}\n          label\n          innerRadius={'68.9656%'}\n          outerRadius={'80%'}\n          fill=\"#8884d8\"\n          paddingAngle={3}\n          dataKey=\"value\"\n          isAnimationActive={false}\n        >\n          <Label\n            value={result}\n            style={{ fontSize: '1.5rem' }}\n            offset={0}\n            position=\"center\"\n          />\n          {data.map((entry, index) => (\n            <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n          ))}\n        </Pie>\n        <Legend\n          layout={matches ? 'vertical' : 'horizontal'}\n          verticalAlign={matches ? 'middle' : 'bottom'}\n          align={matches ? 'left' : 'center'}\n        />\n      </PieChart>\n    </CardContent>\n  );\n};\n\n/** @param {file[]} arr */\nconst sort = (arr) => {\n  arr.sort(byName);\n  arr.sort(byIno);\n  return arr;\n}; //Sort\n/**\n * @param {file} a\n * @param {file} b\n */\nconst byName = (a, b) => a.name.localeCompare(b.name); //By name\n/**\n * @param {file} a\n * @param {file} b\n */\nconst byIno = (a, b) => a.ino - b.ino;\n\nexport default Profile;\n","import React from 'react';\nimport { useReducer, useContext } from 'react';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Dialog from '@material-ui/core/Dialog';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { saduwux } from '../../SF/Context';\nimport md5 from 'md5';\n\nconst useStyles = makeStyles((theme) => ({\n  paperMod: {\n    padding: '0px 1.5rem 1rem',\n    margin: 'auto',\n    minWidth: '340px',\n    [theme.breakpoints.down('xs')]: {\n      minWidth: '100%'\n    },\n    '& p': {\n      color: 'red',\n      '&:empty': {\n        height: '16px',\n      },\n    },\n    '& .MuiFormControl-root': {\n      height: '80px',\n    },\n  },\n  darkFocused: {\n    '& .Mui-focused':{\n      color: 'rgb(255, 255, 255)'\n    },\n    '& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline':{\n      borderColor: 'rgba(255, 255, 255, 0.7)',\n    },\n  },\n}));\n\nconst initialState = {\n  touched: false,\n  touched2: false,\n  password: '',\n  password2: '',\n  error: '',\n  error2: '',\n};\n\nconst reducer = (state, action) => {\n  return { ...state, ...action };\n};\n\nconst ChangePasswordDialog = ({ user, handleClose }) => {\n  const classes = useStyles();\n  const [state, update] = useReducer(reducer, initialState);\n  const { state: { theme } } = useContext(saduwux);\n\n  if (!user) {\n    return '';\n  }\n\n  const handleChangeTrim = (e, number = '') => {\n    const error = invalidText(number, e.target.value.trim());\n    const valueToUpdate = {\n      [e.target.name]: e.target.value.trim(),\n      [`touched${number}`]: true,\n      [`error${number}`]: error,\n    };\n    if (!number) {\n      valueToUpdate.error2 = invalidText(\n        '2',\n        state.password2,\n        e.target.value.trim()\n      );\n    }\n    update(valueToUpdate);\n  };\n\n  const invalid = () => {\n    const { password, password2, error, error2 } = state;\n    return Boolean(error || error2) || !password.length || !password2.length;\n  };\n\n  const invalidText = (number, text, password1 = state.password) => {\n    const touched = state[`touched${number}`];\n    const password = text;\n    if (!touched) {\n      return '';\n    }\n\n    switch (true) {\n      case password.length < 6:\n        return 'La contraseña debe de al menos 6 caracteres';\n      case number && password1 !== password:\n        return 'La contraseñas deben coincidir';\n      default:\n        return '';\n    }\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    handleClose({\n      index: user.index,\n      password: md5(state.password),\n      userID: user.id,\n    });\n  };\n\n  return (\n    <Dialog open={true} onClose={() => handleClose()}>\n      <DialogTitle id=\"file-dialog-title\" style={{ textAlign: 'center' }}>\n        Cambiar contraseña a {user.usuario}\n      </DialogTitle>\n      <Box className={classes.paperMod}>\n        <form\n          autoComplete=\"off\"\n          className={classes.form}\n          onSubmit={handleSubmit}\n        >\n          <Grid\n            container\n            direction=\"column\"\n            justify=\"center\"\n            alignItems=\"center\"\n            className={theme ? classes.darkFocused : ''}\n          >\n            <TextField\n              name=\"password\"\n              value={state.password}\n              onChange={handleChangeTrim}\n              id=\"password-input\"\n              label=\"Nueva contraseña\"\n              type=\"password\"\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              autoFocus\n              error={!!state.error}\n              helperText={state.error}\n            />\n            <TextField\n              name=\"password2\"\n              value={state.password2}\n              onChange={(e) => handleChangeTrim(e, '2')}\n              id=\"password-confirm-input\"\n              label=\"Confirmar contraseña\"\n              type=\"password\"\n              variant=\"outlined\"\n              margin=\"normal\"\n              fullWidth\n              required\n              error={!!state.error2}\n              helperText={state.error2}\n            />\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={invalid()}\n              type=\"submit\"\n            >\n              Cambiar contraseña\n            </Button>\n          </Grid>\n        </form>\n      </Box>\n    </Dialog>\n  );\n};\n\nexport default ChangePasswordDialog;\n","import Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Container from '@material-ui/core/Container';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Grid from '@material-ui/core/Grid';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Paper from '@material-ui/core/Paper';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Tab from '@material-ui/core/Tab';\nimport Tabs from '@material-ui/core/Tabs';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport EnhancedEncryptionIcon from '@material-ui/icons/EnhancedEncryption';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ChangePasswordDialog from '../Admin/Users/ChangePasswordDialog';\nimport { saduwux } from '../SF/Context';\nimport { handleFetch } from '../SF/helpers';\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    width: '100%',\n    display: 'flex',\n    alignItems:' center',\n    justifyContent: 'center',\n    '& form':{\n      padding: 20,\n      width: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-between',\n      '& .buttons-container': {\n        display: 'flex',\n        justifyContent: 'flex-end',\n        padding: 10\n      },\n    },\n    '& .MuiFormControl-root':{\n      margin: '0.5rem 0',\n    },\n    [theme.breakpoints.down('xs')]: {\n      alignItems: 'flex-start',\n      height: '100%',\n      overflow: 'auto',\n      '& .MuiContainer-root': {\n        display: 'none',\n      }\n    },\n  },\n  darkFocused: {\n    '& .Mui-focused':{\n      color: 'rgb(255, 255, 255)'\n    },\n    '& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline':{\n      borderColor: 'rgba(255, 255, 255, 0.7)',\n    },\n  },\n  root: {\n    '& .MuiTab-wrapper': {\n      justifyContent: 'flex-start',\n      flexDirection: 'row',\n    },\n    flexGrow: 1,\n    height: 400,\n    display: 'flex',\n    \n  },\n  list: {\n    width: '100%',\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper,\n  },\n  tabs: {\n    borderRight: `1px solid ${theme.palette.divider}`,\n  },\n  sectionMobile: {\n    display: 'block',\n    marginTop: '1rem',\n    maxWidth: 'calc(100vw - 2rem)',\n    width: 'calc(100vw - 2rem)',\n    height: 400,\n    '& .MuiAccordionDetails-root': {\n      minHeight: 250,\n      '& #vertical-tabpanel-1': {\n        width: '100%',\n        '& > *': {\n          display: 'flex',\n          alignItems: 'center',\n          height: '100%'\n        }\n      },\n      '& #vertical-tabpanel-2': {\n        width: '100%',\n        maxWidth: '100%',\n      }\n    },\n    [theme.breakpoints.up('sm')]: {\n      display: 'none',\n    },\n  },\n\n}));\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst pattern = {\n  nombre: new RegExp(`^[A-Z'\\\\s]*$`, 'i'),\n  apellido: new RegExp(`^[A-Z'\\\\s]*$`, 'i'),\n  respuesta1: new RegExp(`^[A-Z'0-9\\\\s]*$`, 'i'),\n  respuesta2: new RegExp(`^[A-Z'0-9\\\\s]*$`, 'i')\n}\n\nconst ExpansionPanel = withStyles({\n  root: {\n    border: '1px solid rgba(0, 0, 0, .125)',\n    boxShadow: 'none',\n    '&:not(:last-child)': {\n      borderBottom: 0,\n    },\n    '&:before': {\n      display: 'none',\n    },\n    '&$expanded': {\n      margin: 'auto',\n    },\n  },\n  expanded: {},\n})(Accordion);\n\nconst ExpansionPanelSummary = withStyles({\n  root: {\n    backgroundColor: 'rgba(0, 0, 0, .03)',\n    borderBottom: '1px solid rgba(0, 0, 0, .125)',\n    marginBottom: -1,\n    minHeight: 56,\n    '&$expanded': {\n      minHeight: 56,\n    },\n  },\n  content: {\n    '&$expanded': {\n      margin: '12px 0',\n    },\n  },\n  expanded: {},\n})(AccordionSummary);\n\nconst ExpansionPanelDetails = withStyles((theme) => ({\n  root: {\n    padding: theme.spacing(2),\n  },\n}))(AccordionDetails);\n\nconst questions = [\n  { id: '1', pregunta: '¿Cuál es el nombre de tu mejor amigo?' },\n  { id: '2', pregunta: '¿Cuál es la ciudad donde naciste?' },\n  { id: '3', pregunta: '¿Cómo se llamaba tu primera mascota?' },\n  { id: '4', pregunta: '¿Cuál es tu color favorito?' },\n  { id: '5', pregunta: '¿Cuál es el segundo nombre de tu madre?' },\n];\n\nconst TabPanel = ({ children, value, index, ...other }) => {\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={!other & (value !== index)}\n      id={`vertical-tabpanel-${index}`}\n      aria-labelledby={`vertical-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box>{children}</Box>}\n    </Typography>\n  );\n};\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nconst initialState = {\n  open: false,\n  value: 0,\n  message: '',\n  nombre: '',\n  apellido: '',\n  changePassword: false,\n  pregunta1: 1,\n  pregunta2: 2,\n  respuesta1: '',\n  respuesta2: '',\n  isLoading: false\n};\n\nconst userReducer = (state, payload) => {\n  return { ...state, ...payload };\n};\n\nconst ProfileSettings = () => {\n  const classes = useStyles();\n  /**@type {context} */\n  const { state: { user, theme }, dispatch } = React.useContext(saduwux);\n\n  const [state, update] = React.useReducer(userReducer, {\n    ...initialState,\n    pregunta1: user.pregunta1,\n    pregunta2: user.pregunta2,\n  });\n\n  const tapProps = (index) => {\n    return {\n      id: `vertical-tab-${index}`,\n      'aria-controls': `vertical-tabpanel-${index}`,\n    };\n  };\n\n  const getPartialInfo = (tab) => {\n    switch (tab) {\n      case 0: {\n        return JSON.stringify({\n          nombre: state.nombre,\n          apellido: state.apellido,\n        });\n      }\n      case 2: {\n        return JSON.stringify({\n          pregunta1: state.pregunta1,\n          pregunta2: state.pregunta2,\n          respuesta1: state.respuesta1,\n          respuesta2: state.respuesta2,\n        });\n      }\n\n      default: {\n        return '';\n      }\n    }\n  };\n\n  const invalid = () => {\n    switch(state.value) {\n      case 2: {\n        const { pregunta1, pregunta2, respuesta1, respuesta2 } = state;\n        return respuesta1.trim().length < 3\n          || respuesta2.trim().length < 3\n          || pregunta1 === pregunta2;\n      }\n      case 0: {\n        return state.nombre.trim().length < 2 || state.apellido.trim().length < 2;\n      }\n      default: return true;\n    }\n  }\n\n  const handleUpdate = (e) => {\n    e.preventDefault();\n    if (invalid() || state.value === 1) {\n      // alert('Marico las contraseñas no coinciden');\n      return;\n    }\n    update({isLoading: true});\n    const headers = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n      body: getPartialInfo(state.value)\n    };\n    fetch(`/api/users/${user.id}`, headers)\n      .then(handleFetch)\n      .then((res) => {\n        localStorage.setItem('token', 'bearer ' + res.token);\n        dispatch({\n          type: 'update',\n          payload: {\n            user: res.user\n          }\n        });\n        update({\n          ...initialState,\n          value: state.value,\n          pregunta1: res.user.pregunta1,\n          pregunta2: res.user.pregunta2,\n          open: true,\n          isLoading: false,\n          severity: 'success',\n          message: 'Cambios guardados satisfactoriamente!',\n        });\n      })\n      .catch((mistake) => {\n        update({\n          open: true,\n          message: mistake.message,\n          severity: 'success',\n          isLoading: false\n        });\n      });\n  };\n\n  const handleChange = (event) => {\n    const {target} = event;\n    if(!pattern[target.name] || target.value.trim().match(pattern[target.name])) {\n      update({[target.name] : target.value})\n    }\n  }\n  const handleChangePassword = (data)  => {\n    if (!data) {\n      update({ changePassword: null });\n      return;\n    }\n    update({ isLoading: true, changePassword: null });\n    const headers = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n      body: JSON.stringify({ password: data.password }),\n    };\n\n    fetch(`/api/users/${data.userID}`, headers)\n      .then(handleFetch)\n      .then(() => {\n        update({\n          isLoading: false,\n          open: true,\n          message: 'Contraseña cambiada',\n          severity: 'success'\n        });\n      })\n      .catch((err) => {\n        update({\n          isLoading: false,\n          open: true,\n          message: err.message,\n          severity: 'error'\n        });\n      });\n  };\n  const setChangePassword = ()  => {\n    update({ changePassword:  user})\n  }\n\n  const mapPreguntas = questions.map((P, index) => {\n    return (\n      <MenuItem key={index} value={P.id}>\n        {' '}\n        {P.pregunta}{' '}\n      </MenuItem>\n    );\n  });\n\n  const handleTapChange = (event, value) => {\n    update({ value })\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    update({ open: false });\n  };\n\n  const getTap = (index) => {\n    switch(index) {\n      case 2: {\n        return (\n          <Grid container>\n            <Grid item xs={12}>\n              <TextField\n                select\n                onChange={handleChange}\n                value={state.pregunta1}\n                name=\"pregunta1\"\n                required\n                label=\"Primera pregunta\"\n                variant=\"outlined\"\n                fullWidth\n                margin=\"normal\"\n              >\n                { mapPreguntas }\n              </TextField>\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                onChange={handleChange}\n                value={state.respuesta1}\n                name=\"respuesta1\"\n                required\n                label=\"Respuesta \"\n                variant=\"outlined\"\n                fullWidth\n                margin=\"normal\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                select\n                onChange={handleChange}\n                value={state.pregunta2}\n                name=\"pregunta2\"\n                required\n                label=\"Segunda pregunta\"\n                variant=\"outlined\"\n                fullWidth\n                margin=\"normal\"\n              >\n                {mapPreguntas}\n              </TextField>\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                onChange={handleChange}\n                value={state.respuesta2}\n                name=\"respuesta2\"\n                required\n                label=\"Respuesta \"\n                variant=\"outlined\"\n                fullWidth\n                margin=\"normal\"\n              />\n            </Grid>\n          </Grid>\n        );\n      }\n      case 1: {\n        return (\n          <Grid\n            container\n            direction=\"row\"\n            align=\"center\"\n            justify=\"center\"\n          >\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              type=\"button\"\n              onClick={setChangePassword}\n              startIcon={<EnhancedEncryptionIcon />}\n            >\n              Cambiar contraseña\n            </Button>\n          </Grid>\n        );\n      }\n      default: {\n        return (\n          <Grid container>\n            <Grid item xs={12}>\n              <TextField\n                onChange={(e) => handleChange(e)}\n                value={state.nombre}\n                required\n                name=\"nombre\"\n                label={`Nombre (${user.nombre})`}\n                variant=\"outlined\"\n                fullWidth\n                helperText=\"El nombre debe contener al menos 2 catacteres\"\n                margin=\"normal\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                onChange={(e) => handleChange(e)}\n                value={state.apellido}\n                name=\"apellido\"\n                required\n                label={`Apellido (${user.apellido})`}\n                helperText=\"El apellido debe contener al menos 2 catacteres\"\n                variant=\"outlined\"\n                fullWidth\n                margin=\"normal\"\n              />\n            </Grid>\n          </Grid>\n        );\n      }\n    }\n  }\n\n  const content = (\n    <React.Fragment>\n      {[0,1,2].map(index => (\n        <TabPanel key={`panel-${index}`} value={state.value} index={index}>\n          {getTap(index)}\n        </TabPanel>\n      ))}\n    </React.Fragment>\n  );\n\n  const getClasses = () =>{\n    let className = classes.main;\n    if (theme) className += ` ${classes.darkFocused}`;\n    return className;\n  }\n\n  return (\n    <Box\n      component=\"main\"\n      className={getClasses()}\n    >\n      <Container maxWidth=\"md\">\n        <Paper className={classes.root}>\n          <Tabs\n            orientation=\"vertical\"\n            variant=\"fullWidth\"\n            value={state.value}\n            indicatorColor=\"primary\"\n            onChange={handleTapChange}\n            aria-label=\"Configuracion de perfil\"\n            className={classes.tabs}\n          >\n            <Tab label=\"Perfil\" {...tapProps(0)} />\n            <Tab label=\"Contraseña\" {...tapProps(1)} />\n            <Tab label=\"Preguntas Secretas\" {...tapProps(2)} />\n          </Tabs>\n          <form\n            autoComplete=\"off\"\n            onSubmit={handleUpdate}\n          >\n            {content}\n            {\n              state.value !== 1 && (\n                <Box className=\"buttons-container\">\n                  <Button\n                    disabled={invalid()}\n                    variant=\"contained\"\n                    color=\"primary\"\n                    type=\"submit\"\n                    className={classes.button}\n                  >\n                    {' '}\n                    Guardar\n                  </Button>\n                </Box>\n              )\n            }\n          </form>\n        </Paper>\n      </Container>\n      \n      <Box className={classes.sectionMobile}>\n        <ExpansionPanel\n          square\n          id=\"panel2\"\n          expanded={!state.value}\n          onChange={() => handleTapChange('', 0)}\n        >\n          <ExpansionPanelSummary \n            expandIcon={<ExpandMoreIcon />}\n            id=\"p1d-header\"\n          >\n            <Typography className={classes.heading}>\n              Perfil\n            </Typography>\n          </ExpansionPanelSummary>\n          <ExpansionPanelDetails>\n            <form\n              onSubmit={handleUpdate}\n            >\n              { getTap(0) }\n              \n              <Button\n                disabled={state.nombre.length <= 1 && state.apellido.length <= 1}\n                variant=\"contained\"\n                color=\"primary\"\n                type=\"submit\"\n                className={classes.button}\n              >\n                {' '}\n                Guardar\n              </Button>\n            \n            </form>\n          </ExpansionPanelDetails>\n        </ExpansionPanel>\n\n        <ExpansionPanel\n          square\n          id=\"panel2\"\n          expanded={state.value === 1}\n          onChange={() => handleTapChange('', 1)}\n        >\n          <ExpansionPanelSummary\n            expandIcon={<ExpandMoreIcon />}\n            id=\"p2d-header\"\n          >\n            <Typography className={classes.heading}>\n              Contraseña\n            </Typography>\n          </ExpansionPanelSummary>\n          <ExpansionPanelDetails>\n            { getTap(1) }\n          </ExpansionPanelDetails>\n        </ExpansionPanel>\n\n        <ExpansionPanel\n          square\n          id=\"panel3\"\n          expanded={state.value === 2}\n          onChange={() => handleTapChange('', 2)}\n        >\n          <ExpansionPanelSummary\n            expandIcon={<ExpandMoreIcon />}\n            id=\"p1d-header\"\n          >\n            <Typography className={classes.heading}>\n              Preguntas secretas\n            </Typography>\n          </ExpansionPanelSummary>\n          <ExpansionPanelDetails>\n            <form\n              onSubmit={handleUpdate}\n            >\n              { getTap(2) }\n              <Button\n                disabled={state.respuesta1.length < 2 && state.respuesta2.length < 2}\n                variant=\"contained\"\n                color=\"primary\"\n                type=\"submit\"\n                className={classes.button}\n              >\n                {' '}\n                Guardar\n              </Button>\n            </form>\n          </ExpansionPanelDetails>\n        </ExpansionPanel>\n      </Box>\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'right',\n        }}\n        open={state.open}\n        autoHideDuration={2000}\n        onClose={handleClose}\n      >\n        <Alert onClose={handleClose} severity={state.severity || \"success\"}>\n          {state.message}\n        </Alert>\n      </Snackbar>\n      <ChangePasswordDialog\n        user={state.changePassword}\n        handleClose={handleChangePassword}\n      />\n    </Box>\n  );\n};\n\nexport default ProfileSettings;\n\n// <Box display={{ xs: 'block', sm: 'none' }}>\n//   <Toolbar variant=\"dense\" />\n// </Box>","import { Snackbar } from '@material-ui/core';\nimport Card from '@material-ui/core/Card';\nimport Box from '@material-ui/core/Box';\nimport md5 from 'md5';\nimport Grid from '@material-ui/core/Grid';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Link from '@material-ui/core/Link';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Step from '@material-ui/core/Step';\nimport Divider from '@material-ui/core/Divider';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Stepper from '@material-ui/core/Stepper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloudIcon from '@material-ui/icons/Cloud';\nimport React, { useReducer } from 'react';\nimport { useHistory, Redirect } from 'react-router-dom';\nimport { handleFetch, structuteChecker, reactLink } from '../SF/helpers';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport backgroundimg1 from '../SF/Media/background_study_by_hibelton_dc28kuo-fullview.jpg';\nimport { saduwux } from '../SF/Context';\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    gridColumnStart: '1',\n    gridColumnEnd: '3',\n    gridRowStart: '1',\n    gridRowEnd: '3',\n    display: 'flex',\n    placeContent: 'center',\n    alignItems: 'center',\n    backgroundImage: `url(${backgroundimg1})`,\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? '#cecece' : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n\n    '& .MuiIconButton-root': {\n      padding: 0,\n    },\n    '& .MuiFormControl-root':{\n      margin: '0.5rem',\n    },\n    '& .MuiGrid-container': {\n      width: '550px',\n    },\n    '& .MuiGrid-item': {\n      padding: '0.5rem',\n    },\n    '& .MuiFormHelperText-root': {\n      margin: '0',\n    },\n    '& .forgot': {\n      width: '100%',\n      textAlign: 'center',\n      color: 'rgba(0,0,0,0.7)',\n      marginTop: '0.5rem',\n      display: 'inline-block'\n    },\n    [theme.breakpoints.down('xs')]: {\n      gridColumnStart: '1',\n      gridColumnEnd: '2',\n      gridRowStart: '1',\n      gridRowEnd: '4',\n      '& .MuiCard-root': {\n        maxWidth: 'calc(100vw - 10px)',\n        padding: '1rem'\n      },\n      '& .MuiGrid-container': {\n        width: '275px',\n      },\n      '& .MuiFormControl-root':{\n        margin: '0.5rem 0px',\n      },\n      '& .MuiCardContent-root': {\n        padding: 0\n      }\n    },\n  },\n  instructions: {\n    width: '275px'\n  },\n  form: {\n    margin: '0',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  box: {\n    padding: '1rem 3rem',\n    backgroundColor: '#fff',\n    borderRadius: '1rem',\n    maxWidth: '100%',\n  },\n  bottonContainer: {\n    marginTop: '1rem',\n    display: 'flex',\n    placeContent: 'space-between',\n\n    '& button': {\n      padding: '0.5rem 1rem',\n      fontWeight: '600',\n\n      '&.MuiButton-containedPrimary': {\n        color: '#fff',\n      },\n      '&.Mui-disabled': {\n        color: 'rgba(0, 0, 0, 0.26)',\n      },\n    },\n  },\n}));\n\nconst pattern = {\n  user: new RegExp('^[A-Z0-9]*$', 'i'),\n  nombre: new RegExp(`^[A-Z'\\\\s]*$`, 'i'),\n  apellido: new RegExp(`^[A-Z'\\\\s]*$`, 'i'),\n  respuesta1: new RegExp(`^[A-Z'0-9\\\\s]*$`, 'i'),\n  respuesta2: new RegExp(`^[A-Z'0-9\\\\s]*$`, 'i')\n}\n\nconst Alert = (props) => {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n};\n\nconst initialState = {\n  open: false,\n  message: '',\n  activeStep: 0,\n  nombre: '',\n  apellido: '',\n  user: '',\n  userExist: false,\n  password: '',\n  password2: '',\n  pregunta1: 1,\n  pregunta2: 2,\n  respuesta1: '',\n  respuesta2: '',\n  questions: [],\n  touched: false,\n  isLoading: false,\n  severity: 'success'\n};\n\nconst reducer = (state, action) => {\n  if (action) {\n    return { ...state, ...action };\n  }\n\n  switch (state.activeStep) {\n    case 3: {\n      return {\n        ...state,\n        user: '',\n        userExist: false,\n        touched: true,\n        activeStep: 2,\n      };\n    }\n    case 2: {\n      return {\n        ...state,\n        pregunta1: 1,\n        pregunta2: 2,\n        respuesta1: '',\n        respuesta2: '',\n        touched: true,\n        activeStep: 1,\n      };\n    }\n    case 1: {\n      return {\n        ...state,\n        touched: true,\n        nombre: '',\n        apellido: '',\n        password: '',\n        password2: '',\n        activeStep: 0,\n      };\n    }\n    default:\n      return initialState;\n  }\n};\nconst Register = () => {\n  let history = useHistory();\n  const classes = useStyles();\n\n  const [state, update] = useReducer(reducer, initialState);\n  const { state: global, dispatch } = React.useContext(saduwux);\n\n  React.useEffect(() => {\n    if(global.logStatus !== 2){\n      localStorage.clear();\n      dispatch({\n        type: 'update',\n        payload: {\n          logStatus: 0,\n          theme: false\n        }\n      });\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (global.logStatus === 2) {\n    return (\n      <Redirect to=\"/busqueda\"/>\n    );\n  }\n\n  const invalid = () => {\n    if (!state.touched || state.isLoading) {\n      return true;\n    }\n    switch (state.activeStep) {\n      case 0: {\n        const { nombre, apellido, password, password2 } = state;\n        return nombre.trim().length < 2\n          || apellido.trim().length < 2\n          || password.length < 6\n          || password !== password2;\n      }\n      case 1: {\n        const { pregunta1, pregunta2, respuesta1, respuesta2 } = state;\n        return respuesta1.trim().length < 3\n          || respuesta2.trim().length < 3\n          || pregunta1 === pregunta2;\n      }\n      case 2: {\n        const { user } = state;\n        return (user.length < 6);\n      }\n      default:\n        break;\n    }\n  };\n\n  const questions = [\n    { id: '1', pregunta: 'Cuál es el nombre de tu mejor amigo?' },\n    { id: '2', pregunta: 'Cuál es la ciudad donde naciste?' },\n    { id: '3', pregunta: 'Cómo se llamaba tu primera mascota?' },\n    { id: '4', pregunta: 'Cuál es tu color favorito?' },\n    { id: '5', pregunta: 'Cuál es el segundo nombre de tu madre?' },\n  ];\n\n  const handleRegister = () => {\n    const keys = [\n      { name: 'nombre', required: true, type: 'string', length: 2 },\n      { name: 'apellido', required: true, type: 'string', length: 2 },\n      { name: 'password', required: true, type: 'string', length: 6 },\n      { name: 'user', required: true, type: 'string', length: 6 },\n      { name: 'pregunta1', required: true, type: 'number' },\n      { name: 'pregunta2', required: true, type: 'number' },\n      { name: 'respuesta1', required: true, type: 'string', length: 3 },\n      { name: 'respuesta2', required: true, type: 'string', length: 3 },\n    ];\n\n    if (!structuteChecker(state, keys)) {\n      return;\n    }\n\n    update({ isLoading: true });\n\n    fetch('/api/users', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        nombre: state.nombre.trim(),\n        apellido: state.apellido.trim(),\n        password: md5(state.password.replace(/\\s+/g, '')),\n        usuario: state.user.replace(/\\s+/g, ''),\n        pregunta1: state.pregunta1,\n        pregunta2: state.pregunta2,\n        respuesta1: state.respuesta1.trim(),\n        respuesta2: state.respuesta2.trim(),\n      }),\n    })\n      .then(handleFetch)\n      .then((data) => {\n        update({\n          open: true,\n          message: data.message,\n          severity: 'success'\n        });\n        setTimeout(() => {\n          history.push('/login');\n        }, 1500);\n      })\n      .catch((err) => {\n        update({\n          activeStep: 2,\n          open: true,\n          userExist: err.code === 6,\n          severity: 'error',\n          message: err.message,\n          isLoading: false,\n          touched: false\n        });\n      });\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    update({ open: false });\n  };\n\n  const steps = [\n    'Nombres y Contraseña',\n    'Preguntas Secretas',\n    'Nombre de usuario',\n  ];\n  const handleNext = (e) => {\n    e.preventDefault();\n    if (invalid()) {\n      return;\n    }\n    if (state.activeStep === 2) {\n      handleRegister()\n      return;\n    }\n    update({\n      activeStep: state.activeStep + 1\n    });\n  }\n  const handleBack = () => update();\n\n  const handleChange = (event) => {\n    const { target } = event; \n    if(!pattern[target.name] || target.value.trim().match(pattern[target.name])) {\n      update({\n        [target.name]: target.value,\n        touched: true\n      });\n    }\n  };\n  const handleChangeTrim = ({ target }) => {\n    if(!pattern[target.name] || target.value.trim().match(pattern[target.name])) {\n      update({\n        [target.name]: target.value.replace(/\\s+/g, ''),\n        userExist: target.name === 'user' ? false : state.userExist,\n        touched: true\n      });\n    }\n\n  }\n  const mapPreguntas = questions.map((item) => {\n    return (\n      <MenuItem key={item.id} value={item.id}>\n        {' '}\n        {item.pregunta}{' '}\n      </MenuItem>\n    );\n  });\n\n  const getStepContent = (step) => {\n    switch (step) {\n      case 0: {\n        return (\n          <Grid container >\n            <Grid item xs={12} sm={6}>\n              <TextField\n                required\n                onChange={handleChange}\n                name=\"nombre\"\n                value={state.nombre}\n                id=\"nombre\"\n                label=\"Nombre\"\n                variant=\"outlined\"\n                helperText=\"El nombre debe contener al menos 2 catacteres\"\n                fullWidth\n                inputProps={{\n                  maxLength: 32\n                }}\n              />\n              <TextField\n                required\n                onChange={handleChange}\n                name=\"apellido\"\n                value={state.apellido}\n                id=\"apellido\"\n                label=\"Apellido\"\n                variant=\"outlined\"\n                helperText=\"El apellido debe contener al menos 2 catacteres\"\n                fullWidth\n                inputProps={{\n                  maxLength: 32\n                }}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                required\n                onChange={handleChangeTrim}\n                name=\"password\"\n                value={state.password}\n                type=\"password\"\n                id=\"password\"\n                label=\"Contraseña\"\n                variant=\"outlined\"\n                helperText=\"La contraseña debe contener al menos 6 catacteres\"\n                fullWidth\n                inputProps={{\n                  maxLength: 16\n                }}\n              />\n              <TextField\n                required\n                onChange={handleChangeTrim}\n                name=\"password2\"\n                value={state.password2}\n                type=\"password\"\n                id=\"password2\"\n                label=\"Confirmar contraseña\"\n                variant=\"outlined\"\n                fullWidth\n                inputProps={{\n                  maxLength: 16\n                }}\n                error={\n                  state.password2.length > 2 &&\n                  state.password !== state.password2}\n                helperText={\n                  state.password2.length > 2 &&\n                  state.password !== state.password2\n                    ? 'Las contraseñas no coinciden'\n                    : ' '\n                }\n              />\n            </Grid>\n          </Grid>\n        );\n      }\n      case 1:\n        return (\n          <Grid container>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                required\n                id=\"outlined-select-currency\"\n                select\n                onChange={handleChange}\n                name=\"pregunta1\"\n                helperText={\n                  state.pregunta1 === state.pregunta2\n                    ? 'Las preguntas no pueden ser iguales'\n                    : ''\n                }\n                error={state.pregunta1 === state.pregunta2}\n                value={state.pregunta1}\n                label=\"Primera pregunta\"\n                variant=\"outlined\"\n                fullWidth\n              >\n                {mapPreguntas}\n              </TextField>\n              <TextField\n                required\n                onChange={handleChange}\n                name=\"respuesta1\"\n                value={state.respuesta1}\n                id=\"outlined-basic\"\n                label=\"Respuesta\"\n                variant=\"outlined\"\n                fullWidth\n                inputProps={{\n                  maxLength: 32\n                }}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                required\n                id=\"outlined-select-currency\"\n                select\n                label=\"Segunda pregunta\"\n                onChange={handleChange}\n                name=\"pregunta2\"\n                helperText={\n                  state.pregunta1 === state.pregunta2\n                    ? 'Las preguntas no pueden ser iguales'\n                    : ''\n                }\n                error={state.pregunta1 === state.pregunta2}\n                value={state.pregunta2}\n                variant=\"outlined\"\n                fullWidth\n              >\n                {mapPreguntas}\n              </TextField>\n              <TextField\n                required\n                onChange={handleChange}\n                name=\"respuesta2\"\n                value={state.respuesta2}\n                id=\"outlined-basic\"\n                label=\"Respuesta\"\n                variant=\"outlined\"\n                fullWidth\n                inputProps={{\n                  maxLength: 32\n                }}\n              />\n            </Grid>\n          </Grid>\n        );\n      case 2:\n        return (\n          <Box className={classes.instructions}>\n            <TextField\n              onChange={handleChangeTrim}\n              name=\"user\"\n              disabled={state.isLoading}\n              value={state.user}\n              helperText={\n                state.userExist ? \n                'El nombre de usuario ya existe' :\n                'Tu usuario debe contener al menos 6 catacteres'\n              }\n              error={state.userExist}\n              id=\"outlined-basic\"\n              label=\"Nombre de usuario\"\n              variant=\"outlined\"\n              fullWidth\n              inputProps={{\n                maxLength: 16\n              }}\n            />\n          </Box>\n        );\n      default:\n        return 'Paso no existente';\n    }\n  };\n  return (\n    <Box className={classes.main} component=\"main\">\n      <Card className={classes.box}>\n      <CardContent>\n          <Box\n            display=\"flex\"\n            flexDirection=\"column\"\n            alignItems=\"center\"\n          >\n            <Link to=\"/\" component={reactLink}>\n              <IconButton>\n                <CloudIcon color=\"primary\" style={{ fontSize: '4rem' }} />\n              </IconButton>\n            </Link>\n            <Typography color=\"secondary\" component=\"h2\" variant=\"h4\">\n              Cloudster\n            </Typography>\n            <Typography component=\"h6\" variant=\"h6\">\n              Registrar nuevo usuario\n            </Typography>\n          </Box>\n          <Stepper\n            activeStep={state.activeStep}\n            style={{ padding: '0px 0px 24px' }}\n            alternativeLabel\n          >\n            {steps.map((label) => (\n              <Step key={label}>\n                <StepLabel>{label}</StepLabel>\n              </Step>\n            ))}\n          </Stepper>\n          <Divider/>\n          <form\n            autoComplete=\"off\"\n            className={classes.form}\n            onSubmit={handleNext}\n          >\n\n            <Box>\n              {getStepContent(state.activeStep)}\n            </Box>\n\n            <Box width={1} className={classes.bottonContainer}>\n              <Button\n                disabled={!state.activeStep || state.isLoading}\n                onClick={handleBack}\n                className={classes.button}\n                type=\"button\"\n                variant=\"outlined\"\n              >\n                Volver\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                disabled={invalid()}\n                type=\"submit\"\n              >\n                {state.activeStep === steps.length - 1\n                  ? 'Aceptar'\n                  : 'Siguiente'}\n              </Button>\n            </Box>\n            <Link\n              component={reactLink}\n              to=\"/login\"\n              className=\"forgot\"\n            >\n              ¿Ya tienes cuenta? ¡Inicia Sesión!\n            </Link>\n          </form>\n        </CardContent>\n      </Card>\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        open={state.open}\n        autoHideDuration={6000}\n        onClose={handleClose}\n      >\n        <Alert onClose={handleClose} severity={state.severity}>\n          {state.message}\n        </Alert>\n      </Snackbar>\n    </Box>\n  );\n};\n\nexport default Register;\n","//import { makeStyles, Box, Paper, Typography } from '@material-ui/core';\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport React, { useContext } from 'react';\nimport Iframe from 'react-iframe';\nimport { saduwux } from '../SF/Context';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(3, 2),\n  },\n  hiden: {\n    display: 'none',\n  },\n  toolbar: theme.mixins.toolbar,\n}));\nconst route = window.location.origin;\n// const route = window.location.hostname;\n\nconst Reproductor = () => {\n  const classes = useStyles();\n  const {\n    state: { playing },\n  } = useContext(saduwux);\n\n  if (playing) {\n    const token = localStorage.getItem('token') && localStorage.getItem('token').replace(/[Bb]earer /, '');\n    return (\n      <Box width={1} className='min-h100'>\n        <div className=\"flex-column min-h100\">\n          <div style={{ flexGrow: '1', overflow: 'auto', width: '100%' }}>\n            <Iframe\n              url={`${route}/api/watch/${playing}?token=${token}`}\n              height=\"100%\"\n              width=\"100%\"\n              allow=\"fullscreen\"\n              frameBorder=\"0\"\n            />\n          </div>\n        </div>\n      </Box>\n    );\n  } \n  return (\n    <Box\n      textAlign=\"center\"\n      bgcolor=\"bg.main\"\n      display=\"flex\"\n      width={1}\n      className='min-h100'\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      <Paper className={classes.root}>\n        <Typography variant=\"h5\" component=\"h3\">\n          Aún no hay nada para visualizar!\n        </Typography>\n        <Typography component=\"p\">\n          Te invitamos a seleccionar un archivo en la sección de búsqueda.\n        </Typography>\n      </Paper>\n    </Box>\n  );\n};\n\nexport default Reproductor;\n","import Box from '@material-ui/core/Box';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SvgIcon from '@material-ui/core/SvgIcon/SvgIcon';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport PlayCircleFilledIcon from '@material-ui/icons/PlayCircleFilled';\nimport BuildIcon from '@material-ui/icons/Build';\nimport React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { saduwux } from '../SF/Context';\nimport { reactLink } from '../SF/helpers';\nimport green from '@material-ui/core/colors/green';\n\nconst routes = [`/busqueda`, `/reproductor`, `/perfil`, `/admin`];\nconst routesComponents = [\n  FolderIcon,\n  PlayCircleFilledIcon,\n  AccountCircleIcon,\n  BuildIcon,\n];\n\nconst useStyles = makeStyles((theme) => ({\n  aside: {\n    '& .MuiDrawer-root': {\n      flexShrink: 0,\n    },\n    '& .flex': {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-between',\n      width: '100%',\n    },\n    '& .Mui-selected': {\n      backgroundColor: 'rgba(0,0,0,0.1)',\n      borderLeft: '2px solid ' + green[500],\n    },\n    '& .MuiListItemIcon-root': { minWidth: '0' },\n    '& .MuiListItem-gutters': {\n      paddingLeft: 8,\n      paddingRight: 8,\n    },\n    '& .hide-on-big': {\n      display: 'none',\n    },\n    [theme.breakpoints.down('xs')]: {\n      gridRowStart: 3,\n      '& .flex': {\n        flexDirection: 'row',\n      },\n      '& .MuiListItem-gutters': {\n        padding: '0px',\n      },\n      '& .MuiList-root': {\n        display: 'flex',\n        padding: '0px',\n        width: '100%',\n      },\n      '& .Mui-selected': {\n        border: 'none',\n        borderBottom: '2px solid ' + green[500],\n      },\n      '& .MuiButtonBase-root': {\n        justifyContent: 'center',\n        alignItems: 'center',\n      },\n      '& .hide-on-small': {\n        display: 'none',\n      },\n      '& .hide-on-big': {\n        display: 'flex',\n      },\n    },\n  },\n  dark: {\n    '& .MuiListItemIcon-root': { color: 'white' },\n    '& .MuiDrawer-paper': { backgroundColor: '#252525' },\n  },\n}));\n\nconst Sidebar = () => {\n  const classes = useStyles();\n  const location = useLocation();\n\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\n  const { state: globalState, dispatch } = React.useContext(saduwux);\n\n  React.useEffect(() => {\n    const [, url] = location.pathname.split('/');\n    const x = routes.indexOf(`/${url}`);\n    setSelectedIndex(x);\n  }, [location.pathname]);\n\n  const signout = () => {\n    localStorage.clear();\n    dispatch({ type: 'reset' });\n  };\n\n  const listItems = () =>\n    routes.reduce((prev, route, index) => {\n      if (index === 3 && globalState.user.nivel < 5) return prev;\n      const fragment = (\n        <React.Fragment key={index}>\n          <ListItem\n            button\n            component={reactLink}\n            to={route}\n            selected={selectedIndex === index}\n          >\n            <ListItemIcon>\n              <SvgIcon fontSize=\"large\" component={routesComponents[index]} />\n            </ListItemIcon>\n          </ListItem>\n          <Divider className=\"hide-on-small\" />\n        </React.Fragment>\n      );\n      prev.push(fragment);\n      return prev;\n    }, []);\n\n  const getClass = () => {\n    let className = `${classes.aside} `;\n    className += globalState.theme ? classes.dark : '';\n    return className;\n  };\n  return (\n    <Box component=\"aside\" className={getClass()}>\n      <Drawer\n        className={`min-h100`}\n        color=\"primary.main\"\n        variant=\"permanent\"\n        classes={{\n          paper: `flex position-static`,\n        }}\n      >\n        <List>\n          {listItems()}\n          <ListItem\n            className=\"hide-on-big\"\n            button\n            component={reactLink}\n            to=\"/\"\n            onClick={signout}\n          >\n            <ListItemIcon>\n              <ExitToAppIcon fontSize=\"large\" />\n            </ListItemIcon>\n          </ListItem>\n        </List>\n\n        <List className=\"hide-on-small\">\n          <ListItem button component={reactLink} to=\"/\" onClick={signout}>\n            <ListItemIcon>\n              <ExitToAppIcon fontSize=\"large\" />\n            </ListItemIcon>\n          </ListItem>\n        </List>\n      </Drawer>\n    </Box>\n  );\n};\n\nexport default Sidebar;\n","import AppBar from '@material-ui/core/AppBar';\nimport Box from '@material-ui/core/Box';\nimport IconButton from '@material-ui/core/IconButton';\nimport InputBase from '@material-ui/core/InputBase';\nimport Link from '@material-ui/core/Link';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport FilterDramaIcon from '@material-ui/icons/FilterDrama';\nimport MenuOpenIcon from '@material-ui/icons/MenuOpen';\nimport SearchIcon from '@material-ui/icons/Search';\nimport React, { useContext } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { saduwux } from '../SF/Context';\nimport { reactLink } from '../SF/helpers';\n\nconst useStyles = makeStyles((theme) => ({\n  grow: { flexGrow: 1 },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    position: 'static',\n    gridColumnStart: 1,\n    gridColumnEnd: 3,\n    [theme.breakpoints.down('xs')]: {\n      gridColumnStart: 1,\n      gridColumnEnd: 2,\n    },\n  },\n  menuButton: { marginRight: theme.spacing(2) },\n  inputRoot: { color: 'inherit' },\n  icon: {\n    margin: 0,\n    [theme.breakpoints.down('xs')]: { marginRight: theme.spacing(2) },\n  },\n  title: {\n    display: 'none',\n    [theme.breakpoints.up('sm')]: { display: 'block' },\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': { backgroundColor: fade(theme.palette.common.white, 0.25) },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(3),\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    width: theme.spacing(7),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 7),\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('md')]: { width: 200 },\n  },\n  sectionDesktop: {\n    display: 'none',\n    [theme.breakpoints.up('md')]: { display: 'flex' },\n  },\n}));\n\nconst routes = [`busqueda`, `admin`];\n\nconst TopBar = () => {\n  const classes = useStyles();\n  const location = useLocation();\n  const matches = useMediaQuery((theme) => theme.breakpoints.down('xs'));\n\n  const {\n    state: {\n      search,\n      user: { usuario, nivel },\n    },\n    dispatch,\n  } = useContext(saduwux);\n\n  const searchBar = () => {\n    if (!routes.some((route) => location.pathname.includes(route))) {\n      return '';\n    }\n    return (\n      <div className={classes.search}>\n        <div className={classes.searchIcon}>\n          <SearchIcon />\n        </div>\n        <InputBase\n          placeholder=\"Buscar...\"\n          classes={{\n            root: classes.inputRoot,\n            input: classes.inputInput,\n          }}\n          inputProps={{ 'aria-label': 'search' }}\n          value={search}\n          onChange={(e) =>\n            dispatch({ type: 'update', payload: { search: e.target.value } })\n          }\n        />\n      </div>\n    );\n  };\n\n  const menuOpen = () => {\n    if (nivel !== 5 || !location.pathname.includes('admin') || !matches) {\n      return '';\n    }\n    return (\n      <IconButton\n        aria-label=\"delete\"\n        onClick={() =>\n          dispatch({\n            type: 'update',\n            payload: {\n              mobileOpen: true,\n            },\n          })\n        }\n      >\n        <MenuOpenIcon />\n      </IconButton>\n    );\n  };\n\n  return (\n    <AppBar className={classes.appBar}>\n      <Toolbar>\n        <FilterDramaIcon className={classes.icon} />\n        <Typography className={classes.title} variant=\"h5\">\n          Cloudster\n        </Typography>\n        {searchBar()}\n        <div className={classes.grow} />\n        <Link\n          component={reactLink}\n          to=\"/Perfil\"\n          color=\"inherit\"\n          underline=\"none\"\n        >\n          <Box display={{ xs: 'none', sm: 'flex' }}>\n            <AccountCircle />\n            <Typography>{usuario}</Typography>\n          </Box>\n        </Link>\n        {menuOpen()}\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default TopBar;\n","import React from 'react';\n//import { makeStyles, Box, Paper, Typography } from '@material-ui/core';\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport backgroundimg1 from '../SF/Media/background_study_by_hibelton_dc28kuo-fullview.jpg';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    gridColumnStart: '1',\n    gridColumnEnd: '3',\n    gridRowStart: '1',\n    gridRowEnd: '3',\n    backgroundImage: `url(${backgroundimg1})`,\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    [theme.breakpoints.down('xs')]: {\n      gridColumnStart: '1',\n      gridColumnEnd: '2',\n      gridRowStart: '1',\n      gridRowEnd: '4',\n      \n    },\n    '& .MuiPaper-root': {\n      padding: theme.spacing(3, 2)\n    }\n  },\n}));\n\nconst NotFound = () => {\n  const classes = useStyles();\n\n  return (\n    <Box\n      textAlign=\"center\"\n      display=\"flex\"\n      width={1}\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      className={classes.root}\n    >\n      <Paper>\n        <Typography variant=\"h5\" component=\"h3\">\n          Lo sentimos!\n        </Typography>\n        <Typography component=\"p\">\n          La página que estás buscando no existe.\n        </Typography>\n      </Paper>\n    </Box>\n  );\n};\n\nexport default NotFound;\n","import Card from '@material-ui/core/Card';\nimport Box from '@material-ui/core/Box';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Divider from '@material-ui/core/Divider';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport React from 'react';\nimport {\n  Label,\n  Cell,\n  Legend,\n  Pie,\n  PieChart,\n  ResponsiveContainer,\n} from 'recharts';\nimport { handleFetch } from '../SF/helpers';\nimport CloudQueueIcon from '@material-ui/icons/CloudQueue';\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    height: '100%',\n    '& .card-box': {\n      minWidth: 300,\n      maxWidth: 480,\n      width: '100%',\n      padding: '0 10px',\n      '& .MuiSvgIcon-root': {\n        fontSize: 200,\n        width: '100%',\n      },\n      '& .MuiCardHeader-root': {\n        textAlign: 'center',\n      },\n      '& .MuiCard-root': {\n        minWidth: 300,\n        maxWidth: 480,\n        margin: '1rem',\n        width: '100%',\n        height: 'min-content',\n        [theme.breakpoints.down('sm')]: {\n          maxWidth: 'calc(100vw - 1rem)',\n        },\n        '& .MuiCardContent-root:last-child': {\n          paddingBottom: 16,\n        },\n      },\n      '& .center': {\n        display: 'flex',\n        justifyContent: 'center',\n      },\n    },\n  },\n  list: {\n    overflow: 'auto',\n    maxHeight: 300,\n  },\n  dark: {\n    backgroundColor: '#393d46',\n    color: '#fff',\n    '& .files': {\n      color: '#4caf50',\n    },\n    '& .MuiSvgIcon-root': {\n      color: '#fff',\n    },\n  },\n  dim: {\n    color: 'white',\n    '& .files': {\n      color: '#4caf50',\n    },\n    '& .MuiSvgIcon-root': {\n      color: '#ffa726',\n    },\n  },\n}));\n\nconst initialState = {\n  totalSize: 0,\n  total: 0,\n  chartData: null,\n  actions: 0,\n  parsedSize: '',\n};\n\nconst Details = ({ type = 'files', onResponse, loadingComponent, dark }) => {\n  const isFile = Boolean(type === 'files');\n  const classes = useStyles();\n\n  const [state, setState] = React.useState({ ...initialState });\n\n  React.useEffect(() => {\n    setState(initialState);\n    const headers = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    };\n\n    setState(initialState);\n    fetch(`/api/admin/${type}/details`, headers)\n      .then(handleFetch)\n      .then((data) => {\n        setTimeout(() => setState(data), 500);\n      })\n      .catch((mistake) => {\n        onResponse({\n          key: new Date().getTime(),\n          type: 'error',\n          message: mistake.message,\n        });\n      });\n  }, [type, onResponse]);\n\n  if (!state.chartData) {\n    return loadingComponent;\n  }\n  const noun = isFile ? 'Archivos' : 'Usuarios';\n\n  const parsedSize = !state.parsedSize ? (\n    ''\n  ) : (\n    <Grid xs={6} item>\n      <Typography align=\"center\" variant=\"subtitle1\" component=\"p\">\n        <strong>{state.parsedSize} </strong>\n        Almacenados\n      </Typography>\n    </Grid>\n  );\n\n  return (\n    <Grid\n      container\n      className={`${classes.main} ${dark ? classes.dark : classes.dim}`}\n      justify=\"center\"\n    >\n      <Grid\n        container\n        item\n        direction=\"column\"\n        justify=\"center\"\n        alignItems=\"center\"\n        wrap=\"nowrap\"\n        className=\"card-box\"\n      >\n        <Card raised={false}>\n          <CardHeader title={noun} />\n          <Divider />\n          <CardContent>\n            <Grid\n              container\n              direction=\"row\"\n              justify=\"center\"\n              alignItems=\"center\"\n            >\n              <Grid\n                xs={12}\n                item\n                container\n                direction=\"row\"\n                justify=\"center\"\n                alignItems=\"center\"\n              >\n                <Typography className=\"files\" variant=\"h2\" component=\"h2\">\n                  {state.total}\n                </Typography>\n                <Typography\n                  style={{ paddingLeft: 5 }}\n                  variant=\"h6\"\n                  component=\"h2\"\n                >\n                  {noun} en el servidor\n                </Typography>\n              </Grid>\n              <Grid xs={6} item>\n                <Typography align=\"center\" variant=\"subtitle1\" component=\"p\">\n                  <strong>{state.available} </strong>\n                  {noun === 'Archivos' ? 'Disponibles' : 'Activos'}\n                </Typography>\n              </Grid>\n              <Grid xs={6} item>\n                <Typography align=\"center\" variant=\"subtitle1\" component=\"p\">\n                  <strong>{state.disabled} </strong>\n                  Suspendidos\n                </Typography>\n              </Grid>\n              <Grid xs={6} item>\n                <Typography align=\"center\" variant=\"subtitle1\" component=\"p\">\n                  <strong>{state.actions} </strong>\n                  {noun === 'Archivos'\n                    ? 'Archivos descargados'\n                    : 'Acciones de los usuarios'}\n                </Typography>\n              </Grid>\n              {parsedSize}\n            </Grid>\n          </CardContent>\n        </Card>\n        <Box style={{ width: '100%' }}>\n          <CloudQueueIcon />\n        </Box>\n      </Grid>\n      <Grid\n        container\n        item\n        direction=\"column\"\n        justify=\"center\"\n        alignItems=\"center\"\n        wrap=\"nowrap\"\n        className=\"card-box\"\n      >\n        <Card raised={false}>\n          <CardHeader title={'Resumen de ' + noun} />\n          <Divider />\n          <CardContent className=\"center\">\n            <DetailsPieChart data={state.chartData} />\n          </CardContent>\n        </Card>\n      </Grid>\n    </Grid>\n  );\n};\n\nconst dummy = [\n  { name: 'asd', value: 5121 },\n  { name: 'fgh', value: 1231 },\n  { name: 'jkl', value: 1238 },\n];\n\nconst DetailsPieChart = ({ data = dummy }) => {\n  const matches = useMediaQuery((theme) => theme.breakpoints.up('sm'));\n  const Cells = data.map((entry, index) => (\n    <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n  ));\n  return (\n    <ResponsiveContainer width=\"85%\" aspect={1}>\n      <PieChart width={730} height={250}>\n        <Pie\n          data={data}\n          dataKey=\"value\"\n          nameKey=\"name\"\n          cx=\"50%\"\n          cy=\"50%\"\n          fill=\"#8884d8\"\n          paddingAngle={2}\n          innerRadius=\"40%\"\n          legendType=\"square\"\n          label\n        >\n          <Label />\n          {Cells}\n        </Pie>\n        <Legend\n          layout={matches ? 'vertical' : 'horizontal'}\n          verticalAlign={matches ? 'middle' : 'bottom'}\n          align={matches ? 'left' : 'center'}\n          iconType=\"square\"\n        />\n      </PieChart>\n    </ResponsiveContainer>\n  );\n};\nexport default Details;\n\nconst COLORS = [\n  '#0088FE',\n  '#00C49F',\n  '#FFBB28',\n  '#FF8042',\n  '#FF6633',\n  '#E6B333',\n  '#3366E6',\n  '#999966',\n  '#99FF99',\n  '#B34D4D',\n  '#80B300',\n  '#809900',\n  '#E6B3B3',\n  '#6680B3',\n  '#66991A',\n  '#FF99E6',\n  '#CCFF1A',\n  '#FF1A66',\n  '#E6331A',\n  '#33FFCC',\n  '#66994D',\n  '#B366CC',\n  '#4D8000',\n  '#B33300',\n  '#CC80CC',\n  '#66664D',\n  '#991AFF',\n  '#E666FF',\n  '#4DB3FF',\n  '#1AB399',\n  '#E666B3',\n  '#33991A',\n  '#CC9999',\n  '#B3B31A',\n  '#00E680',\n  '#4D8066',\n  '#809980',\n  '#E6FF80',\n  '#1AFF33',\n  '#999933',\n  '#FF3380',\n  '#CCCC00',\n  '#66E64D',\n  '#4D80CC',\n  '#9900B3',\n  '#E64D66',\n  '#4DB380',\n  '#FF4D4D',\n  '#99E6E6',\n  '#6666FF',\n];\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport TableHead from '@material-ui/core/TableHead';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\n\nexport const useStyles = makeStyles({\n  a: { color: '#228dff' },\n  p0: { padding: '0px' },\n  text: { color: '#fff' },\n  elevation0: {\n    boxShadow: 'none',\n    borderRadius: 0,\n    maxHeight: '100%',\n    minHeight: '100%',\n  },\n  imageContainer: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    '& img': {\n      width: '50%',\n      maxWidth: '35px',\n    },\n  },\n  table: {\n    minWidth: 650,\n    '& .MuiFormControl-root': {\n      width: '100%',\n    },\n    '& .MuiTableCell-body ': {\n      padding: '8px',\n    },\n    '& .MuiTableRow-root': {\n      '&.disabled': {\n        backgroundColor: 'rgba(0, 0, 0, 0.1)',\n      },\n      '&.suspended': {\n        backgroundColor: 'rgba(255, 0, 0, 0.2)',\n      },\n    },\n    '& .MuiButtonBase-root': {\n      color: 'rgba(0, 0, 0, 0.9)',\n      '&.Mui-disabled': {\n        color: 'rgba(0, 0, 0, 0.3)',\n      },\n    },\n  },\n  dark: {\n    minWidth: 650,\n    '& .MuiFormControl-root': {\n      width: '100%',\n    },\n    '& .MuiTableBody-root': {\n      backgroundColor: '#393d46',\n    },\n    '& .MuiTableRow-root': {\n      '&.disabled': {\n        backgroundColor: 'rgba(255, 255, 255, 0.1)',\n      },\n      '&.suspended': {\n        backgroundColor: 'rgba(255, 0, 0, 0.2)',\n      },\n    },\n    '& .MuiTableCell-body ': {\n      padding: '8px',\n    },\n    '& .MuiTableCell-head': {\n      borderBottom: '2px solid #7d7d7d',\n      backgroundColor: '#424242',\n    },\n    '& .MuiTableCell-body': {\n      borderBottom: '2px solid #7d7d7d',\n    },\n    '& .MuiSelect-select:focus': {\n      backgroundColor: 'rgba(255, 255, 255, 0.75)',\n    },\n  },\n});\n\nexport const SelectCell = ({\n  nivel,\n  identifier,\n  className,\n  onChange,\n  disabled,\n}) => {\n  return (\n    <FormControl className={className}>\n      <InputLabel id={`select-label-${identifier}`}>Nivel</InputLabel>\n      <Select\n        labelId={`select-label-${identifier}`}\n        id={`select-${identifier}`}\n        value={nivel}\n        name={identifier}\n        disabled={disabled}\n        onChange={(event) => onChange(event.target)}\n      >\n        <MenuItem value={1}>1</MenuItem>\n        <MenuItem value={2}>2</MenuItem>\n        <MenuItem value={3}>3</MenuItem>\n        <MenuItem value={4}>4</MenuItem>\n        <MenuItem value={5}>5</MenuItem>\n      </Select>\n    </FormControl>\n  );\n};\n\nexport const TableHeader = ({ columns }) => {\n  if (!columns) {\n    return '';\n  }\n  const columnsMap = columns.map(({ label, align }, i) => (\n    <TableCell align={align} key={'col-' + i}>\n      {label}\n    </TableCell>\n  ));\n\n  return (\n    <TableHead>\n      <TableRow style={{ zIndex: '20' }}>{columnsMap}</TableRow>\n    </TableHead>\n  );\n};\n\nexport const ConfirmDialog = ({\n  open,\n  text,\n  handleClose,\n  theme,\n  confirmText = 'Si, seguro',\n  cancelText = 'Cancelar',\n}) => {\n  if (!open) {\n    return '';\n  }\n\n  const classes = makeStyles((theme) => ({\n    dim: {\n      '& .MuiDialogTitle-root': {\n        backgroundColor: '#4caf50',\n        textAlign: 'center',\n        color: '#fff',\n        padding: '12px 0 8px',\n      },\n    },\n    dark: {\n      '& .MuiPaper-root': {\n        backgroundColor: '#666',\n      },\n      '& .MuiDialogTitle-root': {\n        backgroundColor: '#424242',\n        textAlign: 'center',\n        color: '#fff',\n        padding: '12px 0 8px',\n      },\n      '& .MuiButton-containedPrimary': {\n        backgroundColor: '#424242',\n      },\n    },\n    dialogContent: {\n      margin: 'auto',\n      paddingTop: '8px',\n      minWidth: '340px',\n      [theme.breakpoints.down('xs')]: {\n        minWidth: '100%'\n      },\n      '& h2': {\n        textAlign: 'center',\n        padding: '0.5rem 3rem 1rem',\n        fontSize: '1rem',\n      },\n      '& .MuiButton-root': {\n        width: '50%',\n        borderRadius: '0',\n        fontWeight: '500',\n      },\n      '& .MuiButton-containedPrimary': {\n        fontWeight: '600',\n      },\n    },\n  }))();\n\n  return (\n    <Dialog\n      open={true}\n      className={theme ? classes.dark : classes.dim}\n      onClose={() => handleClose()}\n    >\n      <DialogTitle>Dialogo de confirmación</DialogTitle>\n      <Box className={classes.dialogContent}>\n        <Typography variant=\"subtitle2\" component=\"h2\">\n          {text}\n        </Typography>\n        <Box>\n          <Button\n            variant=\"contained\"\n            className=\"cancel\"\n            disableElevation\n            type=\"submit\"\n            onClick={() => handleClose(false)}\n            size=\"large\"\n          >\n            {cancelText}\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            disableElevation\n            type=\"submit\"\n            onClick={() => handleClose(true)}\n            size=\"large\"\n          >\n            {confirmText}\n          </Button>\n        </Box>\n      </Box>\n    </Dialog>\n  );\n};\n","import IconButton from '@material-ui/core/IconButton';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\nimport React from 'react';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { getIcon, handleFetch } from '../../SF/helpers';\nimport {\n  SelectCell,\n  TableHeader,\n  useStyles,\n  ConfirmDialog,\n} from '../tableStyles';\nimport CloudQueueIcon from '@material-ui/icons/CloudQueue';\nimport CloudOffIcon from '@material-ui/icons/CloudOff';\n\nconst tableColumns = [\n  { key: 'image', label: 'Icono', align: 'left' },\n  { key: 'ino', label: 'ID', align: 'left' },\n  { key: 'name', label: 'Nombre del archivo', align: 'left' },\n  { key: 'nivel', label: 'Nivel', align: 'right' },\n  { key: 'lastModified', label: 'Última modificación', align: 'right' },\n  { key: 'size', label: 'Tamaño', align: 'right' },\n  { key: 'dependency', label: 'En carpeta', align: 'right' },\n  { key: '', label: '', align: 'right' },\n];\n\nconst initialState = {\n  fileList: null,\n  shouldUpdate: false,\n  fileToSuspend: null,\n};\n\n/** Reset type */\nconst reducer = (state, action) => {\n  return {\n    ...initialState,\n    fileList: state.fileList,\n    ...action,\n  };\n};\n\nconst FilesTableContainer = ({\n  useTheme,\n  onResponse,\n  loadingComponent,\n  criteria,\n}) => {\n  const classes = useStyles();\n\n  const [state, setState] = React.useReducer(reducer, {\n    ...initialState,\n    shouldUpdate: true,\n  });\n  const { fileList, shouldUpdate } = state;\n\n  React.useEffect(() => {\n    if (!shouldUpdate) {\n      return;\n    }\n    const headers = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    };\n    setState({ shouldUpdate: false });\n    fetch(`/api/admin/files`, headers)\n      .then(handleFetch)\n      .then((files) => {\n        files = files.map((file, index) => ({\n          ...file,\n          updating: false,\n          index,\n        }));\n        setState({ fileList: files });\n      })\n      .catch((mistake) => {\n        onResponse({\n          key: new Date().getTime(),\n          type: 'error',\n          message: mistake.message,\n        });\n      });\n  }, [shouldUpdate, onResponse]);\n\n  if (!fileList) {\n    return loadingComponent;\n  }\n\n  const setUpdate = (index, value = true) => {\n    const files = [...fileList];\n    files[index].updating = value;\n    setState({ fileList: files });\n  };\n\n  const toggleSuspend = (index) => {\n    const files = [...fileList];\n    files[index].available = +!files[index].available;\n    files[index].updating = false;\n    setState({ fileList: files });\n  };\n\n  const handleLevelChage = ({ name, value }, index) => {\n    setUpdate(index);\n    const headers = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n      body: JSON.stringify({ nivel: value }),\n    };\n\n    fetch(`/api/files/${name}`, headers)\n      .then(handleFetch)\n      .then((res) => {\n        setState({ shouldUpdate: true });\n        onResponse({\n          key: new Date().getTime(),\n          type: 'success',\n          message: res.message,\n        });\n      })\n      .catch((err) => {\n        setState({ shouldUpdate: true });\n        onResponse({\n          key: new Date().getTime(),\n          type: 'error',\n          message: err.response,\n        });\n      });\n  };\n\n  const handleSuspend = (closeEvent) => {\n    if (!closeEvent) {\n      setState({ fileToSuspend: null });\n      return;\n    }\n    const file = { ...state.fileToSuspend };\n    setUpdate(state.fileToSuspend.index);\n\n    const headers = {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    };\n\n    fetch(`/api/files/${file.ino}`, headers)\n      .then(handleFetch)\n      .then((res) => {\n        toggleSuspend(file.index);\n        onResponse({\n          key: new Date().getTime(),\n          type: 'success',\n          message: res.message,\n        });\n      })\n      .catch((err) => {\n        setUpdate(state.fileToSuspend.index, false);\n        onResponse({\n          key: new Date().getTime(),\n          type: 'error',\n          message: err.response,\n        });\n      });\n  };\n\n  const setSuspend = (file) => {\n    setState({ fileToSuspend: { ...file } });\n  };\n\n  const confirmText = () => {\n    if (!state.fileToSuspend) {\n      return '';\n    }\n    if (state.fileToSuspend.available) {\n      return `¿Seguro deseas dar de baja ${state.fileToSuspend.name}?`;\n    }\n    return `¿Seguro deseas restaurar ${state.fileToSuspend.name}?`;\n  };\n\n  return (\n    <React.Fragment>\n      <TableContainer\n        className={classes.elevation0}\n        component={Paper}\n        color=\"primary\"\n      >\n        <Table stickyHeader className={useTheme ? classes.dark : classes.table}>\n          <TableHeader columns={tableColumns} />\n          <TableContent\n            classes={classes}\n            data={fileList}\n            onChangeSelect={handleLevelChage}\n            onClickTrash={setSuspend}\n            criteria={criteria}\n            key=\"12gey12\"\n          />\n        </Table>\n      </TableContainer>\n      <ConfirmDialog\n        open={state.fileToSuspend}\n        handleClose={handleSuspend}\n        theme={useTheme}\n        text={confirmText()}\n      />\n    </React.Fragment>\n  );\n};\n\nexport default FilesTableContainer;\n\nconst TableContent = ({\n  classes,\n  data,\n  onChangeSelect,\n  onClickTrash,\n  criteria = '',\n}) => {\n  const regex = new RegExp(criteria, 'ig');\n  const rows = data.reduce((collection, value) => {\n    if (criteria && !value.name.match(regex)) {\n      return collection;\n    }\n    const cells = tableColumns.map((col, i) => {\n      let constent = value[col.key];\n      switch (col.key) {\n        case 'name': \n          constent = value.name + (!value.ext && value.ext!=='~' ? `.${value.ext}` : '');\n          break;\n        case 'image':\n          constent = (\n            <ImageCell value={value} className={classes.imageContainer} />\n          );\n          break;\n        case 'nivel':\n          constent = (\n            <SelectCell\n              nivel={value.nivel}\n              identifier={value.ino.toString()}\n              disabled={value.updating}\n              onChange={(target) => onChangeSelect(target, value.index)}\n            />\n          );\n          break;\n        case 'lastModified':\n          constent = new Date(value[col.key] || value.birthtime).toLocaleString(\n            'es-VE'\n          );\n          break;\n        case '': {\n          const title = value.available ? 'Dar de baja' : 'Restaurar';\n          constent = (\n            <Tooltip title={title}>\n              <span>\n                <IconButton\n                  disabled={value.updating}\n                  aria-label=\"delete\"\n                  onClick={() => onClickTrash(value, value.index)}\n                >\n                  {value.available ? <CloudQueueIcon /> : <CloudOffIcon />}\n                </IconButton>\n              </span>\n            </Tooltip>\n          );\n          break;\n        }\n        default:\n          break;\n      }\n      const component = col.key === 'name' ? 'th' : 'td';\n      return (\n        <TableCell\n          component={component}\n          scope=\"row\"\n          className={!i || col.key === 'nivel' ? classes.p0 : ''}\n          align={col.align}\n          key={`col-${i}`}\n        >\n          {constent}\n        </TableCell>\n      );\n    });\n\n    const rowClass = () => {\n      switch (true) {\n        case value.updating:\n          return 'disabled';\n        case !value.available:\n          return 'suspended';\n        default:\n          return '';\n      }\n    };\n\n    const row = (\n      <TableRow className={rowClass()} key={value.ino}>\n        {cells}\n      </TableRow>\n    );\n    return [...collection, row];\n  }, []);\n  return <TableBody>{rows}</TableBody>;\n};\n\nconst ImageCell = ({ value, className }) => {\n  return (\n    <div className={className}>\n      <img\n        src={getIcon(value.isFile, value.ext)}\n        alt={value.ext}\n        width=\"24px\"\n      />\n    </div>\n  );\n};\n","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\nimport { handleFetch } from '../../SF/helpers';\nimport EnhancedEncryptionIcon from '@material-ui/icons/EnhancedEncryption';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport ChangePasswordDialog from './ChangePasswordDialog';\nimport {\n  useStyles,\n  SelectCell,\n  TableHeader,\n  ConfirmDialog,\n} from '../tableStyles';\nimport CloudQueueIcon from '@material-ui/icons/CloudQueue';\nimport CloudOffIcon from '@material-ui/icons/CloudOff';\n\nconst tableColumns = [\n  { key: 'id', label: 'ID', align: 'left' },\n  { key: 'usuario', label: 'Usuario', align: 'left' },\n  { key: 'nombre', label: 'Nombre', align: 'left' },\n  { key: 'nivel', label: 'Nivel', align: 'right' },\n  { key: 'desde', label: 'Miembro desde', align: 'right' },\n  { key: 'active', label: 'Estado', align: 'right' },\n  { key: '', label: '', align: 'right' },\n];\n\nconst initialState = {\n  userList: null,\n  changePassword: null,\n  userToSuspend: null,\n  shouldUpdate: false,\n};\n\n/** Reset type */\nconst reducer = (state, action) => {\n  return {\n    ...initialState,\n    userList: state.userList,\n    ...action,\n  };\n};\n\nconst UserTableContainer = ({\n  useTheme,\n  adminID,\n  onResponse,\n  loadingComponent,\n  criteria,\n}) => {\n  const classes = useStyles();\n\n  const [state, setState] = React.useReducer(reducer, {\n    ...initialState,\n    shouldUpdate: true,\n  });\n  const { userList, shouldUpdate } = state;\n\n  React.useEffect(() => {\n    if (!shouldUpdate) {\n      return;\n    }\n    const headers = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    };\n    setState({ shouldUpdate: false });\n    fetch(`/api/admin/users`, headers)\n      .then(handleFetch)\n      .then((users) => {\n        users = users.map((user, index) => ({\n          ...user,\n          short: user.id.slice(-5),\n          updating: adminID === user.id,\n          index,\n        }));\n        setState({ userList: users });\n      })\n      .catch((mistake) => {\n        onResponse({\n          key: new Date().getTime(),\n          type: 'error',\n          message: mistake.message,\n        });\n      });\n  }, [shouldUpdate, adminID, onResponse]);\n\n  if (!userList) {\n    return loadingComponent;\n  }\n\n  const setUpdate = (index, value = true) => {\n    const users = [...userList];\n    users[index].updating = value;\n    setState({ userList: users });\n  };\n\n  const toggleSuspend = (index) => {\n    const users = [...userList];\n    users[index].active = +!users[index].active;\n    users[index].updating = false;\n    setState({ userList: users });\n  };\n\n  const handleLevelChage = ({ name, value }, index) => {\n    setUpdate(index);\n    const headers = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n      body: JSON.stringify({ nivel: value }),\n    };\n\n    fetch(`/api/users/${name}`, headers)\n      .then(handleFetch)\n      .then((res) => {\n        setState({ shouldUpdate: true });\n        onResponse({\n          key: new Date().getTime(),\n          type: 'success',\n          message: res.response,\n        });\n      })\n      .catch((err) => {\n        setState({ shouldUpdate: true });\n        onResponse({\n          key: new Date().getTime(),\n          type: 'error',\n          message: err.message,\n        });\n      });\n  };\n\n  const handleChangePassword = (data) => {\n    if (!data) {\n      setState({ changePassword: null });\n      return;\n    }\n    setUpdate(data.index);\n\n    const headers = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n      body: JSON.stringify({ password: data.password }),\n    };\n\n    fetch(`/api/users/${data.userID}`, headers)\n      .then(handleFetch)\n      .then((res) => {\n        setUpdate(data.index, false);\n        onResponse({\n          key: new Date().getTime(),\n          type: 'success',\n          message: res.response,\n        });\n      })\n      .catch((err) => {\n        setUpdate(data.index, false);\n        onResponse({\n          key: new Date().getTime(),\n          type: 'error',\n          message: err.message,\n        });\n      });\n  };\n\n  const setHandlePassword = (user, index) => {\n    setState({ ...state, changePassword: { ...user, index } });\n  };\n\n  const handleSuspend = (closeEvent) => {\n    if (!closeEvent) {\n      setState({ userToSuspend: null });\n      return;\n    }\n    const user = { ...state.userToSuspend };\n    setUpdate(state.userToSuspend.index);\n\n    const headers = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n      body: JSON.stringify({ active: +!user.active }),\n    };\n\n    fetch(`/api/users/${user.id}`, headers)\n      .then(handleFetch)\n      .then((res) => {\n        toggleSuspend(user.index);\n        onResponse({\n          key: new Date().getTime(),\n          type: 'success',\n          message: res.response,\n        });\n      })\n      .catch((err) => {\n        setUpdate(state.userToSuspend.index, false);\n        onResponse({\n          key: new Date().getTime(),\n          type: 'error',\n          message: err.message,\n        });\n      });\n  };\n\n  const setSuspend = (user, index) => {\n    if (adminID === user.id) {\n      return;\n    }\n    setState({ ...state, userToSuspend: { ...user, index } });\n  };\n\n  const confirmText = () => {\n    if (!state.userToSuspend) {\n      return '';\n    }\n    if (state.userToSuspend.active) {\n      return `¿Seguro deseas suspender a ${state.userToSuspend.usuario}?`;\n    }\n    return `¿Seguro deseas reactivar la cuenta de ${state.userToSuspend.usuario}?`;\n  };\n\n  return (\n    <React.Fragment>\n      <TableContainer\n        className={classes.elevation0}\n        component={Paper}\n        color=\"primary\"\n      >\n        <Table stickyHeader className={useTheme ? classes.dark : classes.table}>\n          <TableHeader columns={tableColumns} />\n          <TableContent\n            classes={classes}\n            data={userList}\n            onChangeSelect={handleLevelChage}\n            onClickLock={setHandlePassword}\n            onClickTrash={setSuspend}\n            criteria={criteria}\n            key=\"12gey12\"\n          />\n        </Table>\n      </TableContainer>\n      <ChangePasswordDialog\n        user={state.changePassword}\n        handleClose={handleChangePassword}\n      />\n      <ConfirmDialog\n        open={state.userToSuspend}\n        handleClose={handleSuspend}\n        theme={useTheme}\n        text={confirmText()}\n      />\n    </React.Fragment>\n  );\n};\n\nexport default UserTableContainer;\n\nconst TableContent = ({\n  classes,\n  data,\n  onChangeSelect,\n  onClickLock,\n  onClickTrash,\n  criteria = '',\n}) => {\n  const regex = new RegExp(criteria, 'ig');\n  const content = data.reduce((collection, value) => {\n    const match =\n      value.usuario.match(regex) ||\n      value.nombre.match(regex) ||\n      value.apellido.match(regex);\n    if (criteria && !match) {\n      return collection;\n    }\n    const cells = tableColumns.map((col, i) => {\n      let constent = value[col.key];\n      switch (col.key) {\n        case 'id':\n          constent = value.short;\n          break;\n        case 'nivel':\n          constent = (\n            <SelectCell\n              nivel={value.nivel}\n              identifier={value.id}\n              disabled={value.updating}\n              onChange={(target) => onChangeSelect(target, value.index)}\n            />\n          );\n          break;\n        case 'active':\n          constent = value.active ? 'Activo' : 'Suspendido';\n          break;\n        case 'nombre':\n          constent = `${value.nombre} ${value.apellido}`;\n          break;\n        case '': {\n          const title = value.active\n            ? 'Suspender usuario'\n            : 'Reactivar usuario';\n          constent = (\n            <React.Fragment>\n              <Tooltip title=\"Cambiar contraseña\">\n                <span>\n                  <IconButton\n                    disabled={value.updating}\n                    aria-label=\"edit-password\"\n                    onClick={() => onClickLock(value, value.index)}\n                  >\n                    <EnhancedEncryptionIcon />\n                  </IconButton>\n                </span>\n              </Tooltip>\n              <Tooltip title={title}>\n                <span>\n                  <IconButton\n                    disabled={value.updating}\n                    aria-label=\"delete\"\n                    onClick={() => onClickTrash(value, value.index)}\n                  >\n                    {value.active ? <CloudQueueIcon /> : <CloudOffIcon />}\n                  </IconButton>\n                </span>\n              </Tooltip>\n            </React.Fragment>\n          );\n          break;\n        }\n        default:\n          break;\n      }\n      const component =\n        col.key === 'nombre' || col.key === 'usuario' ? 'th' : 'td';\n      return (\n        <TableCell\n          component={component}\n          scope=\"row\"\n          className={col.key === 'nivel' ? classes.p0 : ''}\n          align={col.align}\n          key={`col-${i}-${value.ino}`}\n        >\n          {constent}\n        </TableCell>\n      );\n    });\n\n    const rowClass = () => {\n      switch (true) {\n        case value.updating:\n          return 'disabled';\n        case !value.active:\n          return 'suspended';\n        default:\n          return '';\n      }\n    };\n\n    const row = (\n      <TableRow className={rowClass()} key={`row-${value.id}`}>\n        {cells}\n      </TableRow>\n    );\n    return [...collection, row];\n  }, []);\n  return <TableBody>{content}</TableBody>;\n};\n","import Box from '@material-ui/core/Box';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Card from '@material-ui/core/Card';\nimport Grid from '@material-ui/core/Grid';\nimport CardContent from '@material-ui/core/CardContent';\nimport Divider from '@material-ui/core/Divider';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport { makeStyles } from '@material-ui/core';\nimport React from 'react';\n\nconst useStyles = makeStyles(() => ({\n  report: {\n    width: '100%',\n    '& .MuiCard-root': {\n      margin: '1rem',\n    },\n    '& .MuiCardContent-root': {\n      padding: 0,\n    },\n    '& .MuiList-root': {\n      backgroundColor: 'transparent !important',\n      boxShadow: 'none',\n    },\n    '& .MuiGrid-root': {\n      padding: 10,\n    },\n  },\n}));\n\nconst options = [\n  {\n    url: 'files/report',\n    filename: 'reporte_archivos',\n    index: 1,\n  },\n  {\n    url: 'files/downloaded',\n    filename: 'reporte_descargas',\n    index: 2,\n  },\n  {\n    url: 'files/read',\n    filename: 'reporte_solicitudes',\n    index: 3,\n  },\n  {\n    url: 'users/activity',\n    filename: 'reporte_logs',\n    index: 4,\n  },\n];\n\nconst Reports = () => {\n  const classes = useStyles();\n  const [selected, select] = React.useState(0);\n\n  const generateFile = ({ url, filename, index }) => {\n    if (selected) {\n      return;\n    }\n    select(index);\n    const headers = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    };\n\n    fetch(`/api/admin/${url}`, headers)\n      .then((response) => response.blob())\n      .then((blob) => {\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = `${filename}.pdf`;\n        document.body.appendChild(a);\n        // we need to append the element to the dom -> otherwise it will not work in firefox\n        a.click();\n        a.remove();\n        select(0);\n        //afterwards we remove the element again\n      });\n  };\n\n  const spinner = () => {\n    if (!selected) {\n      return '';\n    }\n    return (\n      <Grid container justify=\"center\" alignItems=\"center\">\n        <CircularProgress size={40} thickness={5} />\n      </Grid>\n    );\n  };\n\n  return (\n    <Box\n      textAlign=\"center\"\n      display=\"flex\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      className={`${classes.report} min-h100`}\n    >\n      <Card>\n        <CardContent>\n          <List\n            subheader={\n              <ListSubheader component=\"div\" id=\"subheader\">\n                Reportes\n              </ListSubheader>\n            }\n          >\n            <ListItem\n              button\n              selected={selected === 1}\n              onClick={() => generateFile(options[0])}\n            >\n              <ListItemText\n                primary=\"Reporte de archivos\"\n                secondary={\n                  'Resumen de todos los archivos en el servidor, quien los subió y cuando'\n                }\n              />\n            </ListItem>\n            <Divider />\n            <ListItem\n              button\n              selected={selected === 2}\n              onClick={() => generateFile(options[1])}\n            >\n              <ListItemText\n                primary=\"Historial de descargas\"\n                secondary={\n                  'Registro de todas las descargas solicitadas por usuarios'\n                }\n              />\n            </ListItem>\n            <Divider />\n            <ListItem\n              button\n              selected={selected === 3}\n              onClick={() => generateFile(options[2])}\n            >\n              <ListItemText\n                primary=\"Historial de solicitudes\"\n                secondary={\n                  'Registro de las solicitudes de archivos por parte de los usuarios'\n                }\n              />\n            </ListItem>\n            <Divider />\n            <ListItem\n              button\n              selected={selected === 4}\n              onClick={() => generateFile(options[3])}\n            >\n              <ListItemText\n                primary=\"Logs\"\n                secondary={'Detalles de los ingresos al sistema'}\n              />\n            </ListItem>\n            <Divider />\n          </List>\n          {spinner()}\n        </CardContent>\n      </Card>\n    </Box>\n  );\n};\n\nexport default Reports;\n","import { makeStyles, useTheme } from '@material-ui/core';\nimport Avatar from '@material-ui/core/Avatar';\nimport Box from '@material-ui/core/Box';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Typography from '@material-ui/core/Typography';\nimport AssignmentIcon from '@material-ui/icons/Assignment';\n/**Icons */\nimport AssignmentIndIcon from '@material-ui/icons/AssignmentInd';\nimport FolderSpecialIcon from '@material-ui/icons/FolderSpecial';\nimport HowToRegIcon from '@material-ui/icons/HowToReg';\nimport ListAltIcon from '@material-ui/icons/ListAlt';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport React, { useContext } from 'react';\nimport { Route, Switch, useLocation } from 'react-router-dom';\nimport { saduwux } from '../SF/Context';\nimport { reactLink } from '../SF/helpers';\nimport Details from './Details';\nimport FilesTableContainer from './Files/FilesTable';\nimport UsersTableContainer from './Users/UsersTable';\nimport Reports from './Reports/Reports';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    display: 'grid',\n    [theme.breakpoints.down('xs')]: {\n      display: 'flex',\n      width: '100%',\n      '& .MuiBox-root': {\n        width: '100%',\n      },\n    },\n    gridTemplateColumns: '250px 1fr',\n    height: '100%',\n    overflow: 'auto',\n    '& .spinner-container': {\n      minHeight: '100%',\n      minWidth: '100%',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n    },\n    '& .right-column': {\n      height: '100%',\n      overflow: 'auto',\n    },\n    '& .MuiList-root': {\n      boxShadow: '5px 0 5px -5px #333',\n      width: '100%',\n      height: '100%',\n      oveflow: 'auto',\n      zIndex: '10',\n      '& .MuiAvatar-root': {\n        backgroundColor: 'transparent',\n      },\n      '& .MuiSvgIcon-root': {\n        fontSize: '40px',\n      },\n      '& .MuiListItem-root:hover': {\n        backgroundColor: 'rgba(0,0,0,0.3)',\n      },\n      '& .MuiListSubheader-root': {\n        position: 'static',\n        fontWeight: '500',\n        fontSize: '18px',\n        color: '#000',\n        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n      },\n    },\n  },\n  dim: {\n    backgroundColor: '#fff9c4',\n    '& .MuiList-root': {\n      backgroundColor: '#ffa726',\n      '& .MuiSvgIcon-root': {\n        color: '#000',\n      },\n    },\n    '& .MuiCircularProgress-colorPrimary': {\n      color: '#4caf50',\n    },\n  },\n  dark: {\n    backgroundColor: '#393d46',\n    '& .MuiList-root': {\n      backgroundColor: '#666',\n      color: '#fff',\n      '& .MuiSvgIcon-root': {\n        color: '#fff',\n      },\n      '& .MuiListSubheader-root': {\n        color: '#fff',\n        borderBottomColor: '#cecece',\n      },\n    },\n    '& .MuiCircularProgress-colorPrimary': {\n      color: '#fff',\n    },\n  },\n  card: {\n    height: '100%',\n    borderRadius: 0,\n    '&>*': {\n      overflow: 'hidden auto',\n      height: '100%',\n    },\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n}));\n\nconst routes = [\n  {\n    link: `/archivos/detalles`,\n    component: AssignmentIcon,\n    primaryText: 'Detalles de archivos',\n    helperText: 'Ver resumen de los archivos',\n  },\n  {\n    link: `/archivos/lista`,\n    component: FolderSpecialIcon,\n    primaryText: 'Administrar Archivos',\n    helperText: 'Modificar estatus de los archivos',\n  },\n  {\n    link: `/usuarios/detalles`,\n    component: AssignmentIndIcon,\n    primaryText: 'Detalles de usuarios',\n    helperText: 'Ver resumen de los usuarios',\n  },\n  {\n    link: `/usuarios/lista`,\n    component: HowToRegIcon,\n    primaryText: 'Administrar usuarios',\n    helperText: 'Modificar estatus de los usuarios',\n  },\n  {\n    link: `/reportes`,\n    component: ListAltIcon,\n    primaryText: 'Reportes',\n    helperText: 'Descargar reportes en formato PDF',\n  },\n];\n\nconst reducer = (state, action) => ({ ...state, ...action });\n\nconst Admin = (props) => {\n  const { window } = props;\n  const classes = useStyles();\n  const location = useLocation();\n  const theme = useTheme();\n  const { state: globalState, dispatch } = useContext(saduwux);\n\n  const [state, setState] = React.useReducer(reducer, {\n    selectedIndex: 0,\n    snackPack: [],\n    open: false,\n    messageInfo: undefined,\n  });\n\n  React.useEffect(() => {\n    const x = routes.findIndex((route) => {\n      const link = props.match.path + route.link;\n      return location.pathname === link;\n    });\n    setState({ selectedIndex: x });\n  }, [location.pathname, props.match.path]);\n\n  React.useEffect(() => {\n    if (state.snackPack.length && !state.messageInfo) {\n      // Set a new snack when we don't have an active one\n      setState({\n        messageInfo: { ...state.snackPack[0] },\n        snackPack: state.snackPack.slice(1),\n        open: true,\n      });\n    } else if (state.snackPack.length && state.open) {\n      // Close an active snack when a new one is added\n      setState({ open: false, messageInfo: undefined });\n    }\n  }, [state]);\n\n  const addBar = (data) => {\n    setState({\n      snackPack: [\n        ...state.snackPack,\n        {\n          key: new Date().getTime(),\n          type: data.type,\n          message: data.message,\n        },\n      ],\n    });\n  };\n\n  const closeBar = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setState({ open: false, messageInfo: undefined });\n  };\n\n  const exitBar = () => {\n    setState({ messageInfo: undefined });\n  };\n\n  const mainClass = () => {\n    let className = classes.main;\n    className += !globalState.theme ? ` ${classes.dim}` : ` ${classes.dark}`;\n    return className;\n  };\n\n  const listItems = () => {\n    return (\n      <List\n        subheader={\n          <ListSubheader component=\"div\" id=\"subheader\">\n            Configuraciones\n          </ListSubheader>\n        }\n      >\n        {routes.map((route, index) => (\n          <React.Fragment key={index}>\n            <ListItem\n              button\n              component={reactLink}\n              to={props.match.path + route.link}\n              selected={state.selectedIndex === index}\n              onClick={() => handleDrawerToggle()}\n            >\n              <ListItemAvatar>\n                <Avatar>\n                  <route.component />\n                </Avatar>\n              </ListItemAvatar>\n              <ListItemText\n                primary={route.primaryText}\n                secondary={route.helperText}\n              />\n            </ListItem>\n            <Divider />\n          </React.Fragment>\n        ))}\n      </List>\n    );\n  };\n\n  const container =\n    window !== undefined ? () => window().document.body : undefined;\n\n  const handleDrawerToggle = () => {\n    dispatch({ type: 'update', payload: { mobileOpen: false } });\n  };\n\n  const spinner = <Spinner useDark={globalState.theme} />;\n\n  return (\n    <Box component=\"main\" display=\"flex\" className={mainClass()}>\n      <Hidden smUp implementation=\"css\">\n        <Drawer\n          container={container}\n          variant=\"temporary\"\n          anchor={(theme.direction = 'right')}\n          open={globalState.mobileOpen}\n          onClose={handleDrawerToggle}\n          ModalProps={{\n            keepMounted: true, // Better open performance on mobile.\n          }}\n          classes={{\n            paper: classes.drawerPaper,\n          }}\n        >\n          {listItems()}\n        </Drawer>\n      </Hidden>\n      <Hidden xsDown implementation=\"css\">\n        <Drawer\n          className={`min-h100`}\n          classes={{\n            paper: `position-static`,\n          }}\n          variant=\"permanent\"\n          open\n        >\n          {listItems()}\n        </Drawer>\n      </Hidden>\n      <Box component=\"div\" className=\"right-column\">\n        <Switch>\n          <Route exact path={props.match.path} component={WelcomeAdmin} />\n          <Route\n            path={`${props.match.path}/archivos/lista`}\n            render={() => (\n              <FilesTableContainer\n                useTheme={globalState.theme}\n                criteria={globalState.search}\n                onResponse={addBar}\n                loadingComponent={spinner}\n              />\n            )}\n          />\n          <Route\n            path={`${props.match.path}/archivos/detalles`}\n            render={() => (\n              <Details\n                key=\"files\"\n                dark={globalState.theme}\n                onResponse={addBar}\n                loadingComponent={spinner}\n              />\n            )}\n          />\n          <Route\n            path={`${props.match.path}/usuarios/lista`}\n            render={() => (\n              <UsersTableContainer\n                useTheme={globalState.theme}\n                adminID={globalState.user.id}\n                criteria={globalState.search}\n                onResponse={addBar}\n                loadingComponent={spinner}\n              />\n            )}\n          />\n          <Route\n            path={`${props.match.path}/usuarios/detalles`}\n            render={() => (\n              <Details\n                key=\"users\"\n                dark={globalState.theme}\n                type=\"users\"\n                onResponse={addBar}\n                loadingComponent={spinner}\n              />\n            )}\n          />\n          <Route path={`${props.match.path}/reportes`} component={Reports} />\n        </Switch>\n      </Box>\n      <RequestSnack\n        onClose={closeBar}\n        onExit={exitBar}\n        data={state.messageInfo}\n        open={state.open}\n      />\n    </Box>\n  );\n};\n\nexport default Admin;\n\nconst WelcomeAdmin = () => {\n  return (\n    <Box\n      textAlign=\"center\"\n      display=\"flex\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      className=\"min-h100\"\n      style={{ width: '100%' }}\n    >\n      <Card>\n        <CardContent style={{ paddingBottom: '0px' }}>\n          <Typography variant=\"h5\" component=\"h2\">\n            ¡Bienvenido!\n          </Typography>\n          <Typography variant=\"body2\" component=\"p\">\n            Desde esta página puedes gestionar el contenido de Cloudster.\n          </Typography>\n          <Typography variant=\"body2\" component=\"p\">\n            Procede con precaución.\n          </Typography>\n\n          <WarningIcon style={{ marginTop: '1rem', fontSize: '100px' }} />\n        </CardContent>\n      </Card>\n    </Box>\n  );\n};\n\nconst Spinner = () => {\n  return (\n    <div className=\"spinner-container\">\n      <CircularProgress size={100} thickness={5} />\n    </div>\n  );\n};\n\nconst RequestSnack = ({ onClose, onExit, open, data }) => {\n  if (!open) {\n    return '';\n  }\n  const { message, type, key } = data;\n  return (\n    <Snackbar\n      key={key || 'asdgaryisthebest'}\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'right',\n      }}\n      open={open}\n      onClose={onClose}\n      onExited={onExit}\n      autoHideDuration={2000}\n    >\n      <MuiAlert\n        severity={type || 'success'}\n        elevation={6}\n        variant=\"filled\"\n        onClose={onClose}\n      >\n        {message}\n      </MuiAlert>\n    </Snackbar>\n  );\n};\n","import React, { useContext } from 'react';\nimport { saduwux } from '../SF/Context';\nimport { Redirect, Route } from 'react-router-dom';\n\nconst ProtectedRoute = ({\n  requireAdmin = false,\n  requireLogin = true,\n  redirectTo = '/notlogged',\n  ...props\n}) => {\n  const { state } = useContext(saduwux);\n  const getComponent = () => {\n    if (requireLogin && !state.logStatus) {\n      return (\n        <Route>\n          <Redirect to={redirectTo} />\n        </Route>\n      );\n    }\n    if (requireAdmin && state.user.nivel < 5) {\n      return (\n        <Route>\n          <Redirect to='/busqueda' />\n        </Route>\n      );\n    }\n    return <Route {...props} />;\n  };\n\n  return getComponent();\n};\n\nexport default ProtectedRoute;\n","import './App.css';\nimport React, { useContext } from 'react';\n\n/** Material */\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport green from '@material-ui/core/colors/green';\nimport orange from '@material-ui/core/colors/orange';\nimport {\n  createMuiTheme,\n  makeStyles,\n  ThemeProvider,\n} from '@material-ui/core/styles';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\n\n/** Componentes */\nimport RequireLogin from './components/Err/RequireLogin';\nimport Search from './components/Files/Search';\nimport Login from './components/Login/Login';\nimport Recover from './components/Login/Recover';\nimport Profile from './components/Profile/Profile';\nimport ProfileSettings from './components/Profile/ProfileSettings';\nimport Register from './components/Register/Register';\nimport Reproductor from './components/Reproductor/Reproductor';\nimport Sidebar from './components/Sidebar/Sidebar';\nimport TopBar from './components/TopBar/TopBar';\nimport NotFound from './components/Err/NotFound';\nimport Admin from './components/Admin/Admin';\n\n/** Auxiliares */\nimport { saduwux } from './components/SF/Context';\nimport { handleFetch } from './components/SF/helpers';\nimport ProtectedRoute from './components/SF/ProtectedRoute';\nimport backgroundimg4 from './components/SF/Media/background_study_by_hibelton_dc28kuo-fullview.jpg';\n\nconst useStyles = makeStyles((theme) => ({\n  toolbar: theme.mixins.toolbar,\n  // main: { display: 'flex', minWidth: '100%', flexGrow: 1, position: 'relaive' },\n  theme: {\n    backgroundColor: theme.palette.background.default,\n    color: theme.palette.text.primary,\n  },\n  fullBackg: {\n    backgroundImage: `url(${backgroundimg4})`,\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? '#cecece' : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n  },\n  dark: {\n    backgroundColor: '#393d46',\n  },\n  dim: {\n    backgroundColor: '#fff9c4',\n  }\n}));\n\nconst prins = createMuiTheme({\n  typography: {\n    h2: {\n      fontSize: '3.75rem',\n      fontWeight: 300,\n      lineHeight: 1.2,\n      letterSpacing: '-0.00833em',\n      fontFamily: ['Roboto', 'Helvetica', 'Arial', 'sans-serif'],\n      '@media (min-width:600px)': {\n        fontSize: '3.75rem',\n      },\n      '@media (min-width:0px)': {\n        fontSize: '3.25rem',\n      },\n    },\n    h4: {\n      fontSize: '2.15rem',\n      fontWeight: 400,\n      lineHeight: 1.235,\n      letterSpacing: '0.00735em',\n      fontFamily: ['Roboto', 'Helvetica', 'Arial', 'sans-serif'],\n      '@media (min-width:600px)': {\n        fontSize: '2.15rem',\n      },\n      '@media (min-width:0px)': {\n        fontSize: '1.75rem',\n      },\n    },\n  },\n  palette: {\n    primary: { main: green[500] },\n    secondary: { main: orange[400] },\n    textPrimary: { main: '#FFF' },\n  },\n});\n\nconst dark = createMuiTheme({\n  typography: {\n    h2: {\n      fontSize: '3.75rem',\n      fontWeight: 300,\n      lineHeight: 1.2,\n      letterSpacing: '-0.00833em',\n      fontFamily: ['Roboto', 'Helvetica', 'Arial', 'sans-serif'],\n      '@media (min-width:600px)': {\n        fontSize: '3.75rem',\n      },\n      '@media (min-width:0px)': {\n        fontSize: '3.25rem',\n      },\n    },\n    h4: {\n      fontSize: '2.15rem',\n      fontWeight: 400,\n      lineHeight: 1.235,\n      letterSpacing: '0.00735em',\n      fontFamily: ['Roboto', 'Helvetica', 'Arial', 'sans-serif'],\n      '@media (min-width:600px)': {\n        fontSize: '2.15rem',\n      },\n      '@media (min-width:0px)': {\n        fontSize: '1.75rem',\n      },\n    },\n  },\n  palette: {\n    type: 'dark',\n    primary: { main: '#424242' },\n    secondary: { main: '#252525' },\n    primaryText: { main: '#FFF' },\n  },\n});\n\n/**\n * Checks if the token inside the local storage is valid\n * and if it is retrieves the user\n * @param {function} cb callback function\n */\nconst useFetchUser = (cb) => {\n  const didMount = React.useRef(false);\n  React.useEffect(() => {\n    if (!didMount.current) {\n      cb();\n      didMount.current = true;\n    }\n  });\n};\n\nconst App = () => {\n  const classes = useStyles();\n  const { state, dispatch } = useContext(saduwux);\n  const cleanState = () => {\n    localStorage.clear();\n    dispatch({\n      type: 'update',\n      payload: {\n        logStatus: 0,\n        theme: false\n      }\n    });\n  }\n\n  /** Verificacion de token on init */\n  useFetchUser(() => {\n    const token = localStorage.getItem('token');\n    const usingDark = localStorage.getItem('theme');\n    if (!token) {\n      cleanState();\n      return;\n    }\n\n    fetch(`/api/users/token`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token'),\n      },\n    })\n      .then(handleFetch)\n      .then((res) => {\n        dispatch({\n          type: 'login',\n          payload: {\n            user: res,\n            theme: Boolean(usingDark)\n          }\n        })\n      })\n      .catch(cleanState);\n  });\n\n  const switchView = () => {\n    return (\n      <div\n        className={`container ${state.theme ? classes.dark : classes.dim}\n        ${!state.logStatus ? 'initial-height' : ''}`}\n      >\n        <Route\n          component={TopBar}\n          path={[\n            '/perfil',\n            '/configuracion',\n            '/busqueda',\n            '/transfers',\n            '/reproductor',\n            '/admin',\n          ]}\n        />\n        <Route\n          component={Sidebar}\n          path={[\n            '/perfil',\n            '/configuracion',\n            '/busqueda',\n            '/transfers',\n            '/reproductor',\n            '/admin',\n          ]}\n        />\n\n        <Switch>\n          <Route exact path=\"/\" render={() => <Redirect to='/login'/>} />\n          <Route\n            className={classes.fullBackg}\n            exact\n            path=\"/login\"\n            component={Login}\n          />\n          <Route\n            className={classes.fullBackg}\n            exact\n            path=\"/recover\"\n            component={Recover}\n          />\n          <Route\n            className={classes.fullBackg}\n            exact\n            path=\"/register\"\n            component={Register}\n          />\n          <Route exact path=\"/notlogged\" component={RequireLogin} />\n          <ProtectedRoute\n            exact\n            path=\"/reproductor\"\n            component={Reproductor}\n          />\n          <ProtectedRoute exact path=\"/busqueda\" component={Search} />\n          <ProtectedRoute exact path=\"/perfil\" component={Profile} />\n          <ProtectedRoute\n            exact\n            path=\"/configuracion\"\n            component={ProfileSettings}\n          />\n          <ProtectedRoute requireAdmin path=\"/admin\" component={Admin} />\n          <Route path='/404' component={NotFound} />\n          <Redirect from='*' to='/404' />\n        </Switch>\n      </div>\n    );\n  };\n\n  if (state.logStatus === 1) {\n    const tempStyle = () => ({\n      minHeight: '100%',\n      minWidth: '100%',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n    });\n    return (\n      <div style={tempStyle()}>\n        <CircularProgress size={100} thickness={5} />\n      </div>\n    );\n  }\n\n  return (\n    <ThemeProvider theme={!state.theme ? prins : dark}>\n      <BrowserRouter basename=\"/app\">{switchView()}</BrowserRouter>\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { StoreProvider } from './components/SF/Context';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <StoreProvider>\n    <App />\n  </StoreProvider>,\n  document.getElementById('root')\n);\n\nserviceWorker.register();\n"],"sourceRoot":""}